exports.id=778,exports.ids=[778],exports.modules={30:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.RoutingTable=e.Rediscovery=void 0;var o=r(n(8796));e.Rediscovery=o.default,e.RoutingTable=r(n(5729)).default,e.default=o.default},185:function(t,e){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(t){this.position=0,this.length=t}return t.prototype.getUInt8=function(t){throw Error("Not implemented")},t.prototype.getInt8=function(t){throw Error("Not implemented")},t.prototype.getFloat64=function(t){throw Error("Not implemented")},t.prototype.putUInt8=function(t,e){throw Error("Not implemented")},t.prototype.putInt8=function(t,e){throw Error("Not implemented")},t.prototype.putFloat64=function(t,e){throw Error("Not implemented")},t.prototype.getInt16=function(t){return this.getInt8(t)<<8|this.getUInt8(t+1)},t.prototype.getUInt16=function(t){return this.getUInt8(t)<<8|this.getUInt8(t+1)},t.prototype.getInt32=function(t){return this.getInt8(t)<<24|this.getUInt8(t+1)<<16|this.getUInt8(t+2)<<8|this.getUInt8(t+3)},t.prototype.getUInt32=function(t){return this.getUInt8(t)<<24|this.getUInt8(t+1)<<16|this.getUInt8(t+2)<<8|this.getUInt8(t+3)},t.prototype.getInt64=function(t){return this.getInt8(t)<<56|this.getUInt8(t+1)<<48|this.getUInt8(t+2)<<40|this.getUInt8(t+3)<<32|this.getUInt8(t+4)<<24|this.getUInt8(t+5)<<16|this.getUInt8(t+6)<<8|this.getUInt8(t+7)},t.prototype.getSlice=function(t,e){return new i(t,e,this)},t.prototype.putInt16=function(t,e){this.putInt8(t,e>>8),this.putUInt8(t+1,255&e)},t.prototype.putUInt16=function(t,e){this.putUInt8(t,e>>8&255),this.putUInt8(t+1,255&e)},t.prototype.putInt32=function(t,e){this.putInt8(t,e>>24),this.putUInt8(t+1,e>>16&255),this.putUInt8(t+2,e>>8&255),this.putUInt8(t+3,255&e)},t.prototype.putUInt32=function(t,e){this.putUInt8(t,e>>24&255),this.putUInt8(t+1,e>>16&255),this.putUInt8(t+2,e>>8&255),this.putUInt8(t+3,255&e)},t.prototype.putInt64=function(t,e){this.putInt8(t,e>>48),this.putUInt8(t+1,e>>42&255),this.putUInt8(t+2,e>>36&255),this.putUInt8(t+3,e>>30&255),this.putUInt8(t+4,e>>24&255),this.putUInt8(t+5,e>>16&255),this.putUInt8(t+6,e>>8&255),this.putUInt8(t+7,255&e)},t.prototype.putBytes=function(t,e){for(var n=0,r=e.remaining();n<r;n++)this.putUInt8(t+n,e.readUInt8())},t.prototype.readUInt8=function(){return this.getUInt8(this._updatePos(1))},t.prototype.readInt8=function(){return this.getInt8(this._updatePos(1))},t.prototype.readUInt16=function(){return this.getUInt16(this._updatePos(2))},t.prototype.readUInt32=function(){return this.getUInt32(this._updatePos(4))},t.prototype.readInt16=function(){return this.getInt16(this._updatePos(2))},t.prototype.readInt32=function(){return this.getInt32(this._updatePos(4))},t.prototype.readInt64=function(){return this.getInt32(this._updatePos(8))},t.prototype.readFloat64=function(){return this.getFloat64(this._updatePos(8))},t.prototype.writeUInt8=function(t){this.putUInt8(this._updatePos(1),t)},t.prototype.writeInt8=function(t){this.putInt8(this._updatePos(1),t)},t.prototype.writeInt16=function(t){this.putInt16(this._updatePos(2),t)},t.prototype.writeInt32=function(t){this.putInt32(this._updatePos(4),t)},t.prototype.writeUInt32=function(t){this.putUInt32(this._updatePos(4),t)},t.prototype.writeInt64=function(t){this.putInt64(this._updatePos(8),t)},t.prototype.writeFloat64=function(t){this.putFloat64(this._updatePos(8),t)},t.prototype.writeBytes=function(t){this.putBytes(this._updatePos(t.remaining()),t)},t.prototype.readSlice=function(t){return this.getSlice(this._updatePos(t),t)},t.prototype._updatePos=function(t){var e=this.position;return this.position+=t,e},t.prototype.remaining=function(){return this.length-this.position},t.prototype.hasRemaining=function(){return this.remaining()>0},t.prototype.reset=function(){this.position=0},t.prototype.toString=function(){return this.constructor.name+"( position="+this.position+" )\n  "+this.toHex()},t.prototype.toHex=function(){for(var t="",e=0;e<this.length;e++){var n=this.getUInt8(e).toString(16);1===n.length&&(n="0"+n),t+=n,e!==this.length-1&&(t+=" ")}return t},t}();e.default=o;var i=function(t){function e(e,n,r){var o=t.call(this,n)||this;return o._start=e,o._inner=r,o}return r(e,t),e.prototype.putUInt8=function(t,e){this._inner.putUInt8(this._start+t,e)},e.prototype.getUInt8=function(t){return this._inner.getUInt8(this._start+t)},e.prototype.putInt8=function(t,e){this._inner.putInt8(this._start+t,e)},e.prototype.putFloat64=function(t,e){this._inner.putFloat64(this._start+t,e)},e.prototype.getInt8=function(t){return this._inner.getInt8(this._start+t)},e.prototype.getFloat64=function(t){return this._inner.getFloat64(this._start+t)},e}(o)},188:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(s,u)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){var c=[i,u];if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){s=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){s.label=c[1];break}if(6===c[0]&&s.label<o[1]){s.label=o[1],o=c;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(c);break}o[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(8439),u=n(990),c=n(5849),a=i(n(9719)),l=i(n(1864)),f=n(549),h=n(2485),p=n(8200),d=n(8174),b=n(5405);e.default=function(){function t(t){var e,n,r=t.mode,o=t.connectionProvider,i=t.bookmark,s=t.database,u=t.config,c=t.reactive,a=t.fetchSize,l=t.impersonatedUser;this._mode=r,this._database=s,this._reactive=c,this._fetchSize=a,this._onDatabaseNameResolved=this._onDatabaseNameResolved.bind(this),this._readConnectionHolder=new f.ConnectionHolder({mode:h.ACCESS_MODE_READ,database:s,bookmark:i,connectionProvider:o,impersonatedUser:l,onDatabaseNameResolved:this._onDatabaseNameResolved}),this._writeConnectionHolder=new f.ConnectionHolder({mode:h.ACCESS_MODE_WRITE,database:s,bookmark:i,connectionProvider:o,impersonatedUser:l,onDatabaseNameResolved:this._onDatabaseNameResolved}),this._open=!0,this._hasTx=!1,this._impersonatedUser=l,this._lastBookmark=i||d.Bookmark.empty(),this._transactionExecutor=(n=(e=u)&&e.maxTransactionRetryTime?e.maxTransactionRetryTime:null,new p.TransactionExecutor(n)),this._onComplete=this._onCompleteCallback.bind(this),this._databaseNameResolved=""!==this._database}return t.prototype.run=function(t,e,n){var r=this,o=(0,u.validateQueryAndParameters)(t,e),i=o.validatedQuery,s=o.params,c=n?new b.TxConfig(n):b.TxConfig.empty();return this._run(i,s,function(t){return r._assertSessionIsOpen(),t.protocol().run(i,s,{bookmark:r._lastBookmark,txConfig:c,mode:r._mode,database:r._database,impersonatedUser:r._impersonatedUser,afterComplete:r._onComplete,reactive:r._reactive,fetchSize:r._fetchSize})})},t.prototype._run=function(t,e,n){var r,o=this._connectionHolderWithMode(this._mode);return r=this._open?!this._hasTx&&o.initializeConnection()?o.getConnection().then(function(t){return n(t)}).catch(function(t){return Promise.resolve(new s.FailedObserver({error:t}))}):Promise.resolve(new s.FailedObserver({error:(0,c.newError)("Queries cannot be run directly on a session with an open transaction; either run from within the transaction or use a different session.")})):Promise.resolve(new s.FailedObserver({error:(0,c.newError)("Cannot run query in a closed session.")})),new a.default(r,t,e,o)},t.prototype._acquireConnection=function(t){return r(this,void 0,void 0,function(){var e,n,i=this;return o(this,function(e){return n=this._connectionHolderWithMode(this._mode),[2,this._open?!this._hasTx&&n.initializeConnection()?n.getConnection().then(function(e){return t(e)}).then(function(t){return r(i,void 0,void 0,function(){return o(this,function(e){switch(e.label){case 0:return[4,n.releaseConnection()];case 1:return e.sent(),[2,t]}})})}):Promise.reject((0,c.newError)("Queries cannot be run directly on a session with an open transaction; either run from within the transaction or use a different session.")):Promise.reject((0,c.newError)("Cannot run query in a closed session."))]})})},t.prototype.beginTransaction=function(t){var e=b.TxConfig.empty();return t&&(e=new b.TxConfig(t)),this._beginTransaction(this._mode,e)},t.prototype._beginTransaction=function(e,n){if(!this._open)throw(0,c.newError)("Cannot begin a transaction on a closed session.");if(this._hasTx)throw(0,c.newError)("You cannot begin a transaction on a session with an open transaction; either run from within the transaction or use a different session.");var r=t._validateSessionMode(e),o=this._connectionHolderWithMode(r);o.initializeConnection(),this._hasTx=!0;var i=new l.default({connectionHolder:o,impersonatedUser:this._impersonatedUser,onClose:this._transactionClosed.bind(this),onBookmark:this._updateBookmark.bind(this),onConnection:this._assertSessionIsOpen.bind(this),reactive:this._reactive,fetchSize:this._fetchSize});return i._begin(this._lastBookmark,n),i},t.prototype._assertSessionIsOpen=function(){if(!this._open)throw(0,c.newError)("You cannot run more transactions on a closed session.")},t.prototype._transactionClosed=function(){this._hasTx=!1},t.prototype.lastBookmark=function(){return this._lastBookmark.values()},t.prototype.readTransaction=function(t,e){var n=new b.TxConfig(e);return this._runTransaction(h.ACCESS_MODE_READ,n,t)},t.prototype.writeTransaction=function(t,e){var n=new b.TxConfig(e);return this._runTransaction(h.ACCESS_MODE_WRITE,n,t)},t.prototype._runTransaction=function(t,e,n){var r=this;return this._transactionExecutor.execute(function(){return r._beginTransaction(t,e)},n)},t.prototype._onDatabaseNameResolved=function(t){if(!this._databaseNameResolved){var e=t||"";this._database=e,this._readConnectionHolder.setDatabase(e),this._writeConnectionHolder.setDatabase(e),this._databaseNameResolved=!0}},t.prototype._updateBookmark=function(t){t&&!t.isEmpty()&&(this._lastBookmark=t)},t.prototype.close=function(){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:if(!this._open)return[3,3];return this._open=!1,this._transactionExecutor.close(),[4,this._readConnectionHolder.close()];case 1:return t.sent(),[4,this._writeConnectionHolder.close()];case 2:t.sent(),t.label=3;case 3:return[2]}})})},t.prototype._connectionHolderWithMode=function(t){if(t===h.ACCESS_MODE_READ)return this._readConnectionHolder;if(t===h.ACCESS_MODE_WRITE)return this._writeConnectionHolder;throw(0,c.newError)("Unknown access mode: "+t)},t.prototype._onCompleteCallback=function(t){this._updateBookmark(new d.Bookmark(t.bookmark))},t._validateSessionMode=function(t){var e=t||h.ACCESS_MODE_WRITE;if(e!==h.ACCESS_MODE_READ&&e!==h.ACCESS_MODE_WRITE)throw(0,c.newError)("Illegal session mode "+e);return e},t}()},260:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPathSegment=e.PathSegment=e.isPath=e.Path=e.isUnboundRelationship=e.UnboundRelationship=e.isRelationship=e.Relationship=e.isNode=e.Node=void 0;var r=n(360),o={value:!0,enumerable:!1,configurable:!1,writable:!1},i="__isNode__",s="__isRelationship__",u="__isUnboundRelationship__",c="__isPath__",a="__isPathSegment__";function l(t,e){return!0===(t&&t[e])}var f=function(){function t(t,e,n){this.identity=t,this.labels=e,this.properties=n}return t.prototype.toString=function(){for(var t="("+this.identity,e=0;e<this.labels.length;e++)t+=":"+this.labels[e];var n=Object.keys(this.properties);if(n.length>0){t+=" {";for(var e=0;e<n.length;e++)e>0&&(t+=","),t+=n[e]+":"+(0,r.stringify)(this.properties[n[e]]);t+="}"}return t+")"},t}();e.Node=f,Object.defineProperty(f.prototype,i,o),e.isNode=function(t){return l(t,i)};var h=function(){function t(t,e,n,r,o){this.identity=t,this.start=e,this.end=n,this.type=r,this.properties=o}return t.prototype.toString=function(){var t="("+this.start+")-[:"+this.type,e=Object.keys(this.properties);if(e.length>0){t+=" {";for(var n=0;n<e.length;n++)n>0&&(t+=","),t+=e[n]+":"+(0,r.stringify)(this.properties[e[n]]);t+="}"}return t+("]->("+this.end+")")},t}();e.Relationship=h,Object.defineProperty(h.prototype,s,o),e.isRelationship=function(t){return l(t,s)};var p=function(){function t(t,e,n){this.identity=t,this.type=e,this.properties=n}return t.prototype.bind=function(t,e){return new h(this.identity,t,e,this.type,this.properties)},t.prototype.toString=function(){var t="-[:"+this.type,e=Object.keys(this.properties);if(e.length>0){t+=" {";for(var n=0;n<e.length;n++)n>0&&(t+=","),t+=e[n]+":"+(0,r.stringify)(this.properties[e[n]]);t+="}"}return t+"]->"},t}();e.UnboundRelationship=p,Object.defineProperty(p.prototype,u,o),e.isUnboundRelationship=function(t){return l(t,u)};var d=function(t,e,n){this.start=t,this.relationship=e,this.end=n};e.PathSegment=d,Object.defineProperty(d.prototype,a,o),e.isPathSegment=function(t){return l(t,a)};var b=function(t,e,n){this.start=t,this.end=e,this.segments=n,this.length=n.length};e.Path=b,Object.defineProperty(b.prototype,c,o),e.isPath=function(t){return l(t,c)}},360:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stringify=void 0;var r=n(2726);e.stringify=function(t){return JSON.stringify(t,function(t,e){return(0,r.isBrokenObject)(e)?{__isBrokenObject__:!0,__reason__:(0,r.getBrokenObjectReason)(e)}:"bigint"==typeof e?e+"n":e})}},382:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ProcedureRouteObserver=e.RouteObserver=e.CompletedObserver=e.FailedObserver=e.ResetObserver=e.LoginObserver=e.ResultStreamObserver=e.StreamObserver=void 0;var s=n(4096),u=i(n(982)),c=s.internal.constants.FETCH_ALL,a=s.error.PROTOCOL_ERROR,l=function(){function t(){}return t.prototype.onNext=function(t){},t.prototype.onError=function(t){},t.prototype.onCompleted=function(t){},t}();e.StreamObserver=l;var f=function(t){function e(e){var n=void 0===e?{}:e,r=n.reactive,o=n.moreFunction,i=n.discardFunction,s=n.fetchSize,u=void 0===s?c:s,a=n.beforeError,l=n.afterError,f=n.beforeKeys,p=n.afterKeys,d=n.beforeComplete,b=n.afterComplete,v=n.server,_=t.call(this)||this;return _._fieldKeys=null,_._fieldLookup=null,_._head=null,_._queuedRecords=[],_._tail=null,_._error=null,_._observers=[],_._meta={},_._server=v,_._beforeError=a,_._afterError=l,_._beforeKeys=f,_._afterKeys=p,_._beforeComplete=d,_._afterComplete=b,_._queryId=null,_._moreFunction=o,_._discardFunction=i,_._discard=!1,_._fetchSize=u,_._setState(void 0!==r&&r?h.READY:h.READY_STREAMING),_._setupAuoPull(u),_}return o(e,t),e.prototype.onNext=function(t){var e=new s.Record(this._fieldKeys,t,this._fieldLookup);this._observers.some(function(t){return t.onNext})?this._observers.forEach(function(t){t.onNext&&t.onNext(e)}):(this._queuedRecords.push(e),this._queuedRecords.length>this._highRecordWatermark&&(this._autoPull=!1))},e.prototype.onCompleted=function(t){this._state.onSuccess(this,t)},e.prototype.onError=function(t){this._state.onError(this,t)},e.prototype.cancel=function(){this._discard=!0},e.prototype.prepareToHandleSingleResponse=function(){this._head=[],this._fieldKeys=[],this._setState(h.STREAMING)},e.prototype.markCompleted=function(){this._head=[],this._fieldKeys=[],this._tail={},this._setState(h.SUCCEEDED)},e.prototype.subscribe=function(t){if(this._error)return void t.onError(this._error);if(this._head&&t.onKeys&&t.onKeys(this._head),this._queuedRecords.length>0&&t.onNext)for(var e=0;e<this._queuedRecords.length;e++)t.onNext(this._queuedRecords[e]),this._queuedRecords.length-e-1<=this._lowRecordWatermark&&(this._autoPull=!0,this._state===h.READY&&this._handleStreaming());this._tail&&t.onCompleted&&t.onCompleted(this._tail),this._observers.push(t),this._state===h.READY&&this._handleStreaming()},e.prototype._handleHasMore=function(t){this._setState(h.READY),this._handleStreaming(),delete t.has_more},e.prototype._handlePullSuccess=function(t){var e=this;this._setState(h.SUCCEEDED);var n=Object.assign(this._server?{server:this._server}:{},this._meta,t),r=null;this._beforeComplete&&(r=this._beforeComplete(n));var o=function(){e._tail=n,e._observers.some(function(t){return t.onCompleted})&&e._observers.forEach(function(t){t.onCompleted&&t.onCompleted(n)}),e._afterComplete&&e._afterComplete(n)};r?Promise.resolve(r).then(function(){return o()}):o()},e.prototype._handleRunSuccess=function(t,e){var n=this;if(null===this._fieldKeys){if(this._fieldKeys=[],this._fieldLookup={},t.fields&&t.fields.length>0){this._fieldKeys=t.fields;for(var r=0;r<t.fields.length;r++)this._fieldLookup[t.fields[r]]=r;delete t.fields}null!==t.qid&&void 0!==t.qid&&(this._queryId=t.qid,delete t.qid),this._storeMetadataForCompletion(t);var o=null;this._beforeKeys&&(o=this._beforeKeys(this._fieldKeys));var i=function(){n._head=n._fieldKeys,n._observers.some(function(t){return t.onKeys})&&n._observers.forEach(function(t){t.onKeys&&t.onKeys(n._fieldKeys)}),n._afterKeys&&n._afterKeys(n._fieldKeys),e()};o?Promise.resolve(o).then(function(){return i()}):i()}},e.prototype._handleError=function(t){var e=this;this._setState(h.FAILED),this._error=t;var n=null;this._beforeError&&(n=this._beforeError(t));var r=function(){e._observers.some(function(t){return t.onError})&&e._observers.forEach(function(e){e.onError&&e.onError(t)}),e._afterError&&e._afterError(t)};n?Promise.resolve(n).then(function(){return r()}):r()},e.prototype._handleStreaming=function(){this._head&&this._observers.some(function(t){return t.onNext||t.onCompleted})&&(this._discard?(this._discardFunction(this._queryId,this),this._setState(h.STREAMING)):this._autoPull&&(this._moreFunction(this._queryId,this._fetchSize,this),this._setState(h.STREAMING)))},e.prototype._storeMetadataForCompletion=function(t){for(var e=Object.keys(t),n=e.length,r="";n--;)r=e[n],this._meta[r]=t[r]},e.prototype._setState=function(t){this._state=t},e.prototype._setupAuoPull=function(t){this._autoPull=!0,t===c?(this._lowRecordWatermark=Number.MAX_VALUE,this._highRecordWatermark=Number.MAX_VALUE):(this._lowRecordWatermark=.3*t,this._highRecordWatermark=.7*t)},e}(l);e.ResultStreamObserver=f,e.LoginObserver=function(t){function e(e){var n=void 0===e?{}:e,r=n.onError,o=n.onCompleted,i=t.call(this)||this;return i._onError=r,i._onCompleted=o,i}return o(e,t),e.prototype.onNext=function(t){this.onError((0,s.newError)("Received RECORD when initializing "+s.json.stringify(t)))},e.prototype.onError=function(t){this._onError&&this._onError(t)},e.prototype.onCompleted=function(t){this._onCompleted&&this._onCompleted(t)},e}(l),e.ResetObserver=function(t){function e(e){var n=void 0===e?{}:e,r=n.onProtocolError,o=n.onError,i=n.onComplete,s=t.call(this)||this;return s._onProtocolError=r,s._onError=o,s._onComplete=i,s}return o(e,t),e.prototype.onNext=function(t){this.onError((0,s.newError)("Received RECORD when resetting: received record is: "+s.json.stringify(t),a))},e.prototype.onError=function(t){t.code===a&&this._onProtocolError&&this._onProtocolError(t.message),this._onError&&this._onError(t)},e.prototype.onCompleted=function(t){this._onComplete&&this._onComplete(t)},e}(l),e.FailedObserver=function(t){function e(e){var n=e.error,r=e.onError,o=t.call(this,{beforeError:r})||this;return o.onError(n),o}return o(e,t),e}(f),e.CompletedObserver=function(t){function e(){var e=t.call(this)||this;return t.prototype.markCompleted.call(e),e}return o(e,t),e}(f),e.ProcedureRouteObserver=function(t){function e(e){var n=e.resultObserver,r=e.onProtocolError,o=e.onError,i=e.onCompleted,s=t.call(this)||this;return s._resultObserver=n,s._onError=o,s._onCompleted=i,s._records=[],s._onProtocolError=r,n.subscribe(s),s}return o(e,t),e.prototype.onNext=function(t){this._records.push(t)},e.prototype.onError=function(t){t.code===a&&this._onProtocolError&&this._onProtocolError(t.message),this._onError&&this._onError(t)},e.prototype.onCompleted=function(){if(null!==this._records&&1!==this._records.length)return void this.onError((0,s.newError)("Illegal response from router. Received "+this._records.length+" records but expected only one.\n"+s.json.stringify(this._records),a));this._onCompleted&&this._onCompleted(u.default.ofRecord(this._records[0]))},e}(l),e.RouteObserver=function(t){function e(e){var n=void 0===e?{}:e,r=n.onProtocolError,o=n.onError,i=n.onCompleted,s=t.call(this)||this;return s._onProtocolError=r,s._onError=o,s._onCompleted=i,s}return o(e,t),e.prototype.onNext=function(t){this.onError((0,s.newError)("Received RECORD when resetting: received record is: "+s.json.stringify(t),a))},e.prototype.onError=function(t){t.code===a&&this._onProtocolError&&this._onProtocolError(t.message),this._onError&&this._onError(t)},e.prototype.onCompleted=function(t){this._onCompleted&&this._onCompleted(u.default.ofMessageResponse(t))},e}(l);var h={READY_STREAMING:{onSuccess:function(t,e){t._handleRunSuccess(e,function(){t._setState(h.STREAMING)})},onError:function(t,e){t._handleError(e)},name:function(){return"READY_STREAMING"}},READY:{onSuccess:function(t,e){t._handleRunSuccess(e,function(){return t._handleStreaming()})},onError:function(t,e){t._handleError(e)},name:function(){return"READY"}},STREAMING:{onSuccess:function(t,e){e.has_more?t._handleHasMore(e):t._handlePullSuccess(e)},onError:function(t,e){t._handleError(e)},name:function(){return"STREAMING"}},FAILED:{onError:function(t){},name:function(){return"FAILED"}},SUCCEEDED:{name:function(){return"SUCCEEDED"}}}},482:t=>{function e(n,r){return t.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n,r)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},549:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.EMPTY_CONNECTION_HOLDER=e.ReadOnlyConnectionHolder=e.ConnectionHolder=void 0;var i=n(5849),s=n(990),u=n(2485),c=n(8174),a=function(){function t(t){var e=void 0===t?{}:t,n=e.mode,r=void 0===n?u.ACCESS_MODE_WRITE:n,o=e.database,i=void 0===o?"":o,a=e.bookmark,l=e.connectionProvider,f=e.impersonatedUser,h=e.onDatabaseNameResolved;this._mode=r,this._database=i?(0,s.assertString)(i,"database"):"",this._bookmark=a||c.Bookmark.empty(),this._connectionProvider=l,this._impersonatedUser=f,this._referenceCount=0,this._connectionPromise=Promise.resolve(),this._onDatabaseNameResolved=h}return t.prototype.mode=function(){return this._mode},t.prototype.database=function(){return this._database},t.prototype.setDatabase=function(t){this._database=t},t.prototype.bookmark=function(){return this._bookmark},t.prototype.connectionProvider=function(){return this._connectionProvider},t.prototype.referenceCount=function(){return this._referenceCount},t.prototype.initializeConnection=function(){return 0===this._referenceCount&&this._connectionProvider?(this._connectionPromise=this._connectionProvider.acquireConnection({accessMode:this._mode,database:this._database,bookmarks:this._bookmark,impersonatedUser:this._impersonatedUser,onDatabaseNameResolved:this._onDatabaseNameResolved}),this._referenceCount++,!0):(this._referenceCount++,!1)},t.prototype.getConnection=function(){return this._connectionPromise},t.prototype.releaseConnection=function(){return 0===this._referenceCount?this._connectionPromise:(this._referenceCount--,0===this._referenceCount)?this._releaseConnection():this._connectionPromise},t.prototype.close=function(){return 0===this._referenceCount?this._connectionPromise:(this._referenceCount=0,this._releaseConnection())},t.prototype._releaseConnection=function(){return this._connectionPromise=this._connectionPromise.then(function(t){return t?t.isOpen()?t.resetAndFlush().catch(f).then(function(){return t._release()}):t._release():Promise.resolve()}).catch(f),this._connectionPromise},t}();e.ConnectionHolder=a;var l=function(t){function e(e){var n=t.call(this,{mode:e.mode(),database:e.database(),bookmark:e.bookmark(),connectionProvider:e.connectionProvider()})||this;return n._connectionHolder=e,n}return o(e,t),e.prototype.initializeConnection=function(){return 0!==this._connectionHolder.referenceCount()},e.prototype.getConnection=function(){return this._connectionHolder.getConnection()},e.prototype.releaseConnection=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve()})},e.prototype.close=function(){return this._connectionHolder.getConnection().catch(function(){return Promise.resolve()})},e}(a);function f(t){}e.ReadOnlyConnectionHolder=l,e.default=l,e.EMPTY_CONNECTION_HOLDER=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.mode=function(){},e.prototype.database=function(){},e.prototype.initializeConnection=function(){return!0},e.prototype.getConnection=function(){return Promise.reject((0,i.newError)("This connection holder does not serve connections"))},e.prototype.releaseConnection=function(){return Promise.resolve()},e.prototype.close=function(){return Promise.resolve()},e}(a))},567:function(t,e,n){"use strict";var r=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){var c=[i,u];if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){s=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){s.label=c[1];break}if(6===c[0]&&s.label<o[1]){s.label=o[1],o=c;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(c);break}o[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}},o=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},i=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(e,"__esModule",{value:!0});var s=n(5849);e.default=function(){function t(t,e,n){var r;this.keys=t,this.length=t.length,this._fields=e,this._fieldLookup=n||(r={},t.forEach(function(t,e){r[t]=e}),r)}return t.prototype.forEach=function(t){var e,n;try{for(var r=o(this.entries()),s=r.next();!s.done;s=r.next()){var u=i(s.value,2),c=u[0],a=u[1];t(a,c,this)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.prototype.map=function(t){var e,n,r=[];try{for(var s=o(this.entries()),u=s.next();!u.done;u=s.next()){var c=i(u.value,2),a=c[0],l=c[1];r.push(t(l,a,this))}}catch(t){e={error:t}}finally{try{u&&!u.done&&(n=s.return)&&n.call(s)}finally{if(e)throw e.error}}return r},t.prototype.entries=function(){var t;return r(this,function(e){switch(e.label){case 0:t=0,e.label=1;case 1:if(!(t<this.keys.length))return[3,4];return[4,[this.keys[t],this._fields[t]]];case 2:e.sent(),e.label=3;case 3:return t++,[3,1];case 4:return[2]}})},t.prototype.values=function(){var t;return r(this,function(e){switch(e.label){case 0:t=0,e.label=1;case 1:if(!(t<this.keys.length))return[3,4];return[4,this._fields[t]];case 2:e.sent(),e.label=3;case 3:return t++,[3,1];case 4:return[2]}})},t.prototype[Symbol.iterator]=function(){var t;return r(this,function(e){switch(e.label){case 0:t=0,e.label=1;case 1:if(!(t<this.keys.length))return[3,4];return[4,this._fields[t]];case 2:e.sent(),e.label=3;case 3:return t++,[3,1];case 4:return[2]}})},t.prototype.toObject=function(){var t,e,n={};try{for(var r=o(this.entries()),s=r.next();!s.done;s=r.next()){var u=i(s.value,2),c=u[0],a=u[1];n[c]=a}}catch(e){t={error:e}}finally{try{s&&!s.done&&(e=r.return)&&e.call(r)}finally{if(t)throw t.error}}return n},t.prototype.get=function(t){var e;if("number"!=typeof t){if(void 0===(e=this._fieldLookup[t]))throw(0,s.newError)("This record has no field with key '"+t+"', available key are: ["+this.keys+"].")}else e=t;if(e>this._fields.length-1||e<0)throw(0,s.newError)("This record has no field with index '"+e+"'. Remember that indexes start at `0`, and make sure your query returns records in the shape you meant it to.");return this._fields[e]},t.prototype.has=function(t){return"number"==typeof t?t>=0&&t<this._fields.length:void 0!==this._fieldLookup[t]},t}()},594:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=s(n(8549)),c=s(n(4777)),a=n(3793),l=n(382),f=n(4096);f.internal.bookmark.Bookmark;var h=f.internal.constants.BOLT_PROTOCOL_V3,p=f.internal.txConfig.TxConfig,d="context",b="CALL dbms.cluster.routing.getRoutingTable($"+d+")",v=new l.StreamObserver;e.default=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"version",{get:function(){return h},enumerable:!1,configurable:!0}),e.prototype.transformMetadata=function(t){return"t_first"in t&&(t.result_available_after=t.t_first,delete t.t_first),"t_last"in t&&(t.result_consumed_after=t.t_last,delete t.t_last),t},e.prototype.initialize=function(t){var e=this,n=void 0===t?{}:t,r=n.userAgent,o=n.authToken,i=n.onError,s=n.onComplete,u=new l.LoginObserver({onError:function(t){return e._onLoginError(t,i)},onCompleted:function(t){return e._onLoginCompleted(t,s)}});return this.write(c.default.hello(r,o),u,!0),u},e.prototype.prepareToClose=function(){this.write(c.default.goodbye(),v,!0)},e.prototype.beginTransaction=function(t){var e=void 0===t?{}:t,n=e.bookmark,r=e.txConfig,o=e.database,i=e.impersonatedUser,s=e.mode,u=e.beforeError,f=e.afterError,h=e.beforeComplete,p=e.afterComplete,d=new l.ResultStreamObserver({server:this._server,beforeError:u,afterError:f,beforeComplete:h,afterComplete:p});return d.prepareToHandleSingleResponse(),(0,a.assertDatabaseIsEmpty)(o,this._onProtocolError,d),(0,a.assertImpersonatedUserIsEmpty)(i,this._onProtocolError,d),this.write(c.default.begin({bookmark:n,txConfig:r,mode:s}),d,!0),d},e.prototype.commitTransaction=function(t){var e=void 0===t?{}:t,n=e.beforeError,r=e.afterError,o=e.beforeComplete,i=e.afterComplete,s=new l.ResultStreamObserver({server:this._server,beforeError:n,afterError:r,beforeComplete:o,afterComplete:i});return s.prepareToHandleSingleResponse(),this.write(c.default.commit(),s,!0),s},e.prototype.rollbackTransaction=function(t){var e=void 0===t?{}:t,n=e.beforeError,r=e.afterError,o=e.beforeComplete,i=e.afterComplete,s=new l.ResultStreamObserver({server:this._server,beforeError:n,afterError:r,beforeComplete:o,afterComplete:i});return s.prepareToHandleSingleResponse(),this.write(c.default.rollback(),s,!0),s},e.prototype.run=function(t,e,n){var r=void 0===n?{}:n,o=r.bookmark,i=r.txConfig,s=r.database,u=r.impersonatedUser,f=r.mode,h=r.beforeKeys,p=r.afterKeys,d=r.beforeError,b=r.afterError,v=r.beforeComplete,_=r.afterComplete,y=r.flush,m=new l.ResultStreamObserver({server:this._server,beforeKeys:h,afterKeys:p,beforeError:d,afterError:b,beforeComplete:v,afterComplete:_});return(0,a.assertDatabaseIsEmpty)(s,this._onProtocolError,m),(0,a.assertImpersonatedUserIsEmpty)(u,this._onProtocolError,m),this.write(c.default.runWithMetadata(t,e,{bookmark:o,txConfig:i,mode:f}),m,!1),this.write(c.default.pullAll(),m,void 0===y||y),m},e.prototype.requestRoutingInformation=function(t){var e,n=t.routingContext,r=t.sessionContext,o=t.onError,s=t.onCompleted,u=this.run(b,((e={})[d]=void 0===n?{}:n,e),i(i({},void 0===r?{}:r),{txConfig:p.empty()}));return new l.ProcedureRouteObserver({resultObserver:u,onProtocolError:this._onProtocolError,onError:o,onCompleted:s})},e}(u.default)},772:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return s(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Unpacker=e.Packer=void 0;var c=u(n(2549)),a=u(n(2816)),l=n(4096),f=n(4731),h=l.internal.temporalUtil,p=h.dateToEpochDay,d=h.localDateTimeToEpochSecond,b=h.localTimeToNanoOfDay;function v(t,e,n){if(!e&&!n)return t;var r=Object.create(Object.getPrototypeOf(t));for(var o in t)if(t.hasOwnProperty(o)){var i=t[o];r[o]=(0,l.isInt)(i)?n?i.toBigInt():i.toNumberOrInfinity():i}return Object.freeze(r),r}e.Packer=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.disableByteArrays=function(){throw Error("Bolt V2 should always support byte arrays")},e.prototype.packable=function(e){var n=this;if((0,l.isPoint)(e))return function(){var t,r,o,i,s,u,c,a;return t=e,r=n,void(null===t.z||void 0===t.z?(o=t,s=[(i=r).packable((0,l.int)(o.srid)),i.packable(o.x),i.packable(o.y)],i.packStruct(88,s)):(u=t,a=[(c=r).packable((0,l.int)(u.srid)),c.packable(u.x),c.packable(u.y),c.packable(u.z)],c.packStruct(89,a)))};if((0,l.isDuration)(e))return function(){var t,r,o,i,s,u,c;return t=e,r=n,o=(0,l.int)(t.months),i=(0,l.int)(t.days),s=(0,l.int)(t.seconds),u=(0,l.int)(t.nanoseconds),c=[r.packable(o),r.packable(i),r.packable(s),r.packable(u)],void r.packStruct(69,c)};if((0,l.isLocalTime)(e))return function(){var t,r,o,i;return t=e,r=n,o=b(t.hour,t.minute,t.second,t.nanosecond),i=[r.packable(o)],void r.packStruct(116,i)};if((0,l.isTime)(e))return function(){var t,r,o,i,s;return t=e,r=n,o=b(t.hour,t.minute,t.second,t.nanosecond),i=(0,l.int)(t.timeZoneOffsetSeconds),s=[r.packable(o),r.packable(i)],void r.packStruct(84,s)};if((0,l.isDate)(e))return function(){var t,r,o,i;return t=e,r=n,o=p(t.year,t.month,t.day),i=[r.packable(o)],void r.packStruct(68,i)};else if((0,l.isLocalDateTime)(e))return function(){var t,r,o,i,s;return t=e,r=n,o=d(t.year,t.month,t.day,t.hour,t.minute,t.second,t.nanosecond),i=(0,l.int)(t.nanosecond),s=[r.packable(o),r.packable(i)],void r.packStruct(100,s)};else if((0,l.isDateTime)(e)&&this.useUtc)return function(){return a.packDateTime(e,n)};else if((0,l.isDateTime)(e)&&!this.useUtc)return function(){var t,r,o,i,s,u,c,a,f,h,p,b,v,_;return t=e,r=n,void(t.timeZoneId?(o=t,i=r,s=d(o.year,o.month,o.day,o.hour,o.minute,o.second,o.nanosecond),u=(0,l.int)(o.nanosecond),c=o.timeZoneId,a=[i.packable(s),i.packable(u),i.packable(c)],i.packStruct(102,a)):(f=t,h=r,p=d(f.year,f.month,f.day,f.hour,f.minute,f.second,f.nanosecond),b=(0,l.int)(f.nanosecond),v=(0,l.int)(f.timeZoneOffsetSeconds),_=[h.packable(p),h.packable(b),h.packable(v)],h.packStruct(70,_)))};else return t.prototype.packable.call(this,e)},e}(c.Packer),e.Unpacker=function(t){function e(e,n){return void 0===e&&(e=!1),void 0===n&&(n=!1),t.call(this,e,n)||this}return o(e,t),e.prototype._unpackUnknownStruct=function(e,n,r){var o,i,s,u,c,h,p,d,b,_,y,m,g,w,E,O,S,T,C,x,I,P,N,k,R,A,j,D,U,M,L,F,V,B,H,z,q,W,Y,K,Z,G,X,Q,J,$,tt,te,tn,tr,to,ti,ts,tu,tc,ta,tl;if(88===e){return o=this,i=n,s=r,o._verifyStructSize("Point2D",3,i),new l.Point(o.unpack(s),o.unpack(s),o.unpack(s),void 0)}if(89===e){return u=this,c=n,h=r,u._verifyStructSize("Point3D",4,c),new l.Point(u.unpack(h),u.unpack(h),u.unpack(h),u.unpack(h))}if(69===e){return p=this,d=n,b=r,p._verifyStructSize("Duration",4,d),_=p.unpack(b),y=p.unpack(b),m=p.unpack(b),g=p.unpack(b),new l.Duration(_,y,m,g)}if(116===e){return w=this,E=n,O=r,S=this._disableLosslessIntegers,this._useBigInt,w._verifyStructSize("LocalTime",1,E),T=w.unpackInteger(O),v((0,f.nanoOfDayToLocalTime)(T),S)}if(84===e){return C=this,x=n,I=r,P=this._disableLosslessIntegers,N=this._useBigInt,C._verifyStructSize("Time",2,x),k=C.unpackInteger(I),R=C.unpackInteger(I),A=(0,f.nanoOfDayToLocalTime)(k),v(new l.Time(A.hour,A.minute,A.second,A.nanosecond,R),P,N)}else if(68===e){return j=this,D=n,U=r,M=this._disableLosslessIntegers,L=this._useBigInt,j._verifyStructSize("Date",1,D),F=j.unpackInteger(U),v((0,f.epochDayToDate)(F),M,L)}else if(100===e){return V=this,B=n,H=r,z=this._disableLosslessIntegers,q=this._useBigInt,V._verifyStructSize("LocalDateTime",2,B),W=V.unpackInteger(H),Y=V.unpackInteger(H),v((0,f.epochSecondAndNanoToLocalDateTime)(W,Y),z,q)}else if(e===a.DATE_TIME_WITH_ZONE_OFFSET&&this.useUtc)return a.unpackDateTimeWithZoneOffset(this,n,r,this._disableLosslessIntegers,this._useBigInt);else if(70!==e||this.useUtc)if(e===a.DATE_TIME_WITH_ZONE_ID&&this.useUtc)return a.unpackDateTimeWithZoneId(this,n,r,this._disableLosslessIntegers,this._useBigInt);else{if(102!==e||this.useUtc)return t.prototype._unpackUnknownStruct.call(this,e,n,r,this._disableLosslessIntegers,this._useBigInt);return K=this,Z=n,G=r,X=this._disableLosslessIntegers,Q=this._useBigInt,K._verifyStructSize("DateTimeWithZoneId",3,Z),J=K.unpackInteger(G),$=K.unpackInteger(G),tt=K.unpack(G),te=(0,f.epochSecondAndNanoToLocalDateTime)(J,$),v(new l.DateTime(te.year,te.month,te.day,te.hour,te.minute,te.second,te.nanosecond,null,tt),X,Q)}else{return tn=this,tr=n,to=r,ti=this._disableLosslessIntegers,ts=this._useBigInt,tn._verifyStructSize("DateTimeWithZoneOffset",3,tr),tu=tn.unpackInteger(to),tc=tn.unpackInteger(to),ta=tn.unpackInteger(to),tl=(0,f.epochSecondAndNanoToLocalDateTime)(tu,tc),v(new l.DateTime(tl.year,tl.month,tl.day,tl.hour,tl.minute,tl.second,tl.nanosecond,ta,null),ti,ts)}},e}(c.Unpacker)},828:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.WRITE=e.READ=e.Driver=void 0;var o=n(8174),i=n(2520),s=r(n(6910)),u=n(2485),c=n(6346),a=r(n(188)),l=n(990);e.READ=u.ACCESS_MODE_READ;var f=u.ACCESS_MODE_WRITE;e.WRITE=f;var h=0,p=function(){function t(t,e,n,r){var o;void 0===e&&(e={}),void 0===r&&(r=function(t){return new a.default(t)}),(o=e).maxConnectionLifetime=d(o.maxConnectionLifetime,36e5),o.maxConnectionPoolSize=d(o.maxConnectionPoolSize,u.DEFAULT_POOL_MAX_SIZE),o.connectionAcquisitionTimeout=d(o.connectionAcquisitionTimeout,u.DEFAULT_POOL_ACQUISITION_TIMEOUT),o.fetchSize=b(o.fetchSize,1e3),function(t){var e=t.resolver;if(e&&"function"!=typeof e)throw TypeError("Configured resolver should be a function. Got: "+e)}(e),this._id=h++,this._meta=t,this._config=e,this._log=c.Logger.create(e),this._createConnectionProvider=n,this._createSession=r,this._connectionProvider=null,this._afterConstruction()}return t.prototype.verifyConnectivity=function(t){var e=(void 0===t?{}:t).database,n=this._getOrCreateConnectionProvider();return new i.ConnectivityVerifier(n).verify({database:void 0===e?"":e})},t.prototype.supportsMultiDb=function(){return this._getOrCreateConnectionProvider().supportsMultiDb()},t.prototype.supportsTransactionConfig=function(){return this._getOrCreateConnectionProvider().supportsTransactionConfig()},t.prototype.supportsUserImpersonation=function(){return this._getOrCreateConnectionProvider().supportsUserImpersonation()},t.prototype._supportsRouting=function(){return this._meta.routing},t.prototype._isEncrypted=function(){return this._config.encrypted===l.ENCRYPTION_ON},t.prototype._getTrust=function(){return this._config.trust},t.prototype.session=function(t){var e=void 0===t?{}:t,n=e.defaultAccessMode,r=void 0===n?f:n,o=e.bookmarks,i=e.database,s=e.impersonatedUser,u=e.fetchSize;return this._newSession({defaultAccessMode:r,bookmarkOrBookmarks:o,database:void 0===i?"":i,reactive:!1,impersonatedUser:s,fetchSize:b(u,this._config.fetchSize)})},t.prototype.close=function(){return(this._log.info("Driver "+this._id+" closing"),this._connectionProvider)?this._connectionProvider.close():Promise.resolve()},t.prototype._afterConstruction=function(){this._log.info(this._meta.typename+" driver "+this._id+" created for server address "+this._meta.address)},t.prototype._newSession=function(t){var e=t.defaultAccessMode,n=t.bookmarkOrBookmarks,r=t.database,i=t.reactive,s=t.impersonatedUser,u=t.fetchSize,c=a.default._validateSessionMode(e),l=this._getOrCreateConnectionProvider(),f=n?new o.Bookmark(n):o.Bookmark.empty();return this._createSession({mode:c,database:r||"",connectionProvider:l,bookmark:f,config:this._config,reactive:i,impersonatedUser:s,fetchSize:u})},t.prototype._getOrCreateConnectionProvider=function(){var t;return this._connectionProvider||(this._connectionProvider=this._createConnectionProvider(this._id,this._config,this._log,(t=this._config,new s.default(t.resolver)))),this._connectionProvider},t}();function d(t,e){var n=parseInt(t,10);return n>0||0===n?n:n<0?Number.MAX_SAFE_INTEGER:e}function b(t,e){var n=parseInt(t,10);if(n>0||n===u.FETCH_ALL)return n;if(0!==n&&!(n<0))return e;throw Error("The fetch size can only be a positive value or "+u.FETCH_ALL+" for ALL. However fetchSize = "+n)}e.Driver=p,e.default=p},842:(t,e,n)=>{"use strict";var r=n(2448);Object.defineProperty(e,"__esModule",{value:!0}),e.default=e.WRITE=e.READ=e.Driver=void 0;var o=r(n(8813)),i=r(n(6205)),s=r(n(2741)),u=r(n(3690)),c=r(n(8206)),a=n(4096),l=r(n(6361)),f=a.internal.constants.FETCH_ALL,h=a.driver.READ,p=a.driver.WRITE;e.WRITE=p,e.READ=h;var d=function(t){(0,s.default)(r,t);var e,n=(e=function(){if("undefined"==typeof Reflect||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,n=(0,c.default)(r);return t=e?Reflect.construct(n,arguments,(0,c.default)(this).constructor):n.apply(this,arguments),(0,u.default)(this,t)});function r(){return(0,o.default)(this,r),n.apply(this,arguments)}return(0,i.default)(r,[{key:"rxSession",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.defaultAccessMode,n=void 0===e?p:e,r=t.bookmarks,o=t.database,i=t.fetchSize,s=t.impersonatedUser;return new l.default({session:this._newSession({defaultAccessMode:n,bookmarkOrBookmarks:r,database:void 0===o?"":o,impersonatedUser:s,reactive:!0,fetchSize:function(t,e){var n=parseInt(t,10);if(n>0||n===f)return n;if(0!==n&&!(n<0))return e;throw Error("The fetch size can only be a positive value or ".concat(f," for ALL. However fetchSize = ").concat(n))}(i,this._config.fetchSize)}),config:this._config})}}]),r}(a.Driver);e.Driver=d,e.default=d},970:(t,e,n)=>{"use strict";var r=n(2448);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n(8813)),i=r(n(6205)),s=n(4096),u=n(4169),c=n(3982);s.internal.logger.Logger;var a=s.internal.retryStrategy.canRetryOn,l=s.error.SERVICE_UNAVAILABLE;function f(t,e){return t||0===t?t:e}s.error.SESSION_EXPIRED,e.default=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.maxRetryTimeout,r=e.initialDelay,i=e.delayMultiplier,s=e.delayJitter,u=e.logger;(0,o.default)(this,t),this._maxRetryTimeout=f(void 0===n?3e4:n,3e4),this._initialDelay=f(void 0===r?1e3:r,1e3),this._delayMultiplier=f(void 0===i?2:i,2),this._delayJitter=f(void 0===s?.2:s,.2),this._logger=void 0===u?null:u}return(0,i.default)(t,[{key:"retry",value:function(t){var e=this;return t.pipe((0,c.retryWhen)(function(t){var n=[],r=Date.now(),o=1,i=e._initialDelay;return t.pipe((0,c.flatMap)(function(t){if(!a(t))return(0,u.throwError)(t);if(n.push(t),o>=2&&Date.now()-r>=e._maxRetryTimeout){var f=(0,s.newError)("Failed after retried for ".concat(o," times in ").concat(e._maxRetryTimeout," ms. Make sure that your database is online and retry again."),l);return f.seenErrors=n,(0,u.throwError)(f)}var h=e._computeNextDelay(i);return i*=e._delayMultiplier,o++,e._logger&&e._logger.warn("Transaction failed and will be retried in ".concat(h)),(0,u.of)(1).pipe((0,c.delay)(h))}))}))}},{key:"_computeNextDelay",value:function(t){var e=t*this._delayJitter;return t-e+2*e*Math.random()}}]),t}()},982:function(t,e){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0});var o=function(){function t(){}return t.ofRecord=function(e){return null===e?t.ofNull():new u(e)},t.ofMessageResponse=function(e){return null===e?t.ofNull():new i(e)},t.ofNull=function(){return new s},Object.defineProperty(t.prototype,"ttl",{get:function(){throw Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"db",{get:function(){throw Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"servers",{get:function(){throw Error("Not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNull",{get:function(){throw Error("Not implemented")},enumerable:!1,configurable:!0}),t}();e.default=o;var i=function(t){function e(e){var n=t.call(this)||this;return n._response=e,n}return r(e,t),Object.defineProperty(e.prototype,"ttl",{get:function(){return this._response.rt.ttl},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"servers",{get:function(){return this._response.rt.servers},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"db",{get:function(){return this._response.rt.db},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isNull",{get:function(){return null===this._response},enumerable:!1,configurable:!0}),e}(o),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),Object.defineProperty(e.prototype,"isNull",{get:function(){return!0},enumerable:!1,configurable:!0}),e}(o),u=function(t){function e(e){var n=t.call(this)||this;return n._record=e,n}return r(e,t),Object.defineProperty(e.prototype,"ttl",{get:function(){return this._record.get("ttl")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"servers",{get:function(){return this._record.get("servers")},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"db",{get:function(){return this._record.has("db")?this._record.get("db"):null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isNull",{get:function(){return null===this._record},enumerable:!1,configurable:!0}),e}(o)},990:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ENCRYPTION_OFF=e.ENCRYPTION_ON=e.validateQueryAndParameters=e.assertValidDate=e.assertNumberOrInteger=e.assertNumber=e.assertString=e.assertObject=e.isString=e.isObject=e.isEmptyObjectOrNull=void 0;var r=n(1154),o=n(360);function i(t){return"object"==typeof t&&!Array.isArray(t)&&null!==t}function s(t,e){if(!u(t))throw TypeError(e+" expected to be string but was: "+(0,o.stringify)(t));return t}function u(t){return"[object String]"===Object.prototype.toString.call(t)}e.ENCRYPTION_ON="ENCRYPTION_ON",e.ENCRYPTION_OFF="ENCRYPTION_OFF",e.isEmptyObjectOrNull=function(t){if(null===t)return!0;if(!i(t))return!1;for(var e in t)if(Object.prototype.hasOwnProperty.bind(t,e))return!1;return!0},e.isObject=i,e.validateQueryAndParameters=function(t,e,n){var r="",o=e||{},u=(null==n?void 0:n.skipAsserts)||!1;return"string"==typeof t?r=t:t instanceof String?r=t.toString():"object"==typeof t&&t.text&&(r=t.text,o=t.parameters||{}),u||(function(t){if(s(t,"Cypher query"),0===t.trim().length)throw TypeError("Cypher query is expected to be a non-empty string.")}(r),function(t){if(!i(t))throw TypeError("Query parameters are expected to either be undefined/null or an object, given:"+(t.constructor?" "+t.constructor.name:"")+" "+t)}(o)),{validatedQuery:r,params:o}},e.assertObject=function(t,e){if(!i(t))throw TypeError(e+" expected to be an object but was: "+(0,o.stringify)(t));return t},e.assertString=s,e.assertNumber=function(t,e){if("number"!=typeof t)throw TypeError(e+" expected to be a number but was: "+(0,o.stringify)(t));return t},e.assertNumberOrInteger=function(t,e){if("number"!=typeof t&&"bigint"!=typeof t&&!(0,r.isInt)(t))throw TypeError(e+" expected to be either a number or an Integer object but was: "+(0,o.stringify)(t));return t},e.assertValidDate=function(t,e){if("[object Date]"!==Object.prototype.toString.call(t))throw TypeError(e+" expected to be a standard JavaScript Date but was: "+(0,o.stringify)(t));if(Number.isNaN(t.getTime()))throw TypeError(e+" expected to be valid JavaScript Date but its time was NaN: "+(0,o.stringify)(t));return t},e.isString=u},1154:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.toString=e.toNumber=e.inSafeRange=e.isInt=e.int=void 0;var r=n(5849),o=new Map,i=function(){function t(t,e){this.low=t||0,this.high=e||0}return t.prototype.inSafeRange=function(){return this.greaterThanOrEqual(t.MIN_SAFE_VALUE)&&this.lessThanOrEqual(t.MAX_SAFE_VALUE)},t.prototype.toInt=function(){return this.low},t.prototype.toNumber=function(){return this.high*s+(this.low>>>0)},t.prototype.toBigInt=function(){if(this.isZero())return BigInt(0);if(this.isPositive())return BigInt(this.high>>>0)*BigInt(s)+BigInt(this.low>>>0);var t=this.negate();return BigInt(-1)*(BigInt(t.high>>>0)*BigInt(s)+BigInt(t.low>>>0))},t.prototype.toNumberOrInfinity=function(){return this.lessThan(t.MIN_SAFE_VALUE)?Number.NEGATIVE_INFINITY:this.greaterThan(t.MAX_SAFE_VALUE)?Number.POSITIVE_INFINITY:this.toNumber()},t.prototype.toString=function(e){if((e=e||10)<2||e>36)throw RangeError("radix out of range: "+e);if(this.isZero())return"0";if(this.isNegative())if(!this.equals(t.MIN_VALUE))return"-"+this.negate().toString(e);else{var n,r=t.fromNumber(e),o=this.div(r);return n=o.multiply(r).subtract(this),o.toString(e)+n.toInt().toString(e)}var i=t.fromNumber(Math.pow(e,6));n=this;for(var s="";;){var u=n.div(i),c=(n.subtract(u.multiply(i)).toInt()>>>0).toString(e);if((n=u).isZero())return c+s;for(;c.length<6;)c="0"+c;s=""+c+s}},t.prototype.getHighBits=function(){return this.high},t.prototype.getLowBits=function(){return this.low},t.prototype.getNumBitsAbs=function(){if(this.isNegative())return this.equals(t.MIN_VALUE)?64:this.negate().getNumBitsAbs();for(var e=0!==this.high?this.high:this.low,n=31;n>0&&(e&1<<n)==0;n--);return 0!==this.high?n+33:n+1},t.prototype.isZero=function(){return 0===this.high&&0===this.low},t.prototype.isNegative=function(){return this.high<0},t.prototype.isPositive=function(){return this.high>=0},t.prototype.isOdd=function(){return(1&this.low)==1},t.prototype.isEven=function(){return(1&this.low)==0},t.prototype.equals=function(e){var n=t.fromValue(e);return this.high===n.high&&this.low===n.low},t.prototype.notEquals=function(t){return!this.equals(t)},t.prototype.lessThan=function(t){return 0>this.compare(t)},t.prototype.lessThanOrEqual=function(t){return 0>=this.compare(t)},t.prototype.greaterThan=function(t){return this.compare(t)>0},t.prototype.greaterThanOrEqual=function(t){return this.compare(t)>=0},t.prototype.compare=function(e){var n=t.fromValue(e);if(this.equals(n))return 0;var r=this.isNegative(),o=n.isNegative();return r&&!o?-1:!r&&o?1:this.subtract(n).isNegative()?-1:1},t.prototype.negate=function(){return this.equals(t.MIN_VALUE)?t.MIN_VALUE:this.not().add(t.ONE)},t.prototype.add=function(e){var n,r,o=t.fromValue(e),i=this.high>>>16,s=65535&this.high,u=this.low>>>16,c=65535&this.low,a=o.high>>>16,l=65535&o.high,f=o.low>>>16,h=65535&o.low,p=0,d=0;return n=0+((r=0+(c+h))>>>16),r&=65535,n+=u+f,d+=n>>>16,n&=65535,d+=s+l,p+=d>>>16,d&=65535,p+=i+a,p&=65535,t.fromBits(n<<16|r,p<<16|d)},t.prototype.subtract=function(e){var n=t.fromValue(e);return this.add(n.negate())},t.prototype.multiply=function(e){if(this.isZero())return t.ZERO;var n,r,o=t.fromValue(e);if(o.isZero())return t.ZERO;if(this.equals(t.MIN_VALUE))return o.isOdd()?t.MIN_VALUE:t.ZERO;if(o.equals(t.MIN_VALUE))return this.isOdd()?t.MIN_VALUE:t.ZERO;if(this.isNegative())if(o.isNegative())return this.negate().multiply(o.negate());else return this.negate().multiply(o).negate();if(o.isNegative())return this.multiply(o.negate()).negate();if(this.lessThan(c)&&o.lessThan(c))return t.fromNumber(this.toNumber()*o.toNumber());var i=this.high>>>16,s=65535&this.high,u=this.low>>>16,a=65535&this.low,l=o.high>>>16,f=65535&o.high,h=o.low>>>16,p=65535&o.low,d=0,b=0;return n=0+((r=0+a*p)>>>16),r&=65535,n+=u*p,b+=n>>>16,n&=65535,n+=a*h,b+=n>>>16,n&=65535,b+=s*p,d+=b>>>16,b&=65535,b+=u*h,d+=b>>>16,b&=65535,b+=a*f,d+=b>>>16,b&=65535,d+=i*p+s*h+u*f+a*l,d&=65535,t.fromBits(n<<16|r,d<<16|b)},t.prototype.div=function(e){var n,o,i,s=t.fromValue(e);if(s.isZero())throw(0,r.newError)("division by zero");if(this.isZero())return t.ZERO;if(this.equals(t.MIN_VALUE))return s.equals(t.ONE)||s.equals(t.NEG_ONE)?t.MIN_VALUE:s.equals(t.MIN_VALUE)?t.ONE:(n=this.shiftRight(1).div(s).shiftLeft(1)).equals(t.ZERO)?s.isNegative()?t.ONE:t.NEG_ONE:(o=this.subtract(s.multiply(n)),i=n.add(o.div(s)));if(s.equals(t.MIN_VALUE))return t.ZERO;if(this.isNegative())return s.isNegative()?this.negate().div(s.negate()):this.negate().div(s).negate();if(s.isNegative())return this.div(s.negate()).negate();for(i=t.ZERO,o=this;o.greaterThanOrEqual(s);){for(var u=Math.ceil(Math.log(n=Math.max(1,Math.floor(o.toNumber()/s.toNumber())))/Math.LN2),c=u<=48?1:Math.pow(2,u-48),a=t.fromNumber(n),l=a.multiply(s);l.isNegative()||l.greaterThan(o);)n-=c,l=(a=t.fromNumber(n)).multiply(s);a.isZero()&&(a=t.ONE),i=i.add(a),o=o.subtract(l)}return i},t.prototype.modulo=function(e){var n=t.fromValue(e);return this.subtract(this.div(n).multiply(n))},t.prototype.not=function(){return t.fromBits(~this.low,~this.high)},t.prototype.and=function(e){var n=t.fromValue(e);return t.fromBits(this.low&n.low,this.high&n.high)},t.prototype.or=function(e){var n=t.fromValue(e);return t.fromBits(this.low|n.low,this.high|n.high)},t.prototype.xor=function(e){var n=t.fromValue(e);return t.fromBits(this.low^n.low,this.high^n.high)},t.prototype.shiftLeft=function(e){var n=t.toNumber(e);return 0==(n&=63)?t.ZERO:n<32?t.fromBits(this.low<<n,this.high<<n|this.low>>>32-n):t.fromBits(0,this.low<<n-32)},t.prototype.shiftRight=function(e){var n=t.toNumber(e);return 0==(n&=63)?t.ZERO:e<32?t.fromBits(this.low>>>n|this.high<<32-n,this.high>>n):t.fromBits(this.high>>n-32,this.high>=0?0:-1)},t.isInteger=function(t){return!0===(t&&t.__isInteger__)},t.fromInt=function(e){var n,r;return(e|=0)>=-128&&e<128&&(r=o.get(e))?r:(n=new t(e,e<0?-1:0),e>=-128&&e<128&&o.set(e,n),n)},t.fromBits=function(e,n){return new t(e,n)},t.fromNumber=function(e){return isNaN(e)||!isFinite(e)?t.ZERO:e<=-u?t.MIN_VALUE:e+1>=u?t.MAX_VALUE:e<0?t.fromNumber(-e).negate():new t(e%s|0,e/s|0)},t.fromString=function(e,n,o){var i,s=(void 0===o?{}:o).strictStringValidation;if(0===e.length)throw(0,r.newError)("number format error: empty string");if("NaN"===e||"Infinity"===e||"+Infinity"===e||"-Infinity"===e)return t.ZERO;if((n=n||10)<2||n>36)throw(0,r.newError)("radix out of range: "+n);if((i=e.indexOf("-"))>0)throw(0,r.newError)('number format error: interior "-" character: '+e);if(0===i)return t.fromString(e.substring(1),n).negate();for(var u=t.fromNumber(Math.pow(n,8)),c=t.ZERO,a=0;a<e.length;a+=8){var l=Math.min(8,e.length-a),f=e.substring(a,a+l),h=parseInt(f,n);if(!0===s&&!function(t,e,n){var r,o;return!Number.isNaN(t)&&!Number.isNaN(e)&&(o=Math.max(t.length-(r=e.toString(n)).length,0),""+"0".repeat(o)+r===t.toLowerCase())}(f,h,n))throw(0,r.newError)('number format error: "'+f+'" is NaN in radix '+n+": "+e);if(l<8){var p=t.fromNumber(Math.pow(n,l));c=c.multiply(p).add(t.fromNumber(h))}else c=(c=c.multiply(u)).add(t.fromNumber(h))}return c},t.fromValue=function(e,n){return(void 0===n&&(n={}),e instanceof t)?e:"number"==typeof e?t.fromNumber(e):"string"==typeof e?t.fromString(e,void 0,n):"bigint"==typeof e?t.fromString(e.toString()):new t(e.low,e.high)},t.toNumber=function(e){switch(typeof e){case"number":return e;case"bigint":return Number(e);default:return t.fromValue(e).toNumber()}},t.toString=function(e,n){return t.fromValue(e).toString(n)},t.inSafeRange=function(e){return t.fromValue(e).inSafeRange()},t.ZERO=t.fromInt(0),t.ONE=t.fromInt(1),t.NEG_ONE=t.fromInt(-1),t.MAX_VALUE=t.fromBits(-1,0x7fffffff),t.MIN_VALUE=t.fromBits(0,-0x80000000),t.MIN_SAFE_VALUE=t.fromBits(1,-2097152),t.MAX_SAFE_VALUE=t.fromBits(-1,2097151),t.__isInteger__=!0,t}();Object.defineProperty(i.prototype,"__isInteger__",{value:!0,enumerable:!1,configurable:!1});var s=0x100000000,u=0x8000000000000000,c=i.fromInt(0x1000000);e.int=i.fromValue,e.isInt=i.isInteger,e.inSafeRange=i.inSafeRange,e.toNumber=i.toNumber,e.toString=i.toString,e.default=i},1294:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.BaseBuffer=void 0;var o=r(n(185));e.BaseBuffer=o.default,e.default=o.default},1411:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),s=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),u=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&i(e,t,n);return s(e,t),e},c=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(s,u)}c((r=r.apply(t,e||[])).next())})},a=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){var c=[i,u];if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){s=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){s.label=c[1];break}if(6===c[0]&&s.label<o[1]){s.label=o[1],o=c;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(c);break}o[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}};Object.defineProperty(e,"__esModule",{value:!0});var l=n(2653),f=u(n(9319)),h=n(4096),p=h.error.SERVICE_UNAVAILABLE;e.default=function(t){function e(n,r){var o=n.id,i=n.config,s=n.log,u=n.userAgent,c=n.authToken;void 0===r&&(r=null);var a=t.call(this)||this;return a._id=o,a._config=i,a._log=s,a._userAgent=u,a._authToken=c,a._createChannelConnection=r||function(t){return(0,l.createChannelConnection)(t,a._config,a._createConnectionErrorHandler(),a._log)},a._connectionPool=new f.default({create:a._createConnection.bind(a),destroy:a._destroyConnection.bind(a),validate:a._validateConnection.bind(a),installIdleObserver:e._installIdleObserverOnConnection.bind(a),removeIdleObserver:e._removeIdleObserverOnConnection.bind(a),config:f.PoolConfig.fromDriverConfig(i),log:a._log}),a._openConnections={},a}return o(e,t),e.prototype._createConnectionErrorHandler=function(){return new l.ConnectionErrorHandler(p)},e.prototype._createConnection=function(t,e){var n=this;return this._createChannelConnection(t).then(function(r){return r._release=function(){return e(t,r)},n._openConnections[r.id]=r,r.connect(n._userAgent,n._authToken).catch(function(t){throw n._destroyConnection(r),t})})},e.prototype._validateConnection=function(t){if(!t.isOpen())return!1;var e=this._config.maxConnectionLifetime;return Date.now()-t.creationTimestamp<=e},e.prototype._destroyConnection=function(t){return delete this._openConnections[t.id],t.close()},e.prototype.close=function(){return c(this,void 0,void 0,function(){return a(this,function(t){switch(t.label){case 0:return[4,this._connectionPool.close()];case 1:return t.sent(),[4,Promise.all(Object.values(this._openConnections).map(function(t){return t.close()}))];case 2:return t.sent(),[2]}})})},e._installIdleObserverOnConnection=function(t,e){t._queueObserver(e)},e._removeIdleObserverOnConnection=function(t){t._updateCurrentObserver()},e}(h.ConnectionProvider)},1473:(t,e,n)=>{"use strict";var r=n(2448);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n(8813)),i=r(n(6205)),s=n(4169),u=r(n(6712));r(n(4096)),e.default=function(){function t(e){(0,o.default)(this,t),this._txc=e}return(0,i.default)(t,[{key:"run",value:function(t,e){var n=this;return new u.default(new s.Observable(function(r){try{r.next(n._txc.run(t,e)),r.complete()}catch(t){r.error(t)}return function(){}}))}},{key:"commit",value:function(){var t=this;return new s.Observable(function(e){t._txc.commit().then(function(){e.complete()}).catch(function(t){return e.error(t)})})}},{key:"rollback",value:function(){var t=this;return new s.Observable(function(e){t._txc.rollback().then(function(){e.complete()}).catch(function(t){return e.error(t)})})}},{key:"close",value:function(){var t=this;return new s.Observable(function(e){t._txc.close().then(function(){e.complete()}).catch(function(t){return e.error(t)})})}}]),t}()},1522:function(t,e,n){"use strict";var r=this&&this.__assign||function(){return(r=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},o=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.Url=e.formatIPv6Address=e.formatIPv4Address=e.defaultPortForScheme=e.parseDatabaseUrl=void 0;var i=n(990),s=function(t,e,n,r,o){this.scheme=t,this.host=e,this.port=n,this.hostAndPort=r,this.query=o};function u(t,e,n){if(!(t=(t||"").trim()))throw Error("Illegal empty "+e+" in URL query '"+n+"'");return t}function c(t){var e="["===t.charAt(0),n="]"===t.charAt(t.length-1);if(!e&&!n)return"["+t+"]";if(e&&n)return t;throw Error("Illegal IPv6 address "+t)}function a(t){return"http"===t?7474:"https"===t?7473:7687}e.Url=s,e.parseDatabaseUrl=function(t){(0,i.assertString)(t,"URL");var e,n,l,f,h,p,d,b,v,_,y=-1===(e=(e=t).trim()).indexOf("://")?{schemeMissing:!0,url:"none://"+e}:{schemeMissing:!1,url:e},m=function(t){function e(t,e){var n=t.indexOf(e);return n>=0?[t.substring(0,n),t[n],t.substring(n+1)]:[t,"",""]}var n,i,s,u,c,a,l,f,h,p,d,b={};return(":"===(d=e(t,":"))[1]&&(b.scheme=decodeURIComponent(d[0]),t=d[2]),"#"===(d=e(t,"#"))[1]&&(b.fragment=decodeURIComponent(d[2]),t=d[0]),"?"===(d=e(t,"?"))[1]&&(b.query=d[2],t=d[0]),t.startsWith("//"))?(d=e(t.substr(2),"/"),(b=r(r({},b),(n=d[0],s={},"@"===(i=(c=(u=n).lastIndexOf("@"))>=0?[u.substring(0,c),u[c],u.substring(c+1)]:["","",u])[1]&&(s.userInfo=decodeURIComponent(i[0]),n=i[2]),h=(f=o((a=e(n,"["),[(l=e(a[2],"]"))[0],l[2]]),2))[0],p=f[1],""!==h?(s.host=h,i=e(p,":")):s.host=(i=e(n,":"))[0],":"===i[1]&&(s.port=i[2]),s))).path=d[1]+d[2]):b.path=t,b}(y.url),g=y.schemeMissing?null:(n=m.scheme)?(":"===(n=n.trim()).charAt(n.length-1)&&(n=n.substring(0,n.length-1)),n):null,w=function(t,e){if(!t)throw Error("Unable to extract host from undefined");return t.trim()}(m.host),E=function(t){if(!t)throw Error("Illegal host "+t);return t.indexOf(":")>=0?c(t):t}(w),O=(l=m.port,f=g,0===(h="string"==typeof l?parseInt(l,10):l)||h?h:a(f));return new s(g,w,O,E+":"+O,(p=m.query||function(t){if("string"!=typeof t)return null;var e=o(t.split("?"),2);return e[0],e[1]}(m.resourceName),d=t,v=p?((b=((b=p)||"").trim())&&"?"===b.charAt(0)&&(b=b.substring(1,b.length)),b):null,_={},v&&v.split("&").forEach(function(t){var e=t.split("=");if(2!==e.length)throw Error("Invalid parameters: '"+e+"' in URL '"+d+"'.");var n=u(e[0],"key",d),r=u(e[1],"value",d);if(_[n])throw Error("Duplicated query parameters with key '"+n+"' in URL '"+d+"'");_[n]=r}),_))},e.formatIPv4Address=function(t,e){return t+":"+e},e.formatIPv6Address=function(t,e){return c(t)+":"+e},e.defaultPortForScheme=a},1773:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.RoutingConnectionProvider=e.DirectConnectionProvider=e.PooledConnectionProvider=e.SingleConnectionProvider=void 0;var o=n(7536);Object.defineProperty(e,"SingleConnectionProvider",{enumerable:!0,get:function(){return r(o).default}});var i=n(1411);Object.defineProperty(e,"PooledConnectionProvider",{enumerable:!0,get:function(){return r(i).default}});var s=n(7661);Object.defineProperty(e,"DirectConnectionProvider",{enumerable:!0,get:function(){return r(s).default}});var u=n(3376);Object.defineProperty(e,"RoutingConnectionProvider",{enumerable:!0,get:function(){return r(u).default}})},1864:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(s,u)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){var c=[i,u];if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){s=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){s.label=c[1];break}if(6===c[0]&&s.label<o[1]){s.label=o[1],o=c;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(c);break}o[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=n(990),u=n(549),c=n(8174),a=n(5405),l=n(8439),f=n(5849),h=i(n(9719)),p=function(){function t(t){var e=t.connectionHolder,n=t.onClose,r=t.onBookmark,o=t.onConnection,i=t.reactive,s=t.fetchSize,u=t.impersonatedUser;this._connectionHolder=e,this._reactive=i,this._state=d.ACTIVE,this._onClose=n,this._onBookmark=r,this._onConnection=o,this._onError=this._onErrorCallback.bind(this),this._onComplete=this._onCompleteCallback.bind(this),this._fetchSize=s,this._results=[],this._impersonatedUser=u}return t.prototype._begin=function(t,e){var n=this;this._connectionHolder.getConnection().then(function(r){if(n._onConnection(),r)return r.protocol().beginTransaction({bookmark:t,txConfig:e,mode:n._connectionHolder.mode(),database:n._connectionHolder.database(),impersonatedUser:n._impersonatedUser,beforeError:n._onError,afterComplete:n._onComplete});throw(0,f.newError)("No connection available")}).catch(function(t){return n._onError(t)})},t.prototype.run=function(t,e){var n=(0,s.validateQueryAndParameters)(t,e),r=n.validatedQuery,o=n.params,i=this._state.run(r,o,{connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,reactive:this._reactive,fetchSize:this._fetchSize});return this._results.push(i),i},t.prototype.commit=function(){var t=this._state.commit({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,pendingResults:this._results});return this._state=t.state,this._onClose(),new Promise(function(e,n){t.result.subscribe({onCompleted:function(){return e()},onError:function(t){return n(t)}})})},t.prototype.rollback=function(){var t=this._state.rollback({connectionHolder:this._connectionHolder,onError:this._onError,onComplete:this._onComplete,onConnection:this._onConnection,pendingResults:this._results});return this._state=t.state,this._onClose(),new Promise(function(e,n){t.result.subscribe({onCompleted:function(){return e()},onError:function(t){return n(t)}})})},t.prototype.isOpen=function(){return this._state===d.ACTIVE},t.prototype.close=function(){return r(this,void 0,void 0,function(){return o(this,function(t){switch(t.label){case 0:if(!this.isOpen())return[3,2];return[4,this.rollback()];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype._onErrorCallback=function(t){return this._state=d.FAILED,this._onClose(),this._connectionHolder.releaseConnection()},t.prototype._onCompleteCallback=function(t){this._onBookmark(new c.Bookmark(t.bookmark))},t}(),d={ACTIVE:{commit:function(t){return{result:b(!0,t.connectionHolder,t.onError,t.onComplete,t.onConnection,t.pendingResults),state:d.SUCCEEDED}},rollback:function(t){return{result:b(!1,t.connectionHolder,t.onError,t.onComplete,t.onConnection,t.pendingResults),state:d.ROLLED_BACK}},run:function(t,e,n){var r=n.connectionHolder,o=n.onError,i=n.onComplete,s=n.onConnection,u=n.reactive,h=n.fetchSize;return v(r.getConnection().then(function(n){if(s(),n)return n.protocol().run(t,e,{bookmark:c.Bookmark.empty(),txConfig:a.TxConfig.empty(),beforeError:o,afterComplete:i,reactive:u,fetchSize:h});throw(0,f.newError)("No connection available")}).catch(function(t){return new l.FailedObserver({error:t,onError:o})}),t,e,r)}},FAILED:{commit:function(t){var e=t.connectionHolder,n=t.onError;return t.onComplete,{result:v(new l.FailedObserver({error:(0,f.newError)("Cannot commit this transaction, because it has been rolled back either because of an error or explicit termination."),onError:n}),"COMMIT",{},e),state:d.FAILED}},rollback:function(t){var e=t.connectionHolder;return t.onError,t.onComplete,{result:v(new l.CompletedObserver,"ROLLBACK",{},e),state:d.FAILED}},run:function(t,e,n){var r=n.connectionHolder,o=n.onError;return n.onComplete,v(new l.FailedObserver({error:(0,f.newError)("Cannot run query in this transaction, because it has been rolled back either because of an error or explicit termination."),onError:o}),t,e,r)}},SUCCEEDED:{commit:function(t){var e=t.connectionHolder,n=t.onError;return t.onComplete,{result:v(new l.FailedObserver({error:(0,f.newError)("Cannot commit this transaction, because it has already been committed."),onError:n}),"COMMIT",{}),state:d.SUCCEEDED,connectionHolder:e}},rollback:function(t){var e=t.connectionHolder,n=t.onError;return t.onComplete,{result:v(new l.FailedObserver({error:(0,f.newError)("Cannot rollback this transaction, because it has already been committed."),onError:n}),"ROLLBACK",{}),state:d.SUCCEEDED,connectionHolder:e}},run:function(t,e,n){var r=n.connectionHolder,o=n.onError;return n.onComplete,v(new l.FailedObserver({error:(0,f.newError)("Cannot run query in this transaction, because it has already been committed."),onError:o}),t,e,r)}},ROLLED_BACK:{commit:function(t){var e=t.connectionHolder,n=t.onError;return t.onComplete,{result:v(new l.FailedObserver({error:(0,f.newError)("Cannot commit this transaction, because it has already been rolled back."),onError:n}),"COMMIT",{},e),state:d.ROLLED_BACK}},rollback:function(t){var e=t.connectionHolder;return t.onError,t.onComplete,{result:v(new l.FailedObserver({error:(0,f.newError)("Cannot rollback this transaction, because it has already been rolled back.")}),"ROLLBACK",{},e),state:d.ROLLED_BACK}},run:function(t,e,n){var r=n.connectionHolder,o=n.onError;return n.onComplete,v(new l.FailedObserver({error:(0,f.newError)("Cannot run query in this transaction, because it has already been rolled back."),onError:o}),t,e,r)}}};function b(t,e,n,r,o,i){var s=e.getConnection().then(function(e){return o(),i.forEach(function(t){return t._cancel()}),Promise.all(i).then(function(o){if(e)if(t)return e.protocol().commitTransaction({beforeError:n,afterComplete:r});else return e.protocol().rollbackTransaction({beforeError:n,afterComplete:r});throw(0,f.newError)("No connection available")})}).catch(function(t){return new l.FailedObserver({error:t,onError:n})});return new h.default(s,t?"COMMIT":"ROLLBACK",{},e)}function v(t,e,n,r){return void 0===r&&(r=u.EMPTY_CONNECTION_HOLDER),new h.default(Promise.resolve(t),e,n,new u.ReadOnlyConnectionHolder(r||u.EMPTY_CONNECTION_HOLDER))}e.default=p},1876:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={basic:function(t,e,n){return n?{scheme:"basic",principal:t,credentials:e,realm:n}:{scheme:"basic",principal:t,credentials:e}},kerberos:function(t){return{scheme:"kerberos",principal:"",credentials:t}},bearer:function(t){return{scheme:"bearer",credentials:t}},custom:function(t,e,n,r,o){return o?{scheme:r,principal:t,credentials:e,realm:n,parameters:o}:{scheme:r,principal:t,credentials:e,realm:n}}}},2063:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){function t(){}return t.prototype.selectReader=function(t){throw Error("Abstract function")},t.prototype.selectWriter=function(t){throw Error("Abstract function")},t}()},2256:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s};Object.defineProperty(e,"__esModule",{value:!0}),e.isDateTime=e.DateTime=e.isLocalDateTime=e.LocalDateTime=e.isDate=e.Date=e.isTime=e.Time=e.isLocalTime=e.LocalTime=e.isDuration=e.Duration=void 0;var u=i(n(9745)),c=n(990),a=n(5849),l=i(n(1154)),f={value:!0,enumerable:!1,configurable:!1,writable:!1},h="__isDuration__",p="__isLocalTime__",d="__isTime__",b="__isDate__",v="__isLocalDateTime__",_="__isDateTime__",y=function(){function t(t,e,n,r){this.months=(0,c.assertNumberOrInteger)(t,"Months"),this.days=(0,c.assertNumberOrInteger)(e,"Days"),(0,c.assertNumberOrInteger)(n,"Seconds"),(0,c.assertNumberOrInteger)(r,"Nanoseconds"),this.seconds=u.normalizeSecondsForDuration(n,r),this.nanoseconds=u.normalizeNanosecondsForDuration(r),Object.freeze(this)}return t.prototype.toString=function(){return u.durationToIsoString(this.months,this.days,this.seconds,this.nanoseconds)},t}();e.Duration=y,Object.defineProperty(y.prototype,h,f),e.isDuration=function(t){return S(t,h)};var m=function(){function t(t,e,n,r){this.hour=u.assertValidHour(t),this.minute=u.assertValidMinute(e),this.second=u.assertValidSecond(n),this.nanosecond=u.assertValidNanosecond(r),Object.freeze(this)}return t.fromStandardDate=function(e,n){C(e,n);var r=u.totalNanoseconds(e,n);return new t(e.getHours(),e.getMinutes(),e.getSeconds(),r instanceof l.default?r.toInt():"bigint"==typeof r?(0,l.int)(r).toInt():r)},t.prototype.toString=function(){return u.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)},t}();e.LocalTime=m,Object.defineProperty(m.prototype,p,f),e.isLocalTime=function(t){return S(t,p)};var g=function(){function t(t,e,n,r,o){this.hour=u.assertValidHour(t),this.minute=u.assertValidMinute(e),this.second=u.assertValidSecond(n),this.nanosecond=u.assertValidNanosecond(r),this.timeZoneOffsetSeconds=(0,c.assertNumberOrInteger)(o,"Time zone offset in seconds"),Object.freeze(this)}return t.fromStandardDate=function(e,n){return C(e,n),new t(e.getHours(),e.getMinutes(),e.getSeconds(),(0,l.toNumber)(u.totalNanoseconds(e,n)),u.timeZoneOffsetInSeconds(e))},t.prototype.toString=function(){return u.timeToIsoString(this.hour,this.minute,this.second,this.nanosecond)+u.timeZoneOffsetToIsoString(this.timeZoneOffsetSeconds)},t}();e.Time=g,Object.defineProperty(g.prototype,d,f),e.isTime=function(t){return S(t,d)};var w=function(){function t(t,e,n){this.year=u.assertValidYear(t),this.month=u.assertValidMonth(e),this.day=u.assertValidDay(n),Object.freeze(this)}return t.fromStandardDate=function(e){return C(e),new t(e.getFullYear(),e.getMonth()+1,e.getDate())},t.prototype.toString=function(){return u.dateToIsoString(this.year,this.month,this.day)},t}();e.Date=w,Object.defineProperty(w.prototype,b,f),e.isDate=function(t){return S(t,b)};var E=function(){function t(t,e,n,r,o,i,s){this.year=u.assertValidYear(t),this.month=u.assertValidMonth(e),this.day=u.assertValidDay(n),this.hour=u.assertValidHour(r),this.minute=u.assertValidMinute(o),this.second=u.assertValidSecond(i),this.nanosecond=u.assertValidNanosecond(s),Object.freeze(this)}return t.fromStandardDate=function(e,n){return C(e,n),new t(e.getFullYear(),e.getMonth()+1,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),(0,l.toNumber)(u.totalNanoseconds(e,n)))},t.prototype.toString=function(){return T(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)},t}();e.LocalDateTime=E,Object.defineProperty(E.prototype,v,f),e.isLocalDateTime=function(t){return S(t,v)};var O=function(){function t(t,e,n,r,o,i,l,f,h){this.year=u.assertValidYear(t),this.month=u.assertValidMonth(e),this.day=u.assertValidDay(n),this.hour=u.assertValidHour(r),this.minute=u.assertValidMinute(o),this.second=u.assertValidSecond(i),this.nanosecond=u.assertValidNanosecond(l);var p=s(function(t,e){var n=t||0===t,r=e&&""!==e;if(!n&&!r)throw(0,a.newError)("Unable to create DateTime without either time zone offset or id. Please specify either of them. Given offset: "+t+" and id: "+e);var o=[void 0,void 0];return n&&((0,c.assertNumberOrInteger)(t,"Time zone offset in seconds"),o[0]=t),r&&((0,c.assertString)(e,"Time zone ID"),u.assertValidZoneId("Time zone ID",e),o[1]=e),o}(f,h),2),d=p[0],b=p[1];this.timeZoneOffsetSeconds=d,this.timeZoneId=b||void 0,Object.freeze(this)}return t.fromStandardDate=function(e,n){return C(e,n),new t(e.getFullYear(),e.getMonth()+1,e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),(0,l.toNumber)(u.totalNanoseconds(e,n)),u.timeZoneOffsetInSeconds(e),null)},t.prototype.toString=function(){return T(this.year,this.month,this.day,this.hour,this.minute,this.second,this.nanosecond)+(this.timeZoneId?"["+this.timeZoneId+"]":u.timeZoneOffsetToIsoString(this.timeZoneOffsetSeconds||0))},t}();function S(t,e){return!0===(t&&t[e])}function T(t,e,n,r,o,i,s){return u.dateToIsoString(t,e,n)+"T"+u.timeToIsoString(r,o,i,s)}function C(t,e){(0,c.assertValidDate)(t,"Standard date"),null!=e&&(0,c.assertNumberOrInteger)(e,"Nanosecond")}e.DateTime=O,Object.defineProperty(O.prototype,_,f),e.isDateTime=function(t){return S(t,_)}},2448:t=>{t.exports=function(t){return t&&t.__esModule?t:{default:t}},t.exports.__esModule=!0,t.exports.default=t.exports},2485:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.BOLT_PROTOCOL_V4_4=e.BOLT_PROTOCOL_V4_3=e.BOLT_PROTOCOL_V4_2=e.BOLT_PROTOCOL_V4_1=e.BOLT_PROTOCOL_V4_0=e.BOLT_PROTOCOL_V3=e.BOLT_PROTOCOL_V2=e.BOLT_PROTOCOL_V1=e.DEFAULT_POOL_MAX_SIZE=e.DEFAULT_POOL_ACQUISITION_TIMEOUT=e.ACCESS_MODE_WRITE=e.ACCESS_MODE_READ=e.FETCH_ALL=void 0,e.FETCH_ALL=-1,e.DEFAULT_POOL_ACQUISITION_TIMEOUT=6e4,e.DEFAULT_POOL_MAX_SIZE=100,e.ACCESS_MODE_READ="READ",e.ACCESS_MODE_WRITE="WRITE",e.BOLT_PROTOCOL_V1=1,e.BOLT_PROTOCOL_V2=2,e.BOLT_PROTOCOL_V3=3,e.BOLT_PROTOCOL_V4_0=4,e.BOLT_PROTOCOL_V4_1=4.1,e.BOLT_PROTOCOL_V4_2=4.2,e.BOLT_PROTOCOL_V4_3=4.3,e.BOLT_PROTOCOL_V4_4=4.4},2520:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.ConnectivityVerifier=void 0;var r=n(549),o=n(2485),i=n(5849);e.ConnectivityVerifier=function(){function t(t){this._connectionProvider=t}return t.prototype.verify=function(t){var e,n,s,u=(void 0===t?{}:t).database;return e=this._connectionProvider,n=void 0===u?"":u,(s=new r.ConnectionHolder({mode:o.ACCESS_MODE_READ,database:n,connectionProvider:e})).initializeConnection(),s.getConnection().then(function(t){if(!t)throw(0,i.newError)("Unexpected error acquiring transaction");return s.close().then(function(){return t.server})}).catch(function(t){return s.close().catch(function(t){}).then(function(){return Promise.reject(t)})})},t}()},2549:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.Structure=e.Unpacker=e.Packer=void 0;var r=n(3824),o=n(4096),i=o.internal.objectUtil,s=o.error.PROTOCOL_ERROR,u=function(){function t(t,e){this.signature=t,this.fields=e}return t.prototype.toString=function(){for(var t="",e=0;e<this.fields.length;e++)e>0&&(t+=", "),t+=this.fields[e];return"Structure("+this.signature+", ["+t+"])"},t}();e.Structure=u,e.Packer=function(){function t(t){this._ch=t,this._byteArraysSupported=!0}return t.prototype.packable=function(t){var e,n=this;if(null===t)return function(){return n._ch.writeUInt8(192)};if(!0===t)return function(){return n._ch.writeUInt8(195)};if(!1===t)return function(){return n._ch.writeUInt8(194)};if("number"==typeof t)return function(){return n.packFloat(t)};if("string"==typeof t)return function(){return n.packString(t)};else{if("bigint"==typeof t)return function(){return n.packInteger((0,o.int)(t))};if((0,o.isInt)(t))return function(){return n.packInteger(t)};if(t instanceof Int8Array)return function(){return n.packBytes(t)};if(t instanceof Array)return function(){n.packListHeader(t.length);for(var e=0;e<t.length;e++)n.packable(void 0===t[e]?null:t[e])()};if(null!=(e=t)&&"function"==typeof e[Symbol.iterator])return this.packableIterable(t);else if(t instanceof o.Node)return this._nonPackableValue("It is not allowed to pass nodes in query parameters, given: "+t);else if(t instanceof o.Relationship)return this._nonPackableValue("It is not allowed to pass relationships in query parameters, given: "+t);else if(t instanceof o.Path)return this._nonPackableValue("It is not allowed to pass paths in query parameters, given: "+t);else if(t instanceof u){for(var r=[],i=0;i<t.fields.length;i++)r[i]=this.packable(t.fields[i]);return function(){return n.packStruct(t.signature,r)}}else if("object"==typeof t)return function(){for(var e=Object.keys(t),r=0,o=0;o<e.length;o++)void 0!==t[e[o]]&&r++;n.packMapHeader(r);for(var i=0;i<e.length;i++){var s=e[i];void 0!==t[s]&&(n.packString(s),n.packable(t[s])())}};else return this._nonPackableValue("Unable to pack the given value: "+t)}},t.prototype.packableIterable=function(t){try{var e=Array.from(t);return this.packable(e)}catch(e){throw(0,o.newError)("Cannot pack given iterable, "+e.message+": "+t)}},t.prototype.packStruct=function(t,e){e=e||[],this.packStructHeader(e.length,t);for(var n=0;n<e.length;n++)e[n]()},t.prototype.packInteger=function(t){var e=t.high,n=t.low;t.greaterThanOrEqual(-16)&&t.lessThan(128)?this._ch.writeInt8(n):t.greaterThanOrEqual(-128)&&t.lessThan(-16)?(this._ch.writeUInt8(200),this._ch.writeInt8(n)):t.greaterThanOrEqual(-32768)&&t.lessThan(32768)?(this._ch.writeUInt8(201),this._ch.writeInt16(n)):(t.greaterThanOrEqual(-0x80000000)&&t.lessThan(0x80000000)?this._ch.writeUInt8(202):(this._ch.writeUInt8(203),this._ch.writeInt32(e)),this._ch.writeInt32(n))},t.prototype.packFloat=function(t){this._ch.writeUInt8(193),this._ch.writeFloat64(t)},t.prototype.packString=function(t){var e=r.utf8.encode(t),n=e.length;if(n<16)this._ch.writeUInt8(128|n),this._ch.writeBytes(e);else if(n<256)this._ch.writeUInt8(208),this._ch.writeUInt8(n),this._ch.writeBytes(e);else if(n<65536)this._ch.writeUInt8(209),this._ch.writeUInt8(n/256|0),this._ch.writeUInt8(n%256),this._ch.writeBytes(e);else if(n<0x100000000)this._ch.writeUInt8(210),this._ch.writeUInt8((n/0x1000000|0)%256),this._ch.writeUInt8((n/65536|0)%256),this._ch.writeUInt8((n/256|0)%256),this._ch.writeUInt8(n%256),this._ch.writeBytes(e);else throw(0,o.newError)("UTF-8 strings of size "+n+" are not supported")},t.prototype.packListHeader=function(t){if(t<16)this._ch.writeUInt8(144|t);else if(t<256)this._ch.writeUInt8(212),this._ch.writeUInt8(t);else if(t<65536)this._ch.writeUInt8(213),this._ch.writeUInt8((t/256|0)%256),this._ch.writeUInt8(t%256);else if(t<0x100000000)this._ch.writeUInt8(214),this._ch.writeUInt8((t/0x1000000|0)%256),this._ch.writeUInt8((t/65536|0)%256),this._ch.writeUInt8((t/256|0)%256),this._ch.writeUInt8(t%256);else throw(0,o.newError)("Lists of size "+t+" are not supported")},t.prototype.packBytes=function(t){if(this._byteArraysSupported){this.packBytesHeader(t.length);for(var e=0;e<t.length;e++)this._ch.writeInt8(t[e])}else throw(0,o.newError)("Byte arrays are not supported by the database this driver is connected to")},t.prototype.packBytesHeader=function(t){if(t<256)this._ch.writeUInt8(204),this._ch.writeUInt8(t);else if(t<65536)this._ch.writeUInt8(205),this._ch.writeUInt8((t/256|0)%256),this._ch.writeUInt8(t%256);else if(t<0x100000000)this._ch.writeUInt8(206),this._ch.writeUInt8((t/0x1000000|0)%256),this._ch.writeUInt8((t/65536|0)%256),this._ch.writeUInt8((t/256|0)%256),this._ch.writeUInt8(t%256);else throw(0,o.newError)("Byte arrays of size "+t+" are not supported")},t.prototype.packMapHeader=function(t){if(t<16)this._ch.writeUInt8(160|t);else if(t<256)this._ch.writeUInt8(216),this._ch.writeUInt8(t);else if(t<65536)this._ch.writeUInt8(217),this._ch.writeUInt8(t/256|0),this._ch.writeUInt8(t%256);else if(t<0x100000000)this._ch.writeUInt8(218),this._ch.writeUInt8((t/0x1000000|0)%256),this._ch.writeUInt8((t/65536|0)%256),this._ch.writeUInt8((t/256|0)%256),this._ch.writeUInt8(t%256);else throw(0,o.newError)("Maps of size "+t+" are not supported")},t.prototype.packStructHeader=function(t,e){if(t<16)this._ch.writeUInt8(176|t),this._ch.writeUInt8(e);else if(t<256)this._ch.writeUInt8(220),this._ch.writeUInt8(t),this._ch.writeUInt8(e);else if(t<65536)this._ch.writeUInt8(221),this._ch.writeUInt8(t/256|0),this._ch.writeUInt8(t%256);else throw(0,o.newError)("Structures of size "+t+" are not supported")},t.prototype.disableByteArrays=function(){this._byteArraysSupported=!1},t.prototype._nonPackableValue=function(t){return function(){throw(0,o.newError)(t,s)}},t}(),e.Unpacker=function(){function t(t,e){void 0===t&&(t=!1),void 0===e&&(e=!1),this._disableLosslessIntegers=t,this._useBigInt=e}return t.prototype.unpack=function(t){var e=t.readUInt8(),n=240&e,r=15&e;if(192===e)return null;var i=this._unpackBoolean(e);if(null!==i)return i;var s=this._unpackNumberOrInteger(e,t);if(null!==s){if((0,o.isInt)(s)){if(this._useBigInt)return s.toBigInt();else if(this._disableLosslessIntegers)return s.toNumberOrInfinity()}return s}var u=this._unpackString(e,n,r,t);if(null!==u)return u;var c=this._unpackList(e,n,r,t);if(null!==c)return c;var a=this._unpackByteArray(e,t);if(null!==a)return a;var l=this._unpackMap(e,n,r,t);if(null!==l)return l;var f=this._unpackStruct(e,n,r,t);if(null!==f)return f;throw(0,o.newError)("Unknown packed value with marker "+e.toString(16))},t.prototype.unpackInteger=function(t){var e=t.readUInt8(),n=this._unpackInteger(e,t);if(null==n)throw(0,o.newError)("Unable to unpack integer value with marker "+e.toString(16));return n},t.prototype._unpackBoolean=function(t){return 195===t||194!==t&&null},t.prototype._unpackNumberOrInteger=function(t,e){return 193===t?e.readFloat64():this._unpackInteger(t,e)},t.prototype._unpackInteger=function(t,e){if(t>=0&&t<128)return(0,o.int)(t);if(t>=240&&t<256)return(0,o.int)(t-256);if(200===t)return(0,o.int)(e.readInt8());if(201===t)return(0,o.int)(e.readInt16());if(202===t){var n=e.readInt32();return(0,o.int)(n)}else{if(203!==t)return null;var r=e.readInt32(),i=e.readInt32();return new o.Integer(i,r)}},t.prototype._unpackString=function(t,e,n,o){return 128===e?r.utf8.decode(o,n):208===t?r.utf8.decode(o,o.readUInt8()):209===t?r.utf8.decode(o,o.readUInt16()):210===t?r.utf8.decode(o,o.readUInt32()):null},t.prototype._unpackList=function(t,e,n,r){return 144===e?this._unpackListWithSize(n,r):212===t?this._unpackListWithSize(r.readUInt8(),r):213===t?this._unpackListWithSize(r.readUInt16(),r):214===t?this._unpackListWithSize(r.readUInt32(),r):null},t.prototype._unpackListWithSize=function(t,e){for(var n=[],r=0;r<t;r++)n.push(this.unpack(e));return n},t.prototype._unpackByteArray=function(t,e){return 204===t?this._unpackByteArrayWithSize(e.readUInt8(),e):205===t?this._unpackByteArrayWithSize(e.readUInt16(),e):206===t?this._unpackByteArrayWithSize(e.readUInt32(),e):null},t.prototype._unpackByteArrayWithSize=function(t,e){for(var n=new Int8Array(t),r=0;r<t;r++)n[r]=e.readInt8();return n},t.prototype._unpackMap=function(t,e,n,r){return 160===e?this._unpackMapWithSize(n,r):216===t?this._unpackMapWithSize(r.readUInt8(),r):217===t?this._unpackMapWithSize(r.readUInt16(),r):218===t?this._unpackMapWithSize(r.readUInt32(),r):null},t.prototype._unpackMapWithSize=function(t,e){for(var n={},r=0;r<t;r++)n[this.unpack(e)]=this.unpack(e);return n},t.prototype._unpackStruct=function(t,e,n,r){try{if(176===e)return this._unpackStructWithSize(n,r);if(220===t)return this._unpackStructWithSize(r.readUInt8(),r);if(221===t)return this._unpackStructWithSize(r.readUInt16(),r);else return null}catch(t){return i.createBrokenObject(t)}},t.prototype._unpackStructWithSize=function(t,e){var n=e.readUInt8();return 78===n?this._unpackNode(t,e):82===n?this._unpackRelationship(t,e):114===n?this._unpackUnboundRelationship(t,e):80===n?this._unpackPath(t,e):this._unpackUnknownStruct(n,t,e)},t.prototype._unpackNode=function(t,e){return this._verifyStructSize("Node",3,t),new o.Node(this.unpack(e),this.unpack(e),this.unpack(e))},t.prototype._unpackRelationship=function(t,e){return this._verifyStructSize("Relationship",5,t),new o.Relationship(this.unpack(e),this.unpack(e),this.unpack(e),this.unpack(e),this.unpack(e))},t.prototype._unpackUnboundRelationship=function(t,e){return this._verifyStructSize("UnboundRelationship",3,t),new o.UnboundRelationship(this.unpack(e),this.unpack(e),this.unpack(e))},t.prototype._unpackPath=function(t,e){this._verifyStructSize("Path",3,t);for(var n=this.unpack(e),r=this.unpack(e),i=this.unpack(e),s=[],u=n[0],c=0;c<i.length;c+=2){var a=n[i[c+1]],l=(0,o.toNumber)(i[c]),f=void 0;l>0?(f=r[l-1])instanceof o.UnboundRelationship&&(r[l-1]=f=f.bind(u.identity,a.identity)):(f=r[-l-1])instanceof o.UnboundRelationship&&(r[-l-1]=f=f.bind(a.identity,u.identity)),s.push(new o.PathSegment(u,f,a)),u=a}return new o.Path(n[0],n[n.length-1],s)},t.prototype._unpackUnknownStruct=function(t,e,n){for(var r=new u(t,[]),o=0;o<e;o++)r.fields.push(this.unpack(n));return r},t.prototype._verifyStructSize=function(t,e,n){if(e!==n)throw(0,o.newError)("Wrong struct size for "+t+", expected "+e+" but was "+n,s)},t}()},2568:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.ServerAddress=void 0;var s=n(990),u=i(n(1522));e.ServerAddress=function(){function t(t,e,n,r){this._host=(0,s.assertString)(t,"host"),this._resolved=e?(0,s.assertString)(e,"resolved"):null,this._port=(0,s.assertNumber)(n,"port"),this._hostPort=r,this._stringValue=e?r+"("+e+")":""+r}return t.prototype.host=function(){return this._host},t.prototype.resolvedHost=function(){return this._resolved?this._resolved:this._host},t.prototype.port=function(){return this._port},t.prototype.resolveWith=function(e){return new t(this._host,e,this._port,this._hostPort)},t.prototype.asHostPort=function(){return this._hostPort},t.prototype.asKey=function(){return this._hostPort},t.prototype.toString=function(){return this._stringValue},t.fromUrl=function(e){var n=u.parseDatabaseUrl(e);return new t(n.host,null,n.port,n.hostAndPort)},t}()},2653:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.createChannelConnection=e.ConnectionErrorHandler=e.DelegateConnection=e.ChannelConnection=e.Connection=void 0;var u=s(n(4925));e.Connection=u.default;var c=i(n(9663));e.ChannelConnection=c.default,Object.defineProperty(e,"createChannelConnection",{enumerable:!0,get:function(){return c.createChannelConnection}}),e.DelegateConnection=s(n(9333)).default,e.ConnectionErrorHandler=s(n(7736)).default,e.default=u.default},2654:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){function t(){}return t.prototype.acquireConnection=function(t){throw Error("Not implemented")},t.prototype.supportsMultiDb=function(){throw Error("Not implemented")},t.prototype.supportsTransactionConfig=function(){throw Error("Not implemented")},t.prototype.supportsUserImpersonation=function(){throw Error("Not implemented")},t.prototype.close=function(){throw Error("Not implemented")},t}()},2726:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getBrokenObjectReason=e.isBrokenObject=e.createBrokenObject=void 0;var n="__isBrokenObject__",r="__reason__";e.createBrokenObject=function(t,e){void 0===e&&(e={});var o=function(){throw t};return new Proxy(e,{get:function(e,i){return i===n||(i===r?t:void("toJSON"!==i&&o()))},set:o,apply:o,construct:o,defineProperty:o,deleteProperty:o,getOwnPropertyDescriptor:o,getPrototypeOf:o,has:o,isExtensible:o,ownKeys:o,preventExtensions:o,setPrototypeOf:o})},e.isBrokenObject=function(t){return null!==t&&"object"==typeof t&&!0===t[n]},e.getBrokenObjectReason=function(t){return t[r]}},2741:(t,e,n)=>{var r=n(482);t.exports=function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&r(t,e)},t.exports.__esModule=!0,t.exports.default=t.exports},2816:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.packDateTime=e.unpackDateTimeWithZoneId=e.unpackDateTimeWithZoneOffset=e.DATE_TIME_WITH_ZONE_ID=e.DATE_TIME_WITH_ZONE_OFFSET=void 0;var r=n(4096),o=n(4731),i=r.internal.temporalUtil.localDateTimeToEpochSecond;function s(t,e,n){var o=new Intl.DateTimeFormat("en-US",{timeZone:t,year:"numeric",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric",second:"numeric",hour12:!1,era:"narrow"}),s=(0,r.int)(e).multiply(1e3).add((0,r.int)(n).div(1e6)).toNumber(),u=o.formatToParts(s).reduce(function(t,e){return"era"===e.type?t.adjustEra="B"===e.value.toUpperCase()?function(t){return t.subtract(1).negate()}:function(t){return t}:"hour"===e.type?t.hour=(0,r.int)(e.value).modulo(24):"literal"!==e.type&&(t[e.type]=(0,r.int)(e.value)),t},{});u.year=u.adjustEra(u.year);var c=i(u.year,u.month,u.day,u.hour,u.minute,u.second,u.nanosecond);return u.timeZoneOffsetSeconds=c.subtract(e),u.hour=u.hour.modulo(24),u}function u(t,e,n){if(!e&&!n)return t;var o=Object.create(Object.getPrototypeOf(t));for(var i in t)if(!0===Object.prototype.hasOwnProperty.call(t,i)){var s=t[i];o[i]=(0,r.isInt)(s)?n?s.toBigInt():s.toNumberOrInfinity():s}return Object.freeze(o),o}e.DATE_TIME_WITH_ZONE_OFFSET=73,e.DATE_TIME_WITH_ZONE_ID=105,e.unpackDateTimeWithZoneOffset=function(t,e,n,i,s){t._verifyStructSize("DateTimeWithZoneOffset",3,e);var c=t.unpackInteger(n),a=t.unpackInteger(n),l=t.unpackInteger(n),f=(0,r.int)(c).add(l),h=(0,o.epochSecondAndNanoToLocalDateTime)(f,a);return u(new r.DateTime(h.year,h.month,h.day,h.hour,h.minute,h.second,h.nanosecond,l,null),i,s)},e.unpackDateTimeWithZoneId=function(t,e,n,o,i){t._verifyStructSize("DateTimeWithZoneId",3,e);var c=t.unpackInteger(n),a=t.unpackInteger(n),l=t.unpack(n),f=s(l,c,a);return u(new r.DateTime(f.year,f.month,f.day,f.hour,f.minute,f.second,(0,r.int)(a),f.timeZoneOffsetSeconds,l),o,i)},e.packDateTime=function(t,n){var o,u,c,a,l,f,h,p,d,b,v,_,y,m,g,w,E,O,S,T,C,x;t.timeZoneId?(o=t,u=n,b=i(o.year,o.month,o.day,o.hour,o.minute,o.second,o.nanosecond),v=null!=o.timeZoneOffsetSeconds?o.timeZoneOffsetSeconds:(c=o.timeZoneId,h=i((f=s(c,a=b,l=o.nanosecond)).year,f.month,f.day,f.hour,f.minute,f.second,l).subtract(a),i((d=s(c,p=a.subtract(h),l)).year,d.month,d.day,d.hour,d.minute,d.second,l).subtract(p)),_=b.subtract(v),y=(0,r.int)(o.nanosecond),m=o.timeZoneId,g=[u.packable(_),u.packable(y),u.packable(m)],u.packStruct(e.DATE_TIME_WITH_ZONE_ID,g)):(w=t,E=n,O=i(w.year,w.month,w.day,w.hour,w.minute,w.second,w.nanosecond),S=(0,r.int)(w.nanosecond),T=(0,r.int)(w.timeZoneOffsetSeconds),C=O.subtract(T),x=[E.packable(C),E.packable(S),E.packable(T)],E.packStruct(e.DATE_TIME_WITH_ZONE_OFFSET,x))}},3229:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(4295)),i=n(4096),s=r(n(9428)),u=new(n(1204)).StringDecoder("utf8");e.default={encode:function(t){var e;return new o.default((e=t,"function"==typeof s.default.Buffer.from?s.default.Buffer.from(e,"utf8"):new s.default.Buffer(e,"utf8")))},decode:function(t,e){var n,r,o,s,c,a,l,f,h,p,d,b;if(Object.prototype.hasOwnProperty.call(t,"_buffer")){return n=t,r=e,s=(o=n.position)+r,n.position=Math.min(s,n.length),n._buffer.toString("utf8",o,s)}if(Object.prototype.hasOwnProperty.call(t,"_buffers")){return c=t,a=e,l=c,f=a,h=function(t){return u.write(t._buffer)},p=function(){return u.end()},d=f,b=l.position,l._updatePos(Math.min(f,l.length-b)),l._buffers.reduce(function(t,e){if(d<=0)return t;if(b>=e.length)return b-=e.length,"";e._updatePos(b-e.position);var n=Math.min(e.length-b,d),r=e.readSlice(n);return e._updatePos(n),d=Math.max(d-r.length,0),b=0,t+h(r)},"")+p()}throw(0,i.newError)("Don't know how to decode strings from '"+t+"'")}}},3303:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(9126)),u=n(4096),c=i(n(4777)),a=n(382),l=u.internal.constants,f=l.BOLT_PROTOCOL_V4_4,h=l.FETCH_ALL,p=u.internal.bookmark.Bookmark;e.default=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"version",{get:function(){return f},enumerable:!1,configurable:!0}),e.prototype.requestRoutingInformation=function(t){var e=t.routingContext,n=t.databaseName,r=t.impersonatedUser,o=t.sessionContext,i=t.onError,s=t.onCompleted,u=new a.RouteObserver({onProtocolError:this._onProtocolError,onError:i,onCompleted:s}),l=(void 0===o?{}:o).bookmark||p.empty();return this.write(c.default.routeV4x4(void 0===e?{}:e,l.values(),{databaseName:void 0===n?null:n,impersonatedUser:void 0===r?null:r}),u,!0),u},e.prototype.run=function(t,e,n){var r=void 0===n?{}:n,o=r.bookmark,i=r.txConfig,s=r.database,u=r.mode,l=r.impersonatedUser,f=r.beforeKeys,p=r.afterKeys,d=r.beforeError,b=r.afterError,v=r.beforeComplete,_=r.afterComplete,y=r.flush,m=void 0===y||y,g=r.reactive,w=void 0!==g&&g,E=r.fetchSize,O=void 0===E?h:E,S=new a.ResultStreamObserver({server:this._server,reactive:w,fetchSize:O,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:f,afterKeys:p,beforeError:d,afterError:b,beforeComplete:v,afterComplete:_});return this.write(c.default.runWithMetadata(t,e,{bookmark:o,txConfig:i,database:s,mode:u,impersonatedUser:l}),S,w&&m),w||this.write(c.default.pull({n:O}),S,m),S},e.prototype.beginTransaction=function(t){var e=void 0===t?{}:t,n=e.bookmark,r=e.txConfig,o=e.database,i=e.mode,s=e.impersonatedUser,u=e.beforeError,l=e.afterError,f=e.beforeComplete,h=e.afterComplete,p=new a.ResultStreamObserver({server:this._server,beforeError:u,afterError:l,beforeComplete:f,afterComplete:h});return p.prepareToHandleSingleResponse(),this.write(c.default.begin({bookmark:n,txConfig:r,database:o,mode:i,impersonatedUser:s}),p,!0),p},e}(s.default)},3376:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),u=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),c=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&s(e,t,n);return u(e,t),e},a=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(s,u)}c((r=r.apply(t,e||[])).next())})},l=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){var c=[i,u];if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){s=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){s.label=c[1];break}if(6===c[0]&&s.label<o[1]){s.label=o[1],o=c;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(c);break}o[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}},f=this&&this.__values||function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")},h=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},p=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var d=n(4096),b=c(n(30)),v=n(3824),_=p(n(7536)),y=p(n(1411)),m=n(9087),g=n(2653),w=d.error.SERVICE_UNAVAILABLE,E=d.error.SESSION_EXPIRED,O=d.internal.bookmark.Bookmark,S=d.internal.constants,T=S.ACCESS_MODE_READ,C=S.ACCESS_MODE_WRITE,x=S.BOLT_PROTOCOL_V3,I=S.BOLT_PROTOCOL_V4_0,P=S.BOLT_PROTOCOL_V4_4,N=(0,d.int)(3e4);e.default=function(t){function e(e){var n=e.id,r=e.address,o=e.routingContext,s=e.hostNameResolver,u=e.config,c=e.log,a=e.userAgent,l=e.authToken,f=e.routingTablePurgeDelay,h=t.call(this,{id:n,config:u,log:c,userAgent:a,authToken:l},function(t){return(0,g.createChannelConnection)(t,h._config,h._createConnectionErrorHandler(),h._log,h._routingContext)})||this;return h._routingContext=i(i({},o),{address:r.toString()}),h._seedRouter=r,h._rediscovery=new b.default(h._routingContext),h._loadBalancingStrategy=new m.LeastConnectedLoadBalancingStrategy(h._connectionPool),h._hostNameResolver=s,h._dnsResolver=new v.HostNameResolver,h._log=c,h._useSeedRouter=!0,h._routingTableRegistry=new k(f?(0,d.int)(f):N),h}return o(e,t),e.prototype._createConnectionErrorHandler=function(){return new g.ConnectionErrorHandler(E)},e.prototype._handleUnavailability=function(t,e,n){return this._log.warn("Routing driver "+this._id+" will forget "+e+" for database '"+n+"' because of an error "+t.code+" '"+t.message+"'"),this.forget(e,n||null),t},e.prototype._handleAuthorizationExpired=function(t,e,n){return this._log.warn("Routing driver "+this._id+" will close connections to "+e+" for database '"+n+"' because of an error "+t.code+" '"+t.message+"'"),this._connectionPool.purge(e).catch(function(){}),t},e.prototype._handleWriteFailure=function(t,e,n){return this._log.warn("Routing driver "+this._id+" will forget writer "+e+" for database '"+n+"' because of an error "+t.code+" '"+t.message+"'"),this.forgetWriter(e,n||null),(0,d.newError)("No longer possible to write to server at "+e,E)},e.prototype.acquireConnection=function(t){var e=void 0===t?{}:t,n=e.accessMode,r=e.database,o=e.bookmarks,i=e.impersonatedUser,s=e.onDatabaseNameResolved;return a(this,void 0,void 0,function(){var t,e,u,c,a,f,h,p=this;return l(this,function(l){switch(l.label){case 0:return u={database:r||null},c=new g.ConnectionErrorHandler(E,function(t,e){return p._handleUnavailability(t,e,u.database)},function(t,e){return p._handleWriteFailure(t,e,u.database)},function(t,e){return p._handleAuthorizationExpired(t,e,u.database)}),[4,this._freshRoutingTable({accessMode:n,database:u.database,bookmark:o,impersonatedUser:i,onDatabaseNameResolved:function(t){u.database=u.database||t,s&&s(t)}})];case 1:if(a=l.sent(),n===T)e=this._loadBalancingStrategy.selectReader(a.readers),t="read";else if(n===C)e=this._loadBalancingStrategy.selectWriter(a.writers),t="write";else throw(0,d.newError)("Illegal mode "+n);if(!e)throw(0,d.newError)("Failed to obtain connection towards "+t+" server. Known routing table is: "+a,E);l.label=2;case 2:return l.trys.push([2,4,,5]),[4,this._acquireConnectionToServer(e,t,a)];case 3:return f=l.sent(),[2,new g.DelegateConnection(f,c)];case 4:throw h=l.sent(),c.handleAndTransformError(h,e);case 5:return[2]}})})},e.prototype._hasProtocolVersion=function(t){return a(this,void 0,void 0,function(){var e,n,r,o,i;return l(this,function(s){switch(s.label){case 0:return[4,this._resolveSeedRouter(this._seedRouter)];case 1:e=s.sent(),r=0,s.label=2;case 2:if(!(r<e.length))return[3,8];s.label=3;case 3:return s.trys.push([3,6,,7]),[4,(0,g.createChannelConnection)(e[r],this._config,this._createConnectionErrorHandler(),this._log)];case 4:return i=(o=s.sent()).protocol()?o.protocol().version:null,[4,o.close()];case 5:if(s.sent(),i)return[2,t(i)];return[2,!1];case 6:return n=s.sent(),[3,7];case 7:return r++,[3,2];case 8:if(n)throw n;return[2,!1]}})})},e.prototype.supportsMultiDb=function(){return a(this,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return[4,this._hasProtocolVersion(function(t){return t>=I})];case 1:return[2,t.sent()]}})})},e.prototype.supportsTransactionConfig=function(){return a(this,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return[4,this._hasProtocolVersion(function(t){return t>=x})];case 1:return[2,t.sent()]}})})},e.prototype.supportsUserImpersonation=function(){return a(this,void 0,void 0,function(){return l(this,function(t){switch(t.label){case 0:return[4,this._hasProtocolVersion(function(t){return t>=P})];case 1:return[2,t.sent()]}})})},e.prototype.forget=function(t,e){this._routingTableRegistry.apply(e,{applyWhenExists:function(e){return e.forget(t)}}),this._connectionPool.purge(t).catch(function(){})},e.prototype.forgetWriter=function(t,e){this._routingTableRegistry.apply(e,{applyWhenExists:function(e){return e.forgetWriter(t)}})},e.prototype._acquireConnectionToServer=function(t,e,n){return this._connectionPool.acquire(t)},e.prototype._freshRoutingTable=function(t){var e=void 0===t?{}:t,n=e.accessMode,r=e.database,o=e.bookmark,i=e.impersonatedUser,s=e.onDatabaseNameResolved,u=this._routingTableRegistry.get(r,function(){return new b.RoutingTable({database:r})});return u.isStaleFor(n)?(this._log.info('Routing table is stale for database: "'+r+'" and access mode: "'+n+'": '+u),this._refreshRoutingTable(u,o,i,s)):u},e.prototype._refreshRoutingTable=function(t,e,n,r){var o=t.routers;return this._useSeedRouter?this._fetchRoutingTableFromSeedRouterFallbackToKnownRouters(o,t,e,n,r):this._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter(o,t,e,n,r)},e.prototype._fetchRoutingTableFromSeedRouterFallbackToKnownRouters=function(t,e,n,r,o){return a(this,void 0,void 0,function(){var i,s;return l(this,function(u){switch(u.label){case 0:return i=[],[4,this._fetchRoutingTableUsingSeedRouter(i,this._seedRouter,e,n,r)];case 1:if(!(s=u.sent()))return[3,2];return this._useSeedRouter=!1,[3,4];case 2:return[4,this._fetchRoutingTableUsingKnownRouters(t,e,n,r)];case 3:s=u.sent(),u.label=4;case 4:return[4,this._applyRoutingTableIfPossible(e,s,o)];case 5:return[2,u.sent()]}})})},e.prototype._fetchRoutingTableFromKnownRoutersFallbackToSeedRouter=function(t,e,n,r,o){return a(this,void 0,void 0,function(){var i;return l(this,function(s){switch(s.label){case 0:return[4,this._fetchRoutingTableUsingKnownRouters(t,e,n,r)];case 1:if(i=s.sent())return[3,3];return[4,this._fetchRoutingTableUsingSeedRouter(t,this._seedRouter,e,n,r)];case 2:i=s.sent(),s.label=3;case 3:return[4,this._applyRoutingTableIfPossible(e,i,o)];case 4:return[2,s.sent()]}})})},e.prototype._fetchRoutingTableUsingKnownRouters=function(t,n,r,o){return a(this,void 0,void 0,function(){var i,s;return l(this,function(u){switch(u.label){case 0:return[4,this._fetchRoutingTable(t,n,r,o)];case 1:if(i=u.sent())return[2,i];return s=t.length-1,e._forgetRouter(n,t,s),[2,null]}})})},e.prototype._fetchRoutingTableUsingSeedRouter=function(t,e,n,r,o){return a(this,void 0,void 0,function(){var i;return l(this,function(s){switch(s.label){case 0:return[4,this._resolveSeedRouter(e)];case 1:return i=s.sent().filter(function(e){return 0>t.indexOf(e)}),[4,this._fetchRoutingTable(i,n,r,o)];case 2:return[2,s.sent()]}})})},e.prototype._resolveSeedRouter=function(t){return a(this,void 0,void 0,function(){var e,n=this;return l(this,function(r){switch(r.label){case 0:return[4,this._hostNameResolver.resolve(t)];case 1:return[4,Promise.all(r.sent().map(function(t){return n._dnsResolver.resolve(t)}))];case 2:return e=r.sent(),[2,[].concat.apply([],e)]}})})},e.prototype._fetchRoutingTable=function(t,n,r,o){var i=this;return t.reduce(function(s,u,c){return a(i,void 0,void 0,function(){var i,a,f,h;return l(this,function(l){switch(l.label){case 0:return[4,s];case 1:if(i=l.sent())return[2,i];return a=c-1,e._forgetRouter(n,t,a),[4,this._createSessionForRediscovery(u,r,o)];case 2:if(!(f=l.sent()))return[3,8];l.label=3;case 3:return l.trys.push([3,5,6,7]),[4,this._rediscovery.lookupRoutingTableOnRouter(f,n.database,u,o)];case 4:return[2,l.sent()];case 5:if((h=l.sent())&&"Neo.ClientError.Database.DatabaseNotFound"===h.code)throw h;return this._log.warn("unable to fetch routing table because of an error "+h),[2,null];case 6:return f.close(),[7];case 7:return[3,9];case 8:return[2,null];case 9:return[2]}})})},Promise.resolve(null))},e.prototype._createSessionForRediscovery=function(t,e,n){return a(this,void 0,void 0,function(){var r,o,i,s,u=this;return l(this,function(c){switch(c.label){case 0:return c.trys.push([0,2,,3]),[4,this._connectionPool.acquire(t)];case 1:if(r=c.sent(),o=g.ConnectionErrorHandler.create({errorCode:E,handleAuthorizationExpired:function(t,e){return u._handleAuthorizationExpired(t,e)}}),i=new _.default(new g.DelegateConnection(r,o)),r.protocol().version<4)return[2,new d.Session({mode:C,bookmark:O.empty(),connectionProvider:i})];return[2,new d.Session({mode:T,database:"system",bookmark:e,connectionProvider:i,impersonatedUser:n})];case 2:if((s=c.sent())&&"Neo.ClientError.Security.Unauthorized"===s.code)throw s;return[2,null];case 3:return[2]}})})},e.prototype._applyRoutingTableIfPossible=function(t,e,n){return a(this,void 0,void 0,function(){return l(this,function(r){switch(r.label){case 0:if(!e)throw(0,d.newError)("Could not perform discovery. No routing servers available. Known routing table: "+t,w);return 0===e.writers.length&&(this._useSeedRouter=!0),[4,this._updateRoutingTable(e,n)];case 1:return r.sent(),[2,e]}})})},e.prototype._updateRoutingTable=function(t,e){return a(this,void 0,void 0,function(){return l(this,function(n){switch(n.label){case 0:return[4,this._connectionPool.keepAll(t.allServers())];case 1:return n.sent(),this._routingTableRegistry.removeExpired(),this._routingTableRegistry.register(t),e(t.database),this._log.info("Updated routing table "+t),[2]}})})},e._forgetRouter=function(t,e,n){var r=e[n];t&&r&&t.forgetRouter(r)},e}(y.default);var k=function(){function t(t){this._tables=new Map,this._routingTablePurgeDelay=t}return t.prototype.register=function(t){return this._tables.set(t.database,t),this},t.prototype.apply=function(t,e){var n=void 0===e?{}:e,r=n.applyWhenExists,o=n.applyWhenDontExists;return this._tables.has(t)?r(this._tables.get(t)):"string"==typeof t||null===t?(void 0===o?function(){}:o)():this._forEach(r),this},t.prototype.get=function(t,e){return this._tables.has(t)?this._tables.get(t):"function"==typeof e?e():e},t.prototype.removeExpired=function(){var t=this;return this._removeIf(function(e){return e.isExpiredFor(t._routingTablePurgeDelay)})},t.prototype._forEach=function(t){var e,n;try{for(var r=f(this._tables),o=r.next();!o.done;o=r.next()){var i=h(o.value,2)[1];t(i)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return this},t.prototype._remove=function(t){return this._tables.delete(t),this},t.prototype._removeIf=function(t){var e,n;try{for(var r=f(this._tables),o=r.next();!o.done;o=r.next()){var i=h(o.value,2),s=i[0],u=i[1];t(u)&&this._remove(s)}}catch(t){e={error:t}}finally{try{o&&!o.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return this},t}()},3690:(t,e,n)=>{var r=n(5372).default,o=n(4857);t.exports=function(t,e){if(e&&("object"==r(e)||"function"==typeof e))return e;if(void 0!==e)throw TypeError("Derived constructors may only return object or undefined");return o(t)},t.exports.__esModule=!0,t.exports.default=t.exports},3714:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.RawRoutingTable=e.BoltProtocol=void 0;var s=i(n(8275)),u=i(n(5812)),c=i(n(9126)),a=i(n(982));o(n(382),e),e.BoltProtocol=c.default,e.RawRoutingTable=a.default,e.default={handshake:s.default,create:u.default}},3778:(t,e,n)=>{"use strict";var r=n(2448);e.Ay=void 0;var o=n(842),i=r(n(3894)),s=n(4096),u=n(8996),c=r(n(6361)),a=r(n(1473)),l=r(n(6712)),f=s.internal.util,h=f.ENCRYPTION_ON,p=(f.ENCRYPTION_OFF,f.assertString),d=f.isEmptyObjectOrNull,b=s.internal.serverAddress.ServerAddress,v=s.internal.urlUtil,_="neo4j-javascript/"+i.default,y={console:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){return{level:t,logger:function(t,e){return console.log("".concat(global.Date.now()," ").concat(t.toUpperCase()," ").concat(e))}}})},m={Node:s.Node,Relationship:s.Relationship,UnboundRelationship:s.UnboundRelationship,PathSegment:s.PathSegment,Path:s.Path,Result:s.Result,ResultSummary:s.ResultSummary,Record:s.Record,Point:s.Point,Date:s.Date,DateTime:s.DateTime,Duration:s.Duration,LocalDateTime:s.LocalDateTime,LocalTime:s.LocalTime,Time:s.Time,Integer:s.Integer},g={READ:o.READ,WRITE:o.WRITE},w={toNumber:s.toNumber,toString:s.toString,inSafeRange:s.inSafeRange},E={isPoint:s.isPoint},O={isDuration:s.isDuration,isLocalTime:s.isLocalTime,isTime:s.isTime,isDate:s.isDate,isLocalDateTime:s.isLocalDateTime,isDateTime:s.isDateTime};e.Ay={driver:function(t,e){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};p(t,"Bolt URL");var i=v.parseDatabaseUrl(t),s=!1,c=!1;switch(i.scheme){case"bolt":break;case"bolt+s":c=!0,n="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES";break;case"bolt+ssc":c=!0,n="TRUST_ALL_CERTIFICATES";break;case"neo4j":s=!0;break;case"neo4j+s":c=!0,n="TRUST_SYSTEM_CA_SIGNED_CERTIFICATES",s=!0;break;case"neo4j+ssc":c=!0,n="TRUST_ALL_CERTIFICATES",s=!0;break;default:throw Error("Unknown scheme: ".concat(i.scheme))}if(c){if("encrypted"in r||"trust"in r)throw Error("Encryption/trust can only be configured either through URL or config, not both");r.encrypted=h,r.trust=n}(e=e||{}).scheme=e.scheme||"none",r.userAgent=r.userAgent||_;var a=b.fromUrl(i.hostAndPort),l={address:a,typename:s?"Routing":"Direct",routing:s};return new o.Driver(l,r,function(){if(s)return function(t,n,r,o){return new u.RoutingConnectionProvider({id:t,config:n,log:r,hostNameResolver:o,authToken:e,address:a,userAgent:n.userAgent,routingContext:i.query})};if(!d(i.query))throw Error("Parameters are not supported with none routed scheme. Given URL: '".concat(t,"'"));return function(t,n,r){return new u.DirectConnectionProvider({id:t,config:n,log:r,authToken:e,address:a,userAgent:n.userAgent})}}())},int:s.int,isInt:s.isInt,isPoint:s.isPoint,isDuration:s.isDuration,isLocalTime:s.isLocalTime,isTime:s.isTime,isDate:s.isDate,isLocalDateTime:s.isLocalDateTime,isDateTime:s.isDateTime,integer:w,Neo4jError:s.Neo4jError,auth:s.auth,logging:y,types:m,session:g,error:s.error,spatial:E,temporal:O,Driver:o.Driver,Session:s.Session,Transaction:s.Transaction,Result:s.Result,RxSession:c.default,RxTransaction:a.default,RxResult:l.default,ResultSummary:s.ResultSummary,Plan:s.Plan,ProfiledPlan:s.ProfiledPlan,QueryStatistics:s.QueryStatistics,Notification:s.Notification,ServerInfo:s.ServerInfo,Record:s.Record,Node:s.Node,Relationship:s.Relationship,UnboundRelationship:s.UnboundRelationship,Path:s.Path,PathSegment:s.PathSegment,Point:s.Point,Integer:s.Integer,Duration:s.Duration,LocalTime:s.LocalTime,Time:s.Time,Date:s.Date,LocalDateTime:s.LocalDateTime,DateTime:s.DateTime}},3793:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.assertImpersonatedUserIsEmpty=e.assertTxConfigIsEmpty=e.assertDatabaseIsEmpty=void 0;var r=n(4096);e.assertTxConfigIsEmpty=function(t,e,n){if(void 0===e&&(e=function(){}),t&&!t.isEmpty()){var o=(0,r.newError)("Driver is connected to the database that does not support transaction configuration. Please upgrade to neo4j 3.5.0 or later in order to use this functionality");throw e(o.message),n.onError(o),o}},e.assertDatabaseIsEmpty=function(t,e,n){if(void 0===e&&(e=function(){}),t){var o=(0,r.newError)("Driver is connected to the database that does not support multiple databases. Please upgrade to neo4j 4.0.0 or later in order to use this functionality");throw e(o.message),n.onError(o),o}},e.assertImpersonatedUserIsEmpty=function(t,e,n){if(void 0===e&&(e=function(){}),t){var o=(0,r.newError)("Driver is connected to the database that does not support user impersonation. Please upgrade to neo4j 4.4.0 or later in order to use this functionality. Trying to impersonate "+t+".");throw e(o.message),n.onError(o),o}}},3824:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.utf8=e.alloc=e.ChannelConfig=void 0,o(n(8957),e),o(n(6641),e);var s=n(4926);Object.defineProperty(e,"ChannelConfig",{enumerable:!0,get:function(){return i(s).default}});var u=n(4295);Object.defineProperty(e,"alloc",{enumerable:!0,get:function(){return u.alloc}});var c=n(3229);Object.defineProperty(e,"utf8",{enumerable:!0,get:function(){return i(c).default}})},3894:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,e.default="4.4.11"},3982:(t,e,n)=>{"use strict";n.r(e),n.d(e,{audit:()=>A,auditTime:()=>z,buffer:()=>q,bufferCount:()=>K,bufferTime:()=>Q,bufferToggle:()=>tu,bufferWhen:()=>tl,catchError:()=>tp,combineAll:()=>tm,combineLatest:()=>tE,concat:()=>tD,concatAll:()=>tA,concatMap:()=>tU,concatMapTo:()=>tM,count:()=>tL,debounce:()=>tB,debounceTime:()=>tq,defaultIfEmpty:()=>tZ,delay:()=>t4,delayWhen:()=>t3,dematerialize:()=>en,distinct:()=>ei,distinctUntilChanged:()=>ec,distinctUntilKeyChanged:()=>ef,elementAt:()=>eS,endWith:()=>eT,every:()=>eC,exhaust:()=>eP,exhaustMap:()=>function t(e,n){return n?function(r){return r.pipe(t(function(t,r){return tw(e(t,r)).pipe(tT(function(e,o){return n(t,e,r,o)}))}))}:function(t){return t.lift(new eR(e))}},expand:()=>ej,filter:()=>ep,finalize:()=>eM,find:()=>eV,findIndex:()=>ez,first:()=>eq,flatMap:()=>tk,groupBy:()=>eX,ignoreElements:()=>e2,isEmpty:()=>e8,last:()=>ne,map:()=>tT,mapTo:()=>nn,materialize:()=>ni,max:()=>nh,merge:()=>nd,mergeAll:()=>tR,mergeMap:()=>tI,mergeMapTo:()=>nb,mergeScan:()=>nv,min:()=>nm,multicast:()=>nC,observeOn:()=>nI,onErrorResumeNext:()=>nR,pairwise:()=>nD,partition:()=>nL,pluck:()=>nF,publish:()=>nV,publishBehavior:()=>nH,publishLast:()=>nq,publishReplay:()=>nG,race:()=>n$,reduce:()=>nf,refCount:()=>ng,repeat:()=>n0,repeatWhen:()=>n4,retry:()=>n5,retryWhen:()=>n7,sample:()=>rn,sampleTime:()=>ri,scan:()=>nc,sequenceEqual:()=>ra,share:()=>rd,shareReplay:()=>rb,single:()=>rv,skip:()=>rm,skipLast:()=>rE,skipUntil:()=>rT,skipWhile:()=>rI,startWith:()=>rk,subscribeOn:()=>rV,switchAll:()=>rW,switchMap:()=>rH,switchMapTo:()=>rY,take:()=>ew,takeLast:()=>e9,takeUntil:()=>rK,takeWhile:()=>rX,tap:()=>r0,throttle:()=>r6,throttleTime:()=>r3,throwIfEmpty:()=>e_,timeInterval:()=>oe,timeout:()=>ou,timeoutWith:()=>oo,timestamp:()=>oc,toArray:()=>of,window:()=>oh,windowCount:()=>ob,windowTime:()=>oy,windowToggle:()=>oT,windowWhen:()=>oI,withLatestFrom:()=>ok,zip:()=>oV,zipAll:()=>oB});var r,o=function(t,e){return(o=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function s(t){return"function"==typeof t}var u=!1,c={Promise:void 0,set useDeprecatedSynchronousErrorHandling(value){value&&Error().stack,u=value},get useDeprecatedSynchronousErrorHandling(){return u}};function a(t){setTimeout(function(){throw t},0)}var l={closed:!0,next:function(t){},error:function(t){if(c.useDeprecatedSynchronousErrorHandling)throw t;a(t)},complete:function(){}},f=Array.isArray||function(t){return t&&"number"==typeof t.length};function h(t){return null!==t&&"object"==typeof t}var p=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),d=function(){var t;function e(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._ctorUnsubscribe=!0,this._unsubscribe=t)}return e.prototype.unsubscribe=function(){if(!this.closed){var t,n=this._parentOrParents,r=this._ctorUnsubscribe,o=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof e)n.remove(this);else if(null!==n)for(var u=0;u<n.length;++u)n[u].remove(this);if(s(o)){r&&(this._unsubscribe=void 0);try{o.call(this)}catch(e){t=e instanceof p?b(e.errors):[e]}}if(f(i))for(var u=-1,c=i.length;++u<c;){var a=i[u];if(h(a))try{a.unsubscribe()}catch(e){t=t||[],e instanceof p?t=t.concat(b(e.errors)):t.push(e)}}if(t)throw new p(t)}},e.prototype.add=function(t){var n=t;if(!t)return e.EMPTY;switch(typeof t){case"function":n=new e(t);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof e)){var r=n;(n=new e)._subscriptions=[r]}break;default:throw Error("unrecognized teardown "+t+" added to Subscription.")}var o=n._parentOrParents;if(null===o)n._parentOrParents=this;else if(o instanceof e){if(o===this)return n;n._parentOrParents=[o,this]}else{if(-1!==o.indexOf(this))return n;o.push(this)}var i=this._subscriptions;return null===i?this._subscriptions=[n]:i.push(n),n},e.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},(t=new e).closed=!0,e.EMPTY=t,e}();function b(t){return t.reduce(function(t,e){return t.concat(e instanceof p?e.errors:e)},[])}var v="function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random(),_=function(t){function e(n,r,o){var i=t.call(this)||this;switch(i.syncErrorValue=null,i.syncErrorThrown=!1,i.syncErrorThrowable=!1,i.isStopped=!1,arguments.length){case 0:i.destination=l;break;case 1:if(!n){i.destination=l;break}if("object"==typeof n){n instanceof e?(i.syncErrorThrowable=n.syncErrorThrowable,i.destination=n,n.add(i)):(i.syncErrorThrowable=!0,i.destination=new y(i,n));break}default:i.syncErrorThrowable=!0,i.destination=new y(i,n,r,o)}return i}return i(e,t),e.prototype[v]=function(){return this},e.create=function(t,n,r){var o=new e(t,n,r);return o.syncErrorThrowable=!1,o},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(d),y=function(t){function e(e,n,r,o){var i,u=t.call(this)||this;u._parentSubscriber=e;var c=u;return s(n)?i=n:n&&(i=n.next,r=n.error,o=n.complete,n!==l&&(s((c=Object.create(n)).unsubscribe)&&u.add(c.unsubscribe.bind(c)),c.unsubscribe=u.unsubscribe.bind(u))),u._context=c,u._next=i,u._error=r,u._complete=o,u}return i(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;c.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=c.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?this.__tryOrSetError(e,this._error,t):this.__tryOrUnsub(this._error,t),this.unsubscribe();else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):a(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;a(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};c.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,n):this.__tryOrUnsub(n),this.unsubscribe()}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(t){if(this.unsubscribe(),c.useDeprecatedSynchronousErrorHandling)throw t;a(t)}},e.prototype.__tryOrSetError=function(t,e,n){if(!c.useDeprecatedSynchronousErrorHandling)throw Error("bad call");try{e.call(this._context,n)}catch(e){if(c.useDeprecatedSynchronousErrorHandling)return t.syncErrorValue=e,t.syncErrorThrown=!0,!0;return a(e),!0}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(_),m="function"==typeof Symbol&&Symbol.observable||"@@observable";function g(t){return t}function w(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return E(t)}function E(t){return 0===t.length?g:1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}}var O=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,o=function(t,e,n){if(t){if(t instanceof _)return t;if(t[v])return t[v]()}return t||e||n?new _(t,e,n):new _(l)}(t,e,n);if(r?o.add(r.call(o,this.source)):o.add(this.source||c.useDeprecatedSynchronousErrorHandling&&!o.syncErrorThrowable?this._subscribe(o):this._trySubscribe(o)),c.useDeprecatedSynchronousErrorHandling&&o.syncErrorThrowable&&(o.syncErrorThrowable=!1,o.syncErrorThrown))throw o.syncErrorValue;return o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){c.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t,n=e.closed,r=e.destination,o=e.isStopped;if(n||o)return!1;t=r&&r instanceof _?r:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=S(e))(function(e,r){var o;o=n.subscribe(function(e){try{t(e)}catch(t){r(t),o&&o.unsubscribe()}},r,e)})},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[m]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:E(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=S(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function S(t){if(t||(t=c.Promise||Promise),!t)throw Error("no Promise impl found");return t}var T=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}},C="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator",x=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function I(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var P=function(t){if(t&&"function"==typeof t[m])return function(e){var n=t[m]();if("function"==typeof n.subscribe)return n.subscribe(e);throw TypeError("Provided object does not correctly implement Symbol.observable")};if(x(t))return T(t);if(I(t))return function(e){return t.then(function(t){e.closed||(e.next(t),e.complete())},function(t){return e.error(t)}).then(null,a),e};if(t&&"function"==typeof t[C])return function(e){for(var n=t[C]();;){var r=void 0;try{r=n.next()}catch(t){return e.error(t),e}if(r.done){e.complete();break}if(e.next(r.value),e.closed)break}return"function"==typeof n.return&&e.add(function(){n.return&&n.return()}),e};throw TypeError("You provided "+(h(t)?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")},N=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,n}return i(e,t),e.prototype._next=function(t){this.parent.notifyNext(t)},e.prototype._error=function(t){this.parent.notifyError(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(),this.unsubscribe()},e}(_),k=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.destination.complete()},e}(_);function R(t,e){var n;if(!e.closed){if(t instanceof O)return t.subscribe(e);try{n=P(t)(e)}catch(t){e.error(t)}return n}}function A(t){return function(e){return e.lift(new j(t))}}var j=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new D(t,this.durationSelector))},t}(),D=function(t){function e(e,n){var r=t.call(this,e)||this;return r.durationSelector=n,r.hasValue=!1,r}return i(e,t),e.prototype._next=function(t){if(this.value=t,this.hasValue=!0,!this.throttled){var e=void 0;try{e=(0,this.durationSelector)(t)}catch(t){return this.destination.error(t)}var n=R(e,new N(this));!n||n.closed?this.clearThrottle():this.add(this.throttled=n)}},e.prototype.clearThrottle=function(){var t=this.value,e=this.hasValue,n=this.throttled;n&&(this.remove(n),this.throttled=void 0,n.unsubscribe()),e&&(this.value=void 0,this.hasValue=!1,this.destination.next(t))},e.prototype.notifyNext=function(){this.clearThrottle()},e.prototype.notifyComplete=function(){this.clearThrottle()},e}(k),U=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return i(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n=this.id,r=this.scheduler;return null!=n&&(this.id=this.recycleAsyncId(r,n,e)),this.pending=!0,this.delay=e,this.id=this.id||this.requestAsyncId(r,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!==n&&this.delay===n&&!1===this.pending)return e;clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n=!1,r=void 0;try{this.work(t)}catch(t){n=!0,r=!!t&&t||Error(t)}if(n)return this.unsubscribe(),r},e.prototype._unsubscribe=function(){var t=this.id,e=this.scheduler,n=e.actions,r=n.indexOf(this);this.work=null,this.state=null,this.pending=!1,this.scheduler=null,-1!==r&&n.splice(r,1),null!=t&&(this.id=this.recycleAsyncId(e,t,null)),this.delay=null},e}(function(t){function e(e,n){return t.call(this)||this}return i(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(d)),M=function(){function t(e,n){void 0===n&&(n=t.now),this.SchedulerAction=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.SchedulerAction(this,t).schedule(n,e)},t.now=function(){return Date.now()},t}(),L=function(t){function e(n,r){void 0===r&&(r=M.now);var o=t.call(this,n,function(){return e.delegate&&e.delegate!==o?e.delegate.now():r()})||this;return o.actions=[],o.active=!1,o.scheduled=void 0,o}return i(e,t),e.prototype.schedule=function(n,r,o){return(void 0===r&&(r=0),e.delegate&&e.delegate!==this)?e.delegate.schedule(n,r,o):t.prototype.schedule.call(this,n,r,o)},e.prototype.flush=function(t){var e,n=this.actions;if(this.active)return void n.push(t);this.active=!0;do if(e=t.execute(t.state,t.delay))break;while(t=n.shift());if(this.active=!1,e){for(;t=n.shift();)t.unsubscribe();throw e}},e}(M),F=new L(U);function V(t){return!f(t)&&t-parseFloat(t)+1>=0}function B(t){return t&&"function"==typeof t.schedule}function H(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}function z(t,e){return void 0===e&&(e=F),A(function(){var n,r,o,i;return void 0===(n=t)&&(n=0),i=-1,V(r=e)?i=1>Number(r)&&1||Number(r):B(r)&&(o=r),B(o)||(o=F),new O(function(t){var e=V(n)?n:n-o.now();return o.schedule(H,e,{index:0,period:i,subscriber:t})})})}function q(t){return function(e){return e.lift(new W(t))}}var W=function(){function t(t){this.closingNotifier=t}return t.prototype.call=function(t,e){return e.subscribe(new Y(t,this.closingNotifier))},t}(),Y=function(t){function e(e,n){var r=t.call(this,e)||this;return r.buffer=[],r.add(R(n,new N(r))),r}return i(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype.notifyNext=function(){var t=this.buffer;this.buffer=[],this.destination.next(t)},e}(k);function K(t,e){return void 0===e&&(e=null),function(n){return n.lift(new Z(t,e))}}var Z=function(){function t(t,e){this.bufferSize=t,this.startBufferEvery=e,e&&t!==e?this.subscriberClass=X:this.subscriberClass=G}return t.prototype.call=function(t,e){return e.subscribe(new this.subscriberClass(t,this.bufferSize,this.startBufferEvery))},t}(),G=function(t){function e(e,n){var r=t.call(this,e)||this;return r.bufferSize=n,r.buffer=[],r}return i(e,t),e.prototype._next=function(t){var e=this.buffer;e.push(t),e.length==this.bufferSize&&(this.destination.next(e),this.buffer=[])},e.prototype._complete=function(){var e=this.buffer;e.length>0&&this.destination.next(e),t.prototype._complete.call(this)},e}(_),X=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.bufferSize=n,o.startBufferEvery=r,o.buffers=[],o.count=0,o}return i(e,t),e.prototype._next=function(t){var e=this.bufferSize,n=this.startBufferEvery,r=this.buffers,o=this.count;this.count++,o%n==0&&r.push([]);for(var i=r.length;i--;){var s=r[i];s.push(t),s.length===e&&(r.splice(i,1),this.destination.next(s))}},e.prototype._complete=function(){for(var e=this.buffers,n=this.destination;e.length>0;){var r=e.shift();r.length>0&&n.next(r)}t.prototype._complete.call(this)},e}(_);function Q(t){var e=arguments.length,n=F;B(arguments[arguments.length-1])&&(n=arguments[arguments.length-1],e--);var r=null;e>=2&&(r=arguments[1]);var o=Number.POSITIVE_INFINITY;return e>=3&&(o=arguments[2]),function(e){return e.lift(new J(t,r,o,n))}}var J=function(){function t(t,e,n,r){this.bufferTimeSpan=t,this.bufferCreationInterval=e,this.maxBufferSize=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new tt(t,this.bufferTimeSpan,this.bufferCreationInterval,this.maxBufferSize,this.scheduler))},t}(),$=function(){this.buffer=[]},tt=function(t){function e(e,n,r,o,i){var s=t.call(this,e)||this;s.bufferTimeSpan=n,s.bufferCreationInterval=r,s.maxBufferSize=o,s.scheduler=i,s.contexts=[];var u=s.openContext();return s.timespanOnly=null==r||r<0,s.timespanOnly?s.add(u.closeAction=i.schedule(te,n,{subscriber:s,context:u,bufferTimeSpan:n})):(s.add(u.closeAction=i.schedule(tr,n,{subscriber:s,context:u})),s.add(i.schedule(tn,r,{bufferTimeSpan:n,bufferCreationInterval:r,subscriber:s,scheduler:i}))),s}return i(e,t),e.prototype._next=function(t){for(var e,n=this.contexts,r=n.length,o=0;o<r;o++){var i=n[o],s=i.buffer;s.push(t),s.length==this.maxBufferSize&&(e=i)}e&&this.onBufferFull(e)},e.prototype._error=function(e){this.contexts.length=0,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts,n=this.destination;e.length>0;){var r=e.shift();n.next(r.buffer)}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.contexts=null},e.prototype.onBufferFull=function(t){this.closeContext(t);var e=t.closeAction;if(e.unsubscribe(),this.remove(e),!this.closed&&this.timespanOnly){t=this.openContext();var n=this.bufferTimeSpan,r={subscriber:this,context:t,bufferTimeSpan:n};this.add(t.closeAction=this.scheduler.schedule(te,n,r))}},e.prototype.openContext=function(){var t=new $;return this.contexts.push(t),t},e.prototype.closeContext=function(t){this.destination.next(t.buffer);var e=this.contexts;(e?e.indexOf(t):-1)>=0&&e.splice(e.indexOf(t),1)},e}(_);function te(t){var e=t.subscriber,n=t.context;n&&e.closeContext(n),e.closed||(t.context=e.openContext(),t.context.closeAction=this.schedule(t,t.bufferTimeSpan))}function tn(t){var e=t.bufferCreationInterval,n=t.bufferTimeSpan,r=t.subscriber,o=t.scheduler,i=r.openContext();r.closed||(r.add(i.closeAction=o.schedule(tr,n,{subscriber:r,context:i})),this.schedule(t,e))}function tr(t){var e=t.subscriber,n=t.context;e.closeContext(n)}var to=function(t){function e(e,n,r){var o=t.call(this)||this;return o.parent=e,o.outerValue=n,o.outerIndex=r,o.index=0,o}return i(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(_);function ti(t,e,n,r,o){if(void 0===o&&(o=new to(t,n,r)),!o.closed)return e instanceof O?e.subscribe(o):P(e)(o)}var ts=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(_);function tu(t,e){return function(n){return n.lift(new tc(t,e))}}var tc=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new ta(t,this.openings,this.closingSelector))},t}(),ta=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.closingSelector=r,o.contexts=[],o.add(ti(o,n)),o}return i(e,t),e.prototype._next=function(t){for(var e=this.contexts,n=e.length,r=0;r<n;r++)e[r].buffer.push(t)},e.prototype._error=function(e){for(var n=this.contexts;n.length>0;){var r=n.shift();r.subscription.unsubscribe(),r.buffer=null,r.subscription=null}this.contexts=null,t.prototype._error.call(this,e)},e.prototype._complete=function(){for(var e=this.contexts;e.length>0;){var n=e.shift();this.destination.next(n.buffer),n.subscription.unsubscribe(),n.buffer=null,n.subscription=null}this.contexts=null,t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e){t?this.closeBuffer(t):this.openBuffer(e)},e.prototype.notifyComplete=function(t){this.closeBuffer(t.context)},e.prototype.openBuffer=function(t){try{var e=this.closingSelector.call(this,t);e&&this.trySubscribe(e)}catch(t){this._error(t)}},e.prototype.closeBuffer=function(t){var e=this.contexts;if(e&&t){var n=t.buffer,r=t.subscription;this.destination.next(n),e.splice(e.indexOf(t),1),this.remove(r),r.unsubscribe()}},e.prototype.trySubscribe=function(t){var e=this.contexts,n=new d,r={buffer:[],subscription:n};e.push(r);var o=ti(this,t,r);!o||o.closed?this.closeBuffer(r):(o.context=r,this.add(o),n.add(o))},e}(ts);function tl(t){return function(e){return e.lift(new tf(t))}}var tf=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new th(t,this.closingSelector))},t}(),th=function(t){function e(e,n){var r=t.call(this,e)||this;return r.closingSelector=n,r.subscribing=!1,r.openBuffer(),r}return i(e,t),e.prototype._next=function(t){this.buffer.push(t)},e.prototype._complete=function(){var e=this.buffer;e&&this.destination.next(e),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){this.buffer=void 0,this.subscribing=!1},e.prototype.notifyNext=function(){this.openBuffer()},e.prototype.notifyComplete=function(){this.subscribing?this.complete():this.openBuffer()},e.prototype.openBuffer=function(){var t,e=this.closingSubscription;e&&(this.remove(e),e.unsubscribe());var n=this.buffer;this.buffer&&this.destination.next(n),this.buffer=[];try{t=(0,this.closingSelector)()}catch(t){return this.error(t)}e=new d,this.closingSubscription=e,this.add(e),this.subscribing=!0,e.add(R(t,new N(this))),this.subscribing=!1},e}(k);function tp(t){return function(e){var n=new td(t),r=e.lift(n);return n.caught=r}}var td=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new tb(t,this.selector,this.caught))},t}(),tb=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.selector=n,o.caught=r,o}return i(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(e){t.prototype.error.call(this,e);return}this._unsubscribeAndRecycle();var r=new N(this);this.add(r);var o=R(n,r);o!==r&&this.add(o)}},e}(k),tv={},t_=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new ty(t,this.resultSelector))},t}(),ty=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return i(e,t),e.prototype._next=function(t){this.values.push(tv),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(ti(this,r,void 0,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n){var r=this.values,o=r[n],i=this.toRespond?o===tv?--this.toRespond:this.toRespond:0;r[n]=e,0===i&&(this.resultSelector?this._tryResultSelector(r):this.destination.next(r.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){this.destination.error(t);return}this.destination.next(e)},e}(ts);function tm(t){return function(e){return e.lift(new t_(t))}}function tg(t,e){return new O(function(n){var r=new d,o=0;return r.add(e.schedule(function(){if(o===t.length)return void n.complete();n.next(t[o++]),n.closed||r.add(this.schedule())})),r})}function tw(t,e){return e?function(t,e){if(null!=t)if(t&&"function"==typeof t[m])return new O(function(n){var r=new d;return r.add(e.schedule(function(){var o=t[m]();r.add(o.subscribe({next:function(t){r.add(e.schedule(function(){return n.next(t)}))},error:function(t){r.add(e.schedule(function(){return n.error(t)}))},complete:function(){r.add(e.schedule(function(){return n.complete()}))}}))})),r});else{if(I(t))return new O(function(n){var r=new d;return r.add(e.schedule(function(){return t.then(function(t){r.add(e.schedule(function(){n.next(t),r.add(e.schedule(function(){return n.complete()}))}))},function(t){r.add(e.schedule(function(){return n.error(t)}))})})),r});if(x(t))return tg(t,e);if(t&&"function"==typeof t[C]||"string"==typeof t){if(!t)throw Error("Iterable cannot be null");return new O(function(n){var r,o=new d;return o.add(function(){r&&"function"==typeof r.return&&r.return()}),o.add(e.schedule(function(){r=t[C](),o.add(e.schedule(function(){if(!n.closed){try{var t,e,o=r.next();t=o.value,e=o.done}catch(t){n.error(t);return}e?n.complete():(n.next(t),this.schedule())}}))})),o})}}throw TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof O?t:new O(P(t))}function tE(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null;return"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&f(t[0])&&(t=t[0].slice()),function(e){return e.lift.call(tw([e].concat(t)),new t_(n))}}function tO(t,e){return e?tg(t,e):new O(T(t))}function tS(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return B(n)?(t.pop(),tg(t,n)):tO(t)}function tT(t,e){return function(n){if("function"!=typeof t)throw TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new tC(t,e))}}var tC=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new tx(t,this.project,this.thisArg))},t}(),tx=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.project=n,o.count=0,o.thisArg=r||o,o}return i(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(t){this.destination.error(t);return}this.destination.next(e)},e}(_);function tI(t,e,n){return(void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e)?function(r){return r.pipe(tI(function(n,r){return tw(t(n,r)).pipe(tT(function(t,o){return e(n,t,r,o)}))},n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new tP(t,n))})}var tP=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new tN(t,this.project,this.concurrent))},t}(),tN=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var o=t.call(this,e)||this;return o.project=n,o.concurrent=r,o.hasCompleted=!1,o.buffer=[],o.active=0,o.index=0,o}return i(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){this.destination.error(t);return}this.active++,this._innerSub(e)},e.prototype._innerSub=function(t){var e=new N(this),n=this.destination;n.add(e);var r=R(t,e);r!==e&&n.add(r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(k),tk=tI;function tR(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),tI(g,t)}function tA(){return tR(1)}function tj(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return tA()(tS.apply(void 0,t))}function tD(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(tj.apply(void 0,[e].concat(t)))}}function tU(t,e){return tI(t,e,1)}function tM(t,e){return tU(function(){return t},e)}function tL(t){return function(e){return e.lift(new tF(t,e))}}var tF=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new tV(t,this.predicate,this.source))},t}(),tV=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.predicate=n,o.source=r,o.count=0,o.index=0,o}return i(e,t),e.prototype._next=function(t){this.predicate?this._tryPredicate(t):this.count++},e.prototype._tryPredicate=function(t){var e;try{e=this.predicate(t,this.index++,this.source)}catch(t){this.destination.error(t);return}e&&this.count++},e.prototype._complete=function(){this.destination.next(this.count),this.destination.complete()},e}(_);function tB(t){return function(e){return e.lift(new tH(t))}}var tH=function(){function t(t){this.durationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new tz(t,this.durationSelector))},t}(),tz=function(t){function e(e,n){var r=t.call(this,e)||this;return r.durationSelector=n,r.hasValue=!1,r}return i(e,t),e.prototype._next=function(t){try{var e=this.durationSelector.call(this,t);e&&this._tryNext(t,e)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.emitValue(),this.destination.complete()},e.prototype._tryNext=function(t,e){var n=this.durationSubscription;this.value=t,this.hasValue=!0,n&&(n.unsubscribe(),this.remove(n)),(n=R(e,new N(this)))&&!n.closed&&this.add(this.durationSubscription=n)},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){if(this.hasValue){var e=this.value,n=this.durationSubscription;n&&(this.durationSubscription=void 0,n.unsubscribe(),this.remove(n)),this.value=void 0,this.hasValue=!1,t.prototype._next.call(this,e)}},e}(k);function tq(t,e){return void 0===e&&(e=F),function(n){return n.lift(new tW(t,e))}}var tW=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new tY(t,this.dueTime,this.scheduler))},t}(),tY=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.dueTime=n,o.scheduler=r,o.debouncedSubscription=null,o.lastValue=null,o.hasValue=!1,o}return i(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(tK,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(_);function tK(t){t.debouncedNext()}function tZ(t){return void 0===t&&(t=null),function(e){return e.lift(new tG(t))}}var tG=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new tX(t,this.defaultValue))},t}(),tX=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return i(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(_);function tQ(t){return t instanceof Date&&!isNaN(+t)}var tJ=new O(function(t){return t.complete()});function t$(t){var e;return t?(e=t,new O(function(t){return e.schedule(function(){return t.complete()})})):tJ}function t0(t,e){return new O(e?function(n){return e.schedule(t1,0,{error:t,subscriber:n})}:function(e){return e.error(t)})}function t1(t){var e=t.error;t.subscriber.error(e)}r||(r={});var t2=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){switch(this.kind){case"N":return t.next&&t.next(this.value);case"E":return t.error&&t.error(this.error);case"C":return t.complete&&t.complete()}},t.prototype.do=function(t,e,n){switch(this.kind){case"N":return t&&t(this.value);case"E":return e&&e(this.error);case"C":return n&&n()}},t.prototype.accept=function(t,e,n){return t&&"function"==typeof t.next?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){switch(this.kind){case"N":return tS(this.value);case"E":return t0(this.error);case"C":return t$()}throw Error("unexpected notification kind value")},t.createNext=function(e){return void 0!==e?new t("N",e):t.undefinedValueNotification},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t.undefinedValueNotification=new t("N",void 0),t}();function t4(t,e){void 0===e&&(e=F);var n=tQ(t)?t-e.now():Math.abs(t);return function(t){return t.lift(new t6(n,e))}}var t6=function(){function t(t,e){this.delay=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new t8(t,this.delay,this.scheduler))},t}(),t8=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.delay=n,o.scheduler=r,o.queue=[],o.active=!1,o.errored=!1,o}return i(e,t),e.dispatch=function(t){for(var e=t.source,n=e.queue,r=t.scheduler,o=t.destination;n.length>0&&n[0].time-r.now()<=0;)n.shift().notification.observe(o);if(n.length>0){var i=Math.max(0,n[0].time-r.now());this.schedule(t,i)}else this.unsubscribe(),e.active=!1},e.prototype._schedule=function(t){this.active=!0,this.destination.add(t.schedule(e.dispatch,this.delay,{source:this,destination:this.destination,scheduler:t}))},e.prototype.scheduleNotification=function(t){if(!0!==this.errored){var e=this.scheduler,n=new t5(e.now()+this.delay,t);this.queue.push(n),!1===this.active&&this._schedule(e)}},e.prototype._next=function(t){this.scheduleNotification(t2.createNext(t))},e.prototype._error=function(t){this.errored=!0,this.queue=[],this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.scheduleNotification(t2.createComplete()),this.unsubscribe()},e}(_),t5=function(t,e){this.time=t,this.notification=e};function t3(t,e){return e?function(n){return new et(n,e).lift(new t9(t))}:function(e){return e.lift(new t9(t))}}var t9=function(){function t(t){this.delayDurationSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new t7(t,this.delayDurationSelector))},t}(),t7=function(t){function e(e,n){var r=t.call(this,e)||this;return r.delayDurationSelector=n,r.completed=!1,r.delayNotifierSubscriptions=[],r.index=0,r}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.destination.next(t),this.removeSubscription(o),this.tryComplete()},e.prototype.notifyError=function(t,e){this._error(t)},e.prototype.notifyComplete=function(t){var e=this.removeSubscription(t);e&&this.destination.next(e),this.tryComplete()},e.prototype._next=function(t){var e=this.index++;try{var n=this.delayDurationSelector(t,e);n&&this.tryDelay(n,t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.completed=!0,this.tryComplete(),this.unsubscribe()},e.prototype.removeSubscription=function(t){t.unsubscribe();var e=this.delayNotifierSubscriptions.indexOf(t);return -1!==e&&this.delayNotifierSubscriptions.splice(e,1),t.outerValue},e.prototype.tryDelay=function(t,e){var n=ti(this,t,e);n&&!n.closed&&(this.destination.add(n),this.delayNotifierSubscriptions.push(n))},e.prototype.tryComplete=function(){this.completed&&0===this.delayNotifierSubscriptions.length&&this.destination.complete()},e}(ts),et=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subscriptionDelay=n,r}return i(e,t),e.prototype._subscribe=function(t){this.subscriptionDelay.subscribe(new ee(t,this.source))},e}(O),ee=function(t){function e(e,n){var r=t.call(this)||this;return r.parent=e,r.source=n,r.sourceSubscribed=!1,r}return i(e,t),e.prototype._next=function(t){this.subscribeToSource()},e.prototype._error=function(t){this.unsubscribe(),this.parent.error(t)},e.prototype._complete=function(){this.unsubscribe(),this.subscribeToSource()},e.prototype.subscribeToSource=function(){this.sourceSubscribed||(this.sourceSubscribed=!0,this.unsubscribe(),this.source.subscribe(this.parent))},e}(_);function en(){return function(t){return t.lift(new er)}}var er=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new eo(t))},t}(),eo=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype._next=function(t){t.observe(this.destination)},e}(_);function ei(t,e){return function(n){return n.lift(new es(t,e))}}var es=function(){function t(t,e){this.keySelector=t,this.flushes=e}return t.prototype.call=function(t,e){return e.subscribe(new eu(t,this.keySelector,this.flushes))},t}(),eu=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.keySelector=n,o.values=new Set,r&&o.add(R(r,new N(o))),o}return i(e,t),e.prototype.notifyNext=function(){this.values.clear()},e.prototype.notifyError=function(t){this._error(t)},e.prototype._next=function(t){this.keySelector?this._useKeySelector(t):this._finalizeNext(t,t)},e.prototype._useKeySelector=function(t){var e,n=this.destination;try{e=this.keySelector(t)}catch(t){n.error(t);return}this._finalizeNext(e,t)},e.prototype._finalizeNext=function(t,e){var n=this.values;n.has(t)||(n.add(t),this.destination.next(e))},e}(k);function ec(t,e){return function(n){return n.lift(new ea(t,e))}}var ea=function(){function t(t,e){this.compare=t,this.keySelector=e}return t.prototype.call=function(t,e){return e.subscribe(new el(t,this.compare,this.keySelector))},t}(),el=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.keySelector=r,o.hasKey=!1,"function"==typeof n&&(o.compare=n),o}return i(e,t),e.prototype.compare=function(t,e){return t===e},e.prototype._next=function(t){try{var e,n=this.keySelector;e=n?n(t):t}catch(t){return this.destination.error(t)}var r=!1;if(this.hasKey)try{r=(0,this.compare)(this.key,e)}catch(t){return this.destination.error(t)}else this.hasKey=!0;r||(this.key=e,this.destination.next(t))},e}(_);function ef(t,e){return ec(function(n,r){return e?e(n[t],r[t]):n[t]===r[t]})}var eh=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}();function ep(t,e){return function(n){return n.lift(new ed(t,e))}}var ed=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new eb(t,this.predicate,this.thisArg))},t}(),eb=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.count=0,o}return i(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(t){this.destination.error(t);return}e&&this.destination.next(t)},e}(_),ev=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}();function e_(t){return void 0===t&&(t=eg),function(e){return e.lift(new ey(t))}}var ey=function(){function t(t){this.errorFactory=t}return t.prototype.call=function(t,e){return e.subscribe(new em(t,this.errorFactory))},t}(),em=function(t){function e(e,n){var r=t.call(this,e)||this;return r.errorFactory=n,r.hasValue=!1,r}return i(e,t),e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)},e}(_);function eg(){return new ev}function ew(t){return function(e){return 0===t?t$():e.lift(new eE(t))}}var eE=function(){function t(t){if(this.total=t,this.total<0)throw new eh}return t.prototype.call=function(t,e){return e.subscribe(new eO(t,this.total))},t}(),eO=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return i(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(_);function eS(t,e){if(t<0)throw new eh;var n=arguments.length>=2;return function(r){return r.pipe(ep(function(e,n){return n===t}),ew(1),n?tZ(e):e_(function(){return new eh}))}}function eT(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return tj(e,tS.apply(void 0,t))}}function eC(t,e){return function(n){return n.lift(new ex(t,e,n))}}var ex=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new eI(t,this.predicate,this.thisArg,this.source))},t}(),eI=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.source=o,i.index=0,i.thisArg=r||i,i}return i(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(t){this.destination.error(t);return}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(_);function eP(){return function(t){return t.lift(new eN)}}var eN=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new ek(t))},t}(),ek=function(t){function e(e){var n=t.call(this,e)||this;return n.hasCompleted=!1,n.hasSubscription=!1,n}return i(e,t),e.prototype._next=function(t){this.hasSubscription||(this.hasSubscription=!0,this.add(R(t,new N(this))))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete()},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(k),eR=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new eA(t,this.project))},t}(),eA=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.hasSubscription=!1,r.hasCompleted=!1,r.index=0,r}return i(e,t),e.prototype._next=function(t){this.hasSubscription||this.tryNext(t)},e.prototype.tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){this.destination.error(t);return}this.hasSubscription=!0,this._innerSub(e)},e.prototype._innerSub=function(t){var e=new N(this),n=this.destination;n.add(e);var r=R(t,e);r!==e&&n.add(r)},e.prototype._complete=function(){this.hasCompleted=!0,this.hasSubscription||this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyError=function(t){this.destination.error(t)},e.prototype.notifyComplete=function(){this.hasSubscription=!1,this.hasCompleted&&this.destination.complete()},e}(k);function ej(t,e,n){return void 0===e&&(e=Number.POSITIVE_INFINITY),e=1>(e||0)?Number.POSITIVE_INFINITY:e,function(r){return r.lift(new eD(t,e,n))}}var eD=function(){function t(t,e,n){this.project=t,this.concurrent=e,this.scheduler=n}return t.prototype.call=function(t,e){return e.subscribe(new eU(t,this.project,this.concurrent,this.scheduler))},t}(),eU=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.scheduler=o,i.index=0,i.active=0,i.hasCompleted=!1,r<Number.POSITIVE_INFINITY&&(i.buffer=[]),i}return i(e,t),e.dispatch=function(t){var e=t.subscriber,n=t.result,r=t.value,o=t.index;e.subscribeToProjection(n,r,o)},e.prototype._next=function(t){var n=this.destination;if(n.closed)return void this._complete();var r=this.index++;if(this.active<this.concurrent){n.next(t);try{var o=(0,this.project)(t,r);this.scheduler?this.destination.add(this.scheduler.schedule(e.dispatch,0,{subscriber:this,result:o,value:t,index:r})):this.subscribeToProjection(o,t,r)}catch(t){n.error(t)}}else this.buffer.push(t)},e.prototype.subscribeToProjection=function(t,e,n){this.active++,this.destination.add(R(t,new N(this)))},e.prototype._complete=function(){this.hasCompleted=!0,this.hasCompleted&&0===this.active&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this._next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t&&t.length>0&&this._next(t.shift()),this.hasCompleted&&0===this.active&&this.destination.complete()},e}(k);function eM(t){return function(e){return e.lift(new eL(t))}}var eL=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new eF(t,this.callback))},t}(),eF=function(t){function e(e,n){var r=t.call(this,e)||this;return r.add(new d(n)),r}return i(e,t),e}(_);function eV(t,e){if("function"!=typeof t)throw TypeError("predicate is not a function");return function(n){return n.lift(new eB(t,n,!1,e))}}var eB=function(){function t(t,e,n,r){this.predicate=t,this.source=e,this.yieldIndex=n,this.thisArg=r}return t.prototype.call=function(t,e){return e.subscribe(new eH(t,this.predicate,this.source,this.yieldIndex,this.thisArg))},t}(),eH=function(t){function e(e,n,r,o,i){var s=t.call(this,e)||this;return s.predicate=n,s.source=r,s.yieldIndex=o,s.thisArg=i,s.index=0,s}return i(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete(),this.unsubscribe()},e.prototype._next=function(t){var e=this.predicate,n=this.thisArg,r=this.index++;try{e.call(n||this,t,r,this.source)&&this.notifyComplete(this.yieldIndex?r:t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){this.notifyComplete(this.yieldIndex?-1:void 0)},e}(_);function ez(t,e){return function(n){return n.lift(new eB(t,n,!0,e))}}function eq(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?ep(function(e,n){return t(e,n,r)}):g,ew(1),n?tZ(e):e_(function(){return new ev}))}}var eW=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),eY=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return i(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(d),eK=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return i(e,t),e}(_),eZ=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return i(e,t),e.prototype[v]=function(){return new eK(this)},e.prototype.lift=function(t){var e=new eG(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new eW;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].next(t)},e.prototype.error=function(t){if(this.closed)throw new eW;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),o=0;o<n;o++)r[o].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new eW;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(!this.closed)return t.prototype._trySubscribe.call(this,e);throw new eW},e.prototype._subscribe=function(t){if(this.closed)throw new eW;return this.hasError?(t.error(this.thrownError),d.EMPTY):this.isStopped?(t.complete(),d.EMPTY):(this.observers.push(t),new eY(this,t))},e.prototype.asObservable=function(){var t=new O;return t.source=this,t},e.create=function(t,e){return new eG(t,e)},e}(O),eG=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return i(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):d.EMPTY},e}(eZ);function eX(t,e,n,r){return function(o){return o.lift(new eQ(t,e,n,r))}}var eQ=function(){function t(t,e,n,r){this.keySelector=t,this.elementSelector=e,this.durationSelector=n,this.subjectSelector=r}return t.prototype.call=function(t,e){return e.subscribe(new eJ(t,this.keySelector,this.elementSelector,this.durationSelector,this.subjectSelector))},t}(),eJ=function(t){function e(e,n,r,o,i){var s=t.call(this,e)||this;return s.keySelector=n,s.elementSelector=r,s.durationSelector=o,s.subjectSelector=i,s.groups=null,s.attemptedToUnsubscribe=!1,s.count=0,s}return i(e,t),e.prototype._next=function(t){var e;try{e=this.keySelector(t)}catch(t){this.error(t);return}this._group(t,e)},e.prototype._group=function(t,e){var n,r=this.groups;r||(r=this.groups=new Map);var o=r.get(e);if(this.elementSelector)try{n=this.elementSelector(t)}catch(t){this.error(t)}else n=t;if(!o){o=this.subjectSelector?this.subjectSelector():new eZ,r.set(e,o);var i=new e0(e,o,this);if(this.destination.next(i),this.durationSelector){var s=void 0;try{s=this.durationSelector(new e0(e,o))}catch(t){this.error(t);return}this.add(s.subscribe(new e$(e,o,this)))}}o.closed||o.next(n)},e.prototype._error=function(t){var e=this.groups;e&&(e.forEach(function(e,n){e.error(t)}),e.clear()),this.destination.error(t)},e.prototype._complete=function(){var t=this.groups;t&&(t.forEach(function(t,e){t.complete()}),t.clear()),this.destination.complete()},e.prototype.removeGroup=function(t){this.groups.delete(t)},e.prototype.unsubscribe=function(){this.closed||(this.attemptedToUnsubscribe=!0,0===this.count&&t.prototype.unsubscribe.call(this))},e}(_),e$=function(t){function e(e,n,r){var o=t.call(this,n)||this;return o.key=e,o.group=n,o.parent=r,o}return i(e,t),e.prototype._next=function(t){this.complete()},e.prototype._unsubscribe=function(){var t=this.parent,e=this.key;this.key=this.parent=null,t&&t.removeGroup(e)},e}(_),e0=function(t){function e(e,n,r){var o=t.call(this)||this;return o.key=e,o.groupSubject=n,o.refCountSubscription=r,o}return i(e,t),e.prototype._subscribe=function(t){var e=new d,n=this.refCountSubscription,r=this.groupSubject;return n&&!n.closed&&e.add(new e1(n)),e.add(r.subscribe(t)),e},e}(O),e1=function(t){function e(e){var n=t.call(this)||this;return n.parent=e,e.count++,n}return i(e,t),e.prototype.unsubscribe=function(){var e=this.parent;e.closed||this.closed||(t.prototype.unsubscribe.call(this),e.count-=1,0===e.count&&e.attemptedToUnsubscribe&&e.unsubscribe())},e}(d);function e2(){return function(t){return t.lift(new e4)}}var e4=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new e6(t))},t}(),e6=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype._next=function(t){},e}(_);function e8(){return function(t){return t.lift(new e5)}}var e5=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new e3(t))},t}(),e3=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.notifyComplete=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype._next=function(t){this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(_);function e9(t){return function(e){return 0===t?t$():e.lift(new e7(t))}}var e7=function(){function t(t){if(this.total=t,this.total<0)throw new eh}return t.prototype.call=function(t,e){return e.subscribe(new nt(t,this.total))},t}(),nt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=[],r.count=0,r}return i(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,o=0;o<n;o++){var i=e++%n;t.next(r[i])}t.complete()},e}(_);function ne(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?ep(function(e,n){return t(e,n,r)}):g,e9(1),n?tZ(e):e_(function(){return new ev}))}}function nn(t){return function(e){return e.lift(new nr(t))}}var nr=function(){function t(t){this.value=t}return t.prototype.call=function(t,e){return e.subscribe(new no(t,this.value))},t}(),no=function(t){function e(e,n){var r=t.call(this,e)||this;return r.value=n,r}return i(e,t),e.prototype._next=function(t){this.destination.next(this.value)},e}(_);function ni(){return function(t){return t.lift(new ns)}}var ns=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new nu(t))},t}(),nu=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype._next=function(t){this.destination.next(t2.createNext(t))},e.prototype._error=function(t){var e=this.destination;e.next(t2.createError(t)),e.complete()},e.prototype._complete=function(){var t=this.destination;t.next(t2.createComplete()),t.complete()},e}(_);function nc(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new na(t,e,n))}}var na=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new nl(t,this.accumulator,this.seed,this.hasSeed))},t}(),nl=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.accumulator=n,i._seed=r,i.hasSeed=o,i.index=0,i}return i(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(t){this.destination.error(t)}this.seed=e,this.destination.next(e)},e}(_);function nf(t,e){return arguments.length>=2?function(n){return w(nc(t,e),e9(1),tZ(e))(n)}:function(e){return w(nc(function(e,n,r){return t(e,n,r+1)}),e9(1))(e)}}function nh(t){return nf("function"==typeof t?function(e,n){return t(e,n)>0?e:n}:function(t,e){return t>e?t:e})}function np(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,o=t[t.length-1];return(B(o)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof o&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof O)?t[0]:tR(n)(tO(t,r))}function nd(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(np.apply(void 0,[e].concat(t)))}}function nb(t,e,n){return(void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e)?tI(function(){return t},e,n):("number"==typeof e&&(n=e),tI(function(){return t},n))}function nv(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),function(r){return r.lift(new n_(t,e,n))}}var n_=function(){function t(t,e,n){this.accumulator=t,this.seed=e,this.concurrent=n}return t.prototype.call=function(t,e){return e.subscribe(new ny(t,this.accumulator,this.seed,this.concurrent))},t}(),ny=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.accumulator=n,i.acc=r,i.concurrent=o,i.hasValue=!1,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return i(e,t),e.prototype._next=function(t){if(this.active<this.concurrent){var e=this.index++,n=this.destination,r=void 0;try{r=(0,this.accumulator)(this.acc,t,e)}catch(t){return n.error(t)}this.active++,this._innerSub(r)}else this.buffer.push(t)},e.prototype._innerSub=function(t){var e=new N(this),n=this.destination;n.add(e);var r=R(t,e);r!==e&&n.add(r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete()),this.unsubscribe()},e.prototype.notifyNext=function(t){var e=this.destination;this.acc=t,this.hasValue=!0,e.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&(!1===this.hasValue&&this.destination.next(this.acc),this.destination.complete())},e}(k);function nm(t){return nf("function"==typeof t?function(e,n){return 0>t(e,n)?e:n}:function(t,e){return t<e?t:e})}function ng(){return function(t){return t.lift(new nw(t))}}var nw=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new nE(t,n),o=e.subscribe(r);return r.closed||(r.connection=n.connect()),o},t}(),nE=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return i(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(!t){this.connection=null;return}this.connectable=null;var e=t._refCount;if(e<=0||(t._refCount=e-1,e>1)){this.connection=null;return}var n=this.connection,r=t._connection;this.connection=null,r&&(!n||r===n)&&r.unsubscribe()},e}(_),nO=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return i(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return!t&&(this._isComplete=!1,(t=this._connection=new d).add(this.source.subscribe(new nT(this.getSubject(),this))),t.closed&&(this._connection=null,t=d.EMPTY)),t},e.prototype.refCount=function(){return ng()(this)},e}(O),nS=function(){var t=nO.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),nT=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return i(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(eK);function nC(t,e){return function(n){if(r="function"==typeof t?t:function(){return t},"function"==typeof e)return n.lift(new nx(r,e));var r,o=Object.create(n,nS);return o.source=n,o.subjectFactory=r,o}}var nx=function(){function t(t,e){this.subjectFactory=t,this.selector=e}return t.prototype.call=function(t,e){var n=this.selector,r=this.subjectFactory(),o=n(r).subscribe(t);return o.add(e.subscribe(r)),o},t}();function nI(t,e){return void 0===e&&(e=0),function(n){return n.lift(new nP(t,e))}}var nP=function(){function t(t,e){void 0===e&&(e=0),this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return e.subscribe(new nN(t,this.scheduler,this.delay))},t}(),nN=function(t){function e(e,n,r){void 0===r&&(r=0);var o=t.call(this,e)||this;return o.scheduler=n,o.delay=r,o}return i(e,t),e.dispatch=function(t){var e=t.notification,n=t.destination;e.observe(n),this.unsubscribe()},e.prototype.scheduleMessage=function(t){this.destination.add(this.scheduler.schedule(e.dispatch,this.delay,new nk(t,this.destination)))},e.prototype._next=function(t){this.scheduleMessage(t2.createNext(t))},e.prototype._error=function(t){this.scheduleMessage(t2.createError(t)),this.unsubscribe()},e.prototype._complete=function(){this.scheduleMessage(t2.createComplete()),this.unsubscribe()},e}(_),nk=function(t,e){this.notification=t,this.destination=e};function nR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===t.length&&f(t[0])&&(t=t[0]),function(e){return e.lift(new nA(t))}}var nA=function(){function t(t){this.nextSources=t}return t.prototype.call=function(t,e){return e.subscribe(new nj(t,this.nextSources))},t}(),nj=function(t){function e(e,n){var r=t.call(this,e)||this;return r.destination=e,r.nextSources=n,r}return i(e,t),e.prototype.notifyError=function(){this.subscribeToNextSource()},e.prototype.notifyComplete=function(){this.subscribeToNextSource()},e.prototype._error=function(t){this.subscribeToNextSource(),this.unsubscribe()},e.prototype._complete=function(){this.subscribeToNextSource(),this.unsubscribe()},e.prototype.subscribeToNextSource=function(){var t=this.nextSources.shift();if(t){var e=new N(this),n=this.destination;n.add(e);var r=R(t,e);r!==e&&n.add(r)}else this.destination.complete()},e}(k);function nD(){return function(t){return t.lift(new nU)}}var nU=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new nM(t))},t}(),nM=function(t){function e(e){var n=t.call(this,e)||this;return n.hasPrev=!1,n}return i(e,t),e.prototype._next=function(t){var e;this.hasPrev?e=[this.prev,t]:this.hasPrev=!0,this.prev=t,e&&this.destination.next(e)},e}(_);function nL(t,e){return function(n){return[ep(t,e)(n),ep(function(t,e){function n(){return!n.pred.apply(n.thisArg,arguments)}return n.pred=t,n.thisArg=e,n}(t,e))(n)]}}function nF(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.length;if(0===n)throw Error("list of properties cannot be empty.");return function(e){var r,o;return tT((r=t,o=n,function(t){for(var e=t,n=0;n<o;n++){var i=null!=e?e[r[n]]:void 0;if(void 0===i)return;e=i}return e}))(e)}}function nV(t){return t?nC(function(){return new eZ},t):nC(new eZ)}var nB=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return i(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(!this.closed)return this._value;throw new eW},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(eZ);function nH(t){return function(e){return nC(new nB(t))(e)}}var nz=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.value=null,e.hasNext=!1,e.hasCompleted=!1,e}return i(e,t),e.prototype._subscribe=function(e){return this.hasError?(e.error(this.thrownError),d.EMPTY):this.hasCompleted&&this.hasNext?(e.next(this.value),e.complete(),d.EMPTY):t.prototype._subscribe.call(this,e)},e.prototype.next=function(t){this.hasCompleted||(this.value=t,this.hasNext=!0)},e.prototype.error=function(e){this.hasCompleted||t.prototype.error.call(this,e)},e.prototype.complete=function(){this.hasCompleted=!0,this.hasNext&&t.prototype.next.call(this,this.value),t.prototype.complete.call(this)},e}(eZ);function nq(){return function(t){return nC(new nz)(t)}}var nW=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return i(e,t),e.prototype.schedule=function(e,n){return(void 0===n&&(n=0),n>0)?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)?t.prototype.requestAsyncId.call(this,e,n,r):e.flush(this)},e}(U),nY=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(L))(nW),nK=function(t){function e(e,n,r){void 0===e&&(e=Number.POSITIVE_INFINITY),void 0===n&&(n=Number.POSITIVE_INFINITY);var o=t.call(this)||this;return o.scheduler=r,o._events=[],o._infiniteTimeWindow=!1,o._bufferSize=e<1?1:e,o._windowTime=n<1?1:n,n===Number.POSITIVE_INFINITY?(o._infiniteTimeWindow=!0,o.next=o.nextInfiniteTimeWindow):o.next=o.nextTimeWindow,o}return i(e,t),e.prototype.nextInfiniteTimeWindow=function(e){if(!this.isStopped){var n=this._events;n.push(e),n.length>this._bufferSize&&n.shift()}t.prototype.next.call(this,e)},e.prototype.nextTimeWindow=function(e){this.isStopped||(this._events.push(new nZ(this._getNow(),e)),this._trimBufferThenGetEvents()),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){var e,n=this._infiniteTimeWindow,r=n?this._events:this._trimBufferThenGetEvents(),o=this.scheduler,i=r.length;if(this.closed)throw new eW;if(this.isStopped||this.hasError?e=d.EMPTY:(this.observers.push(t),e=new eY(this,t)),o&&t.add(t=new nN(t,o)),n)for(var s=0;s<i&&!t.closed;s++)t.next(r[s]);else for(var s=0;s<i&&!t.closed;s++)t.next(r[s].value);return this.hasError?t.error(this.thrownError):this.isStopped&&t.complete(),e},e.prototype._getNow=function(){return(this.scheduler||nY).now()},e.prototype._trimBufferThenGetEvents=function(){for(var t=this._getNow(),e=this._bufferSize,n=this._windowTime,r=this._events,o=r.length,i=0;i<o&&!(t-r[i].time<n);)i++;return o>e&&(i=Math.max(i,o-e)),i>0&&r.splice(0,i),r},e}(eZ),nZ=function(t,e){this.time=t,this.value=e};function nG(t,e,n,r){n&&"function"!=typeof n&&(r=n);var o="function"==typeof n?n:void 0,i=new nK(t,e,r);return function(t){return nC(function(){return i},o)(t)}}function nX(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length)if(!f(t[0]))return t[0];else t=t[0];return tO(t,void 0).lift(new nQ)}var nQ=function(){function t(){}return t.prototype.call=function(t,e){return e.subscribe(new nJ(t))},t}(),nJ=function(t){function e(e){var n=t.call(this,e)||this;return n.hasFirst=!1,n.observables=[],n.subscriptions=[],n}return i(e,t),e.prototype._next=function(t){this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{for(var n=0;n<e&&!this.hasFirst;n++){var r=ti(this,t[n],void 0,n);this.subscriptions&&this.subscriptions.push(r),this.add(r)}this.observables=null}},e.prototype.notifyNext=function(t,e,n){if(!this.hasFirst){this.hasFirst=!0;for(var r=0;r<this.subscriptions.length;r++)if(r!==n){var o=this.subscriptions[r];o.unsubscribe(),this.remove(o)}this.subscriptions=null}this.destination.next(e)},e}(ts);function n$(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return 1===t.length&&f(t[0])&&(t=t[0]),e.lift.call(nX.apply(void 0,[e].concat(t)))}}function n0(t){return void 0===t&&(t=-1),function(e){return 0===t?t$():t<0?e.lift(new n1(-1,e)):e.lift(new n1(t-1,e))}}var n1=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new n2(t,this.count,this.source))},t}(),n2=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.count=n,o.source=r,o}return i(e,t),e.prototype.complete=function(){if(!this.isStopped){var e=this.source,n=this.count;if(0===n)return t.prototype.complete.call(this);n>-1&&(this.count=n-1),e.subscribe(this._unsubscribeAndRecycle())}},e}(_);function n4(t){return function(e){return e.lift(new n6(t))}}var n6=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new n8(t,this.notifier,e))},t}(),n8=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.notifier=n,o.source=r,o.sourceIsBeingSubscribedTo=!0,o}return i(e,t),e.prototype.notifyNext=function(){this.sourceIsBeingSubscribedTo=!0,this.source.subscribe(this)},e.prototype.notifyComplete=function(){if(!1===this.sourceIsBeingSubscribedTo)return t.prototype.complete.call(this)},e.prototype.complete=function(){if(this.sourceIsBeingSubscribedTo=!1,!this.isStopped){if(this.retries||this.subscribeToRetries(),!this.retriesSubscription||this.retriesSubscription.closed)return t.prototype.complete.call(this);this._unsubscribeAndRecycle(),this.notifications.next(void 0)}},e.prototype._unsubscribe=function(){var t=this.notifications,e=this.retriesSubscription;t&&(t.unsubscribe(),this.notifications=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype._unsubscribeAndRecycle=function(){var e=this._unsubscribe;return this._unsubscribe=null,t.prototype._unsubscribeAndRecycle.call(this),this._unsubscribe=e,this},e.prototype.subscribeToRetries=function(){this.notifications=new eZ;try{var e;e=(0,this.notifier)(this.notifications)}catch(e){return t.prototype.complete.call(this)}this.retries=e,this.retriesSubscription=R(e,new N(this))},e}(k);function n5(t){return void 0===t&&(t=-1),function(e){return e.lift(new n3(t,e))}}var n3=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new n9(t,this.count,this.source))},t}(),n9=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.count=n,o.source=r,o}return i(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this.source,r=this.count;if(0===r)return t.prototype.error.call(this,e);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(_);function n7(t){return function(e){return e.lift(new rt(t,e))}}var rt=function(){function t(t,e){this.notifier=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new re(t,this.notifier,this.source))},t}(),re=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.notifier=n,o.source=r,o}return i(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this.errors,r=this.retries,o=this.retriesSubscription;if(r)this.errors=void 0,this.retriesSubscription=void 0;else{n=new eZ;try{r=(0,this.notifier)(n)}catch(e){return t.prototype.error.call(this,e)}o=R(r,new N(this))}this._unsubscribeAndRecycle(),this.errors=n,this.retries=r,this.retriesSubscription=o,n.next(e)}},e.prototype._unsubscribe=function(){var t=this.errors,e=this.retriesSubscription;t&&(t.unsubscribe(),this.errors=void 0),e&&(e.unsubscribe(),this.retriesSubscription=void 0),this.retries=void 0},e.prototype.notifyNext=function(){var t=this._unsubscribe;this._unsubscribe=null,this._unsubscribeAndRecycle(),this._unsubscribe=t,this.source.subscribe(this)},e}(k);function rn(t){return function(e){return e.lift(new rr(t))}}var rr=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new ro(t),r=e.subscribe(n);return r.add(R(this.notifier,new N(n))),r},t}(),ro=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.hasValue=!1,e}return i(e,t),e.prototype._next=function(t){this.value=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.emitValue()},e.prototype.notifyComplete=function(){this.emitValue()},e.prototype.emitValue=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.value))},e}(k);function ri(t,e){return void 0===e&&(e=F),function(n){return n.lift(new rs(t,e))}}var rs=function(){function t(t,e){this.period=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new ru(t,this.period,this.scheduler))},t}(),ru=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.period=n,o.scheduler=r,o.hasValue=!1,o.add(r.schedule(rc,n,{subscriber:o,period:n})),o}return i(e,t),e.prototype._next=function(t){this.lastValue=t,this.hasValue=!0},e.prototype.notifyNext=function(){this.hasValue&&(this.hasValue=!1,this.destination.next(this.lastValue))},e}(_);function rc(t){var e=t.subscriber,n=t.period;e.notifyNext(),this.schedule(t,n)}function ra(t,e){return function(n){return n.lift(new rl(t,e))}}var rl=function(){function t(t,e){this.compareTo=t,this.comparator=e}return t.prototype.call=function(t,e){return e.subscribe(new rf(t,this.compareTo,this.comparator))},t}(),rf=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.compareTo=n,o.comparator=r,o._a=[],o._b=[],o._oneComplete=!1,o.destination.add(n.subscribe(new rh(e,o))),o}return i(e,t),e.prototype._next=function(t){this._oneComplete&&0===this._b.length?this.emit(!1):(this._a.push(t),this.checkValues())},e.prototype._complete=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0,this.unsubscribe()},e.prototype.checkValues=function(){for(var t=this._a,e=this._b,n=this.comparator;t.length>0&&e.length>0;){var r=t.shift(),o=e.shift(),i=!1;try{i=n?n(r,o):r===o}catch(t){this.destination.error(t)}i||this.emit(!1)}},e.prototype.emit=function(t){var e=this.destination;e.next(t),e.complete()},e.prototype.nextB=function(t){this._oneComplete&&0===this._a.length?this.emit(!1):(this._b.push(t),this.checkValues())},e.prototype.completeB=function(){this._oneComplete?this.emit(0===this._a.length&&0===this._b.length):this._oneComplete=!0},e}(_),rh=function(t){function e(e,n){var r=t.call(this,e)||this;return r.parent=n,r}return i(e,t),e.prototype._next=function(t){this.parent.nextB(t)},e.prototype._error=function(t){this.parent.error(t),this.unsubscribe()},e.prototype._complete=function(){this.parent.completeB(),this.unsubscribe()},e}(_);function rp(){return new eZ}function rd(){return function(t){return ng()(nC(rp)(t))}}function rb(t,e,n){var r;return r=t&&"object"==typeof t?t:{bufferSize:t,windowTime:e,refCount:!1,scheduler:n},function(t){var e,n,o,i,s,u,c,a,l,f,h,p;return t.lift((s=void 0===(i=(e=r).bufferSize)?Number.POSITIVE_INFINITY:i,c=void 0===(u=e.windowTime)?Number.POSITIVE_INFINITY:u,a=e.refCount,l=e.scheduler,f=0,h=!1,p=!1,function(t){var e;f++,!n||h?(h=!1,e=(n=new nK(s,c,l)).subscribe(this),o=t.subscribe({next:function(t){n.next(t)},error:function(t){h=!0,n.error(t)},complete:function(){p=!0,o=void 0,n.complete()}}),p&&(o=void 0)):e=n.subscribe(this),this.add(function(){f--,e.unsubscribe(),e=void 0,o&&!p&&a&&0===f&&(o.unsubscribe(),o=void 0,n=void 0)})}))}}function rv(t){return function(e){return e.lift(new r_(t,e))}}var r_=function(){function t(t,e){this.predicate=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new ry(t,this.predicate,this.source))},t}(),ry=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.predicate=n,o.source=r,o.seenValue=!1,o.index=0,o}return i(e,t),e.prototype.applySingleValue=function(t){this.seenValue?this.destination.error("Sequence contains more than one element"):(this.seenValue=!0,this.singleValue=t)},e.prototype._next=function(t){var e=this.index++;this.predicate?this.tryNext(t,e):this.applySingleValue(t)},e.prototype.tryNext=function(t,e){try{this.predicate(t,e,this.source)&&this.applySingleValue(t)}catch(t){this.destination.error(t)}},e.prototype._complete=function(){var t=this.destination;this.index>0?(t.next(this.seenValue?this.singleValue:void 0),t.complete()):t.error(new ev)},e}(_);function rm(t){return function(e){return e.lift(new rg(t))}}var rg=function(){function t(t){this.total=t}return t.prototype.call=function(t,e){return e.subscribe(new rw(t,this.total))},t}(),rw=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return i(e,t),e.prototype._next=function(t){++this.count>this.total&&this.destination.next(t)},e}(_);function rE(t){return function(e){return e.lift(new rO(t))}}var rO=function(){function t(t){if(this._skipCount=t,this._skipCount<0)throw new eh}return t.prototype.call=function(t,e){return 0===this._skipCount?e.subscribe(new _(t)):e.subscribe(new rS(t,this._skipCount))},t}(),rS=function(t){function e(e,n){var r=t.call(this,e)||this;return r._skipCount=n,r._count=0,r._ring=Array(n),r}return i(e,t),e.prototype._next=function(t){var e=this._skipCount,n=this._count++;if(n<e)this._ring[n]=t;else{var r=n%e,o=this._ring,i=o[r];o[r]=t,this.destination.next(i)}},e}(_);function rT(t){return function(e){return e.lift(new rC(t))}}var rC=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){return e.subscribe(new rx(t,this.notifier))},t}(),rx=function(t){function e(e,n){var r=t.call(this,e)||this;r.hasValue=!1;var o=new N(r);r.add(o),r.innerSubscription=o;var i=R(n,o);return i!==o&&(r.add(i),r.innerSubscription=i),r}return i(e,t),e.prototype._next=function(e){this.hasValue&&t.prototype._next.call(this,e)},e.prototype.notifyNext=function(){this.hasValue=!0,this.innerSubscription&&this.innerSubscription.unsubscribe()},e.prototype.notifyComplete=function(){},e}(k);function rI(t){return function(e){return e.lift(new rP(t))}}var rP=function(){function t(t){this.predicate=t}return t.prototype.call=function(t,e){return e.subscribe(new rN(t,this.predicate))},t}(),rN=function(t){function e(e,n){var r=t.call(this,e)||this;return r.predicate=n,r.skipping=!0,r.index=0,r}return i(e,t),e.prototype._next=function(t){var e=this.destination;this.skipping&&this.tryCallPredicate(t),this.skipping||e.next(t)},e.prototype.tryCallPredicate=function(t){try{var e=this.predicate(t,this.index++);this.skipping=!!e}catch(t){this.destination.error(t)}},e}(_);function rk(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return B(n)?(t.pop(),function(e){return tj(t,e,n)}):function(e){return tj(t,e)}}var rR=1,rA=Promise.resolve(),rj={};function rD(t){return t in rj&&(delete rj[t],!0)}var rU={setImmediate:function(t){var e=rR++;return rj[e]=!0,rA.then(function(){return rD(e)&&t()}),e},clearImmediate:function(t){rD(t)}},rM=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return i(e,t),e.prototype.requestAsyncId=function(e,n,r){return(void 0===r&&(r=0),null!==r&&r>0)?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e.scheduled||(e.scheduled=rU.setImmediate(e.flush.bind(e,null))))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!==r&&r>0||null===r&&this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);0===e.actions.length&&(rU.clearImmediate(n),e.scheduled=void 0)},e}(U),rL=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.flush=function(t){this.active=!0,this.scheduled=void 0;var e,n=this.actions,r=-1,o=n.length;t=t||n.shift();do if(e=t.execute(t.state,t.delay))break;while(++r<o&&(t=n.shift()));if(this.active=!1,e){for(;++r<o&&(t=n.shift());)t.unsubscribe();throw e}},e}(L))(rM),rF=function(t){function e(e,n,r){void 0===n&&(n=0),void 0===r&&(r=rL);var o=t.call(this)||this;return o.source=e,o.delayTime=n,o.scheduler=r,(!V(n)||n<0)&&(o.delayTime=0),r&&"function"==typeof r.schedule||(o.scheduler=rL),o}return i(e,t),e.create=function(t,n,r){return void 0===n&&(n=0),void 0===r&&(r=rL),new e(t,n,r)},e.dispatch=function(t){var e=t.source,n=t.subscriber;return this.add(e.subscribe(n))},e.prototype._subscribe=function(t){var n=this.delayTime,r=this.source;return this.scheduler.schedule(e.dispatch,n,{source:r,subscriber:t})},e}(O);function rV(t,e){return void 0===e&&(e=0),function(n){return n.lift(new rB(t,e))}}var rB=function(){function t(t,e){this.scheduler=t,this.delay=e}return t.prototype.call=function(t,e){return new rF(e,this.delay,this.scheduler).subscribe(t)},t}();function rH(t,e){return"function"==typeof e?function(n){return n.pipe(rH(function(n,r){return tw(t(n,r)).pipe(tT(function(t,o){return e(n,t,r,o)}))}))}:function(e){return e.lift(new rz(t))}}var rz=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new rq(t,this.project))},t}(),rq=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return i(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(t){this.destination.error(t);return}this._innerSub(e)},e.prototype._innerSub=function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new N(this),r=this.destination;r.add(n),this.innerSubscription=R(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)},e.prototype._complete=function(){var e=this.innerSubscription;(!e||e.closed)&&t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t){this.destination.next(t)},e}(k);function rW(){return rH(g)}function rY(t,e){return e?rH(function(){return t},e):rH(function(){return t})}function rK(t){return function(e){return e.lift(new rZ(t))}}var rZ=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new rG(t),r=R(this.notifier,new N(n));return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n},t}(),rG=function(t){function e(e){var n=t.call(this,e)||this;return n.seenValue=!1,n}return i(e,t),e.prototype.notifyNext=function(){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(k);function rX(t,e){return void 0===e&&(e=!1),function(n){return n.lift(new rQ(t,e))}}var rQ=function(){function t(t,e){this.predicate=t,this.inclusive=e}return t.prototype.call=function(t,e){return e.subscribe(new rJ(t,this.predicate,this.inclusive))},t}(),rJ=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.predicate=n,o.inclusive=r,o.index=0,o}return i(e,t),e.prototype._next=function(t){var e,n=this.destination;try{e=this.predicate(t,this.index++)}catch(t){n.error(t);return}this.nextOrComplete(t,e)},e.prototype.nextOrComplete=function(t,e){var n=this.destination;e?n.next(t):(this.inclusive&&n.next(t),n.complete())},e}(_);function r$(){}function r0(t,e,n){return function(r){return r.lift(new r1(t,e,n))}}var r1=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new r2(t,this.nextOrObserver,this.error,this.complete))},t}(),r2=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i._tapNext=r$,i._tapError=r$,i._tapComplete=r$,i._tapError=r||r$,i._tapComplete=o||r$,s(n)?(i._context=i,i._tapNext=n):n&&(i._context=n,i._tapNext=n.next||r$,i._tapError=n.error||r$,i._tapComplete=n.complete||r$),i}return i(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(t){this.destination.error(t);return}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){this.destination.error(t);return}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){this.destination.error(t);return}return this.destination.complete()},e}(_),r4={leading:!0,trailing:!1};function r6(t,e){return void 0===e&&(e=r4),function(n){return n.lift(new r8(t,!!e.leading,!!e.trailing))}}var r8=function(){function t(t,e,n){this.durationSelector=t,this.leading=e,this.trailing=n}return t.prototype.call=function(t,e){return e.subscribe(new r5(t,this.durationSelector,this.leading,this.trailing))},t}(),r5=function(t){function e(e,n,r,o){var i=t.call(this,e)||this;return i.destination=e,i.durationSelector=n,i._leading=r,i._trailing=o,i._hasValue=!1,i}return i(e,t),e.prototype._next=function(t){this._hasValue=!0,this._sendValue=t,this._throttled||(this._leading?this.send():this.throttle(t))},e.prototype.send=function(){var t=this._hasValue,e=this._sendValue;t&&(this.destination.next(e),this.throttle(e)),this._hasValue=!1,this._sendValue=void 0},e.prototype.throttle=function(t){var e=this.tryDurationSelector(t);e&&this.add(this._throttled=R(e,new N(this)))},e.prototype.tryDurationSelector=function(t){try{return this.durationSelector(t)}catch(t){return this.destination.error(t),null}},e.prototype.throttlingDone=function(){var t=this._throttled,e=this._trailing;t&&t.unsubscribe(),this._throttled=void 0,e&&this.send()},e.prototype.notifyNext=function(){this.throttlingDone()},e.prototype.notifyComplete=function(){this.throttlingDone()},e}(k);function r3(t,e,n){return void 0===e&&(e=F),void 0===n&&(n=r4),function(r){return r.lift(new r9(t,e,n.leading,n.trailing))}}var r9=function(){function t(t,e,n,r){this.duration=t,this.scheduler=e,this.leading=n,this.trailing=r}return t.prototype.call=function(t,e){return e.subscribe(new r7(t,this.duration,this.scheduler,this.leading,this.trailing))},t}(),r7=function(t){function e(e,n,r,o,i){var s=t.call(this,e)||this;return s.duration=n,s.scheduler=r,s.leading=o,s.trailing=i,s._hasTrailingValue=!1,s._trailingValue=null,s}return i(e,t),e.prototype._next=function(t){this.throttled?this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0):(this.add(this.throttled=this.scheduler.schedule(ot,this.duration,{subscriber:this})),this.leading?this.destination.next(t):this.trailing&&(this._trailingValue=t,this._hasTrailingValue=!0))},e.prototype._complete=function(){this._hasTrailingValue&&this.destination.next(this._trailingValue),this.destination.complete()},e.prototype.clearThrottle=function(){var t=this.throttled;t&&(this.trailing&&this._hasTrailingValue&&(this.destination.next(this._trailingValue),this._trailingValue=null,this._hasTrailingValue=!1),t.unsubscribe(),this.remove(t),this.throttled=null)},e}(_);function ot(t){t.subscriber.clearThrottle()}function oe(t){return void 0===t&&(t=F),function(e){var n;return n=function(){return e.pipe(nc(function(e,n){var r=e.current;return{value:n,current:t.now(),last:r}},{current:t.now(),value:void 0,last:void 0}),tT(function(t){var e=t.current,n=t.last;return new on(t.value,e-n)}))},new O(function(t){var e;try{e=n()}catch(e){t.error(e);return}return(e?tw(e):t$()).subscribe(t)})}}var on=function(t,e){this.value=t,this.interval=e},or=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}();function oo(t,e,n){return void 0===n&&(n=F),function(r){var o=tQ(t),i=o?t-n.now():Math.abs(t);return r.lift(new oi(i,o,e,n))}}var oi=function(){function t(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new os(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),os=function(t){function e(e,n,r,o,i){var s=t.call(this,e)||this;return s.absoluteTimeout=n,s.waitFor=r,s.withObservable=o,s.scheduler=i,s.scheduleTimeout(),s}return i(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(R(e,new N(t)))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(k);function ou(t,e){return void 0===e&&(e=F),oo(t,t0(new or),e)}function oc(t){return void 0===t&&(t=F),tT(function(e){return new oa(e,t.now())})}var oa=function(t,e){this.value=t,this.timestamp=e};function ol(t,e,n){return 0===n?[e]:(t.push(e),t)}function of(){return nf(ol,[])}function oh(t){return function(e){return e.lift(new op(t))}}var op=function(){function t(t){this.windowBoundaries=t}return t.prototype.call=function(t,e){var n=new od(t),r=e.subscribe(n);return r.closed||n.add(R(this.windowBoundaries,new N(n))),r},t}(),od=function(t){function e(e){var n=t.call(this,e)||this;return n.window=new eZ,e.next(n.window),n}return i(e,t),e.prototype.notifyNext=function(){this.openWindow()},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(){this._complete()},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t)},e.prototype._complete=function(){this.window.complete(),this.destination.complete()},e.prototype._unsubscribe=function(){this.window=null},e.prototype.openWindow=function(){var t=this.window;t&&t.complete();var e=this.destination,n=this.window=new eZ;e.next(n)},e}(k);function ob(t,e){return void 0===e&&(e=0),function(n){return n.lift(new ov(t,e))}}var ov=function(){function t(t,e){this.windowSize=t,this.startWindowEvery=e}return t.prototype.call=function(t,e){return e.subscribe(new o_(t,this.windowSize,this.startWindowEvery))},t}(),o_=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.destination=e,o.windowSize=n,o.startWindowEvery=r,o.windows=[new eZ],o.count=0,e.next(o.windows[0]),o}return i(e,t),e.prototype._next=function(t){for(var e=this.startWindowEvery>0?this.startWindowEvery:this.windowSize,n=this.destination,r=this.windowSize,o=this.windows,i=o.length,s=0;s<i&&!this.closed;s++)o[s].next(t);var u=this.count-r+1;if(u>=0&&u%e==0&&!this.closed&&o.shift().complete(),++this.count%e==0&&!this.closed){var c=new eZ;o.push(c),n.next(c)}},e.prototype._error=function(t){var e=this.windows;if(e)for(;e.length>0&&!this.closed;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){var t=this.windows;if(t)for(;t.length>0&&!this.closed;)t.shift().complete();this.destination.complete()},e.prototype._unsubscribe=function(){this.count=0,this.windows=null},e}(_);function oy(t){var e=F,n=null,r=Number.POSITIVE_INFINITY;return B(arguments[3])&&(e=arguments[3]),B(arguments[2])?e=arguments[2]:V(arguments[2])&&(r=Number(arguments[2])),B(arguments[1])?e=arguments[1]:V(arguments[1])&&(n=Number(arguments[1])),function(o){return o.lift(new om(t,n,r,e))}}var om=function(){function t(t,e,n,r){this.windowTimeSpan=t,this.windowCreationInterval=e,this.maxWindowSize=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new ow(t,this.windowTimeSpan,this.windowCreationInterval,this.maxWindowSize,this.scheduler))},t}(),og=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._numberOfNextedValues=0,e}return i(e,t),e.prototype.next=function(e){this._numberOfNextedValues++,t.prototype.next.call(this,e)},Object.defineProperty(e.prototype,"numberOfNextedValues",{get:function(){return this._numberOfNextedValues},enumerable:!0,configurable:!0}),e}(eZ),ow=function(t){function e(e,n,r,o,i){var s=t.call(this,e)||this;s.destination=e,s.windowTimeSpan=n,s.windowCreationInterval=r,s.maxWindowSize=o,s.scheduler=i,s.windows=[];var u=s.openWindow();return null!==r&&r>=0?(s.add(i.schedule(oS,n,{subscriber:s,window:u,context:null})),s.add(i.schedule(oO,r,{windowTimeSpan:n,windowCreationInterval:r,subscriber:s,scheduler:i}))):s.add(i.schedule(oE,n,{subscriber:s,window:u,windowTimeSpan:n})),s}return i(e,t),e.prototype._next=function(t){for(var e=this.windows,n=e.length,r=0;r<n;r++){var o=e[r];!o.closed&&(o.next(t),o.numberOfNextedValues>=this.maxWindowSize&&this.closeWindow(o))}},e.prototype._error=function(t){for(var e=this.windows;e.length>0;)e.shift().error(t);this.destination.error(t)},e.prototype._complete=function(){for(var t=this.windows;t.length>0;){var e=t.shift();e.closed||e.complete()}this.destination.complete()},e.prototype.openWindow=function(){var t=new og;return this.windows.push(t),this.destination.next(t),t},e.prototype.closeWindow=function(t){t.complete();var e=this.windows;e.splice(e.indexOf(t),1)},e}(_);function oE(t){var e=t.subscriber,n=t.windowTimeSpan,r=t.window;r&&e.closeWindow(r),t.window=e.openWindow(),this.schedule(t,n)}function oO(t){var e=t.windowTimeSpan,n=t.subscriber,r=t.scheduler,o=t.windowCreationInterval,i=n.openWindow(),s={action:this,subscription:null};s.subscription=r.schedule(oS,e,{subscriber:n,window:i,context:s}),this.add(s.subscription),this.schedule(t,o)}function oS(t){var e=t.subscriber,n=t.window,r=t.context;r&&r.action&&r.subscription&&r.action.remove(r.subscription),e.closeWindow(n)}function oT(t,e){return function(n){return n.lift(new oC(t,e))}}var oC=function(){function t(t,e){this.openings=t,this.closingSelector=e}return t.prototype.call=function(t,e){return e.subscribe(new ox(t,this.openings,this.closingSelector))},t}(),ox=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.openings=n,o.closingSelector=r,o.contexts=[],o.add(o.openSubscription=ti(o,n,n)),o}return i(e,t),e.prototype._next=function(t){var e=this.contexts;if(e)for(var n=e.length,r=0;r<n;r++)e[r].window.next(t)},e.prototype._error=function(e){var n=this.contexts;if(this.contexts=null,n)for(var r=n.length,o=-1;++o<r;){var i=n[o];i.window.error(e),i.subscription.unsubscribe()}t.prototype._error.call(this,e)},e.prototype._complete=function(){var e=this.contexts;if(this.contexts=null,e)for(var n=e.length,r=-1;++r<n;){var o=e[r];o.window.complete(),o.subscription.unsubscribe()}t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.contexts;if(this.contexts=null,t)for(var e=t.length,n=-1;++n<e;){var r=t[n];r.window.unsubscribe(),r.subscription.unsubscribe()}},e.prototype.notifyNext=function(t,e,n,r,o){if(t===this.openings){var i=void 0;try{i=(0,this.closingSelector)(e)}catch(t){return this.error(t)}var s=new eZ,u=new d,c={window:s,subscription:u};this.contexts.push(c);var a=ti(this,i,c);a.closed?this.closeWindow(this.contexts.length-1):(a.context=c,u.add(a)),this.destination.next(s)}else this.closeWindow(this.contexts.indexOf(t))},e.prototype.notifyError=function(t){this.error(t)},e.prototype.notifyComplete=function(t){t!==this.openSubscription&&this.closeWindow(this.contexts.indexOf(t.context))},e.prototype.closeWindow=function(t){if(-1!==t){var e=this.contexts,n=e[t],r=n.window,o=n.subscription;e.splice(t,1),r.complete(),o.unsubscribe()}},e}(ts);function oI(t){return function(e){return e.lift(new oP(t))}}var oP=function(){function t(t){this.closingSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new oN(t,this.closingSelector))},t}(),oN=function(t){function e(e,n){var r=t.call(this,e)||this;return r.destination=e,r.closingSelector=n,r.openWindow(),r}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,o){this.openWindow(o)},e.prototype.notifyError=function(t){this._error(t)},e.prototype.notifyComplete=function(t){this.openWindow(t)},e.prototype._next=function(t){this.window.next(t)},e.prototype._error=function(t){this.window.error(t),this.destination.error(t),this.unsubscribeClosingNotification()},e.prototype._complete=function(){this.window.complete(),this.destination.complete(),this.unsubscribeClosingNotification()},e.prototype.unsubscribeClosingNotification=function(){this.closingNotification&&this.closingNotification.unsubscribe()},e.prototype.openWindow=function(t){void 0===t&&(t=null),t&&(this.remove(t),t.unsubscribe());var e,n=this.window;n&&n.complete();var r=this.window=new eZ;this.destination.next(r);try{e=(0,this.closingSelector)()}catch(t){this.destination.error(t),this.window.error(t);return}this.add(this.closingNotification=ti(this,e))},e}(ts);function ok(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){var n;return"function"==typeof t[t.length-1]&&(n=t.pop()),e.lift(new oR(t,n))}}var oR=function(){function t(t,e){this.observables=t,this.project=e}return t.prototype.call=function(t,e){return e.subscribe(new oA(t,this.observables,this.project))},t}(),oA=function(t){function e(e,n,r){var o=t.call(this,e)||this;o.observables=n,o.project=r,o.toRespond=[];var i=n.length;o.values=Array(i);for(var s=0;s<i;s++)o.toRespond.push(s);for(var s=0;s<i;s++){var u=n[s];o.add(ti(o,u,void 0,s))}return o}return i(e,t),e.prototype.notifyNext=function(t,e,n){this.values[n]=e;var r=this.toRespond;if(r.length>0){var o=r.indexOf(n);-1!==o&&r.splice(o,1)}},e.prototype.notifyComplete=function(){},e.prototype._next=function(t){if(0===this.toRespond.length){var e=[t].concat(this.values);this.project?this._tryProject(e):this.destination.next(e)}},e.prototype._tryProject=function(t){var e;try{e=this.project.apply(this,t)}catch(t){this.destination.error(t);return}this.destination.next(e)},e}(ts);function oj(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return"function"==typeof n&&t.pop(),tO(t,void 0).lift(new oD(n))}var oD=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new oU(t,this.resultSelector))},t}(),oU=function(t){function e(e,n,r){void 0===r&&(r=Object.create(null));var o=t.call(this,e)||this;return o.resultSelector=n,o.iterators=[],o.active=0,o.resultSelector="function"==typeof n?n:void 0,o}return i(e,t),e.prototype._next=function(t){var e=this.iterators;f(t)?e.push(new oL(t)):"function"==typeof t[C]?e.push(new oM(t[C]())):e.push(new oF(this.destination,this,t))},e.prototype._complete=function(){var t=this.iterators,e=t.length;if(this.unsubscribe(),0===e)return void this.destination.complete();this.active=e;for(var n=0;n<e;n++){var r=t[n];r.stillUnsubscribed?this.destination.add(r.subscribe()):this.active--}},e.prototype.notifyInactive=function(){this.active--,0===this.active&&this.destination.complete()},e.prototype.checkIterators=function(){for(var t=this.iterators,e=t.length,n=this.destination,r=0;r<e;r++){var o=t[r];if("function"==typeof o.hasValue&&!o.hasValue())return}for(var i=!1,s=[],r=0;r<e;r++){var o=t[r],u=o.next();if(o.hasCompleted()&&(i=!0),u.done)return void n.complete();s.push(u.value)}this.resultSelector?this._tryresultSelector(s):n.next(s),i&&n.complete()},e.prototype._tryresultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(t){this.destination.error(t);return}this.destination.next(e)},e}(_),oM=function(){function t(t){this.iterator=t,this.nextResult=t.next()}return t.prototype.hasValue=function(){return!0},t.prototype.next=function(){var t=this.nextResult;return this.nextResult=this.iterator.next(),t},t.prototype.hasCompleted=function(){var t=this.nextResult;return!!(t&&t.done)},t}(),oL=function(){function t(t){this.array=t,this.index=0,this.length=0,this.length=t.length}return t.prototype[C]=function(){return this},t.prototype.next=function(t){var e=this.index++,n=this.array;return e<this.length?{value:n[e],done:!1}:{value:null,done:!0}},t.prototype.hasValue=function(){return this.array.length>this.index},t.prototype.hasCompleted=function(){return this.array.length===this.index},t}(),oF=function(t){function e(e,n,r){var o=t.call(this,e)||this;return o.parent=n,o.observable=r,o.stillUnsubscribed=!0,o.buffer=[],o.isComplete=!1,o}return i(e,t),e.prototype[C]=function(){return this},e.prototype.next=function(){var t=this.buffer;return 0===t.length&&this.isComplete?{value:null,done:!0}:{value:t.shift(),done:!1}},e.prototype.hasValue=function(){return this.buffer.length>0},e.prototype.hasCompleted=function(){return 0===this.buffer.length&&this.isComplete},e.prototype.notifyComplete=function(){this.buffer.length>0?(this.isComplete=!0,this.parent.notifyInactive()):this.destination.complete()},e.prototype.notifyNext=function(t){this.buffer.push(t),this.parent.checkIterators()},e.prototype.subscribe=function(){return R(this.observable,new N(this))},e}(k);function oV(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return e.lift.call(oj.apply(void 0,[e].concat(t)))}}function oB(t){return function(e){return e.lift(new oD(t))}}},4096:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.types=e.Driver=e.Session=e.Transaction=e.Connection=e.ConnectionProvider=e.Result=e.Stats=e.QueryStatistics=e.ProfiledPlan=e.Plan=e.Notification=e.ServerInfo=e.queryType=e.ResultSummary=e.Record=e.isPathSegment=e.PathSegment=e.isPath=e.Path=e.isUnboundRelationship=e.UnboundRelationship=e.isRelationship=e.Relationship=e.isNode=e.Node=e.Time=e.LocalTime=e.LocalDateTime=e.isTime=e.isLocalTime=e.isLocalDateTime=e.isDuration=e.isDateTime=e.isDate=e.Duration=e.DateTime=e.Date=e.Point=e.isPoint=e.internal=e.toString=e.toNumber=e.inSafeRange=e.isInt=e.int=e.Integer=e.error=e.Neo4jError=e.newError=void 0,e.auth=e.json=e.driver=void 0;var u=n(5849);Object.defineProperty(e,"newError",{enumerable:!0,get:function(){return u.newError}}),Object.defineProperty(e,"Neo4jError",{enumerable:!0,get:function(){return u.Neo4jError}});var c=i(n(1154));e.Integer=c.default,Object.defineProperty(e,"int",{enumerable:!0,get:function(){return c.int}}),Object.defineProperty(e,"isInt",{enumerable:!0,get:function(){return c.isInt}}),Object.defineProperty(e,"inSafeRange",{enumerable:!0,get:function(){return c.inSafeRange}}),Object.defineProperty(e,"toNumber",{enumerable:!0,get:function(){return c.toNumber}}),Object.defineProperty(e,"toString",{enumerable:!0,get:function(){return c.toString}});var a=n(2256);Object.defineProperty(e,"Date",{enumerable:!0,get:function(){return a.Date}}),Object.defineProperty(e,"DateTime",{enumerable:!0,get:function(){return a.DateTime}}),Object.defineProperty(e,"Duration",{enumerable:!0,get:function(){return a.Duration}}),Object.defineProperty(e,"isDate",{enumerable:!0,get:function(){return a.isDate}}),Object.defineProperty(e,"isDateTime",{enumerable:!0,get:function(){return a.isDateTime}}),Object.defineProperty(e,"isDuration",{enumerable:!0,get:function(){return a.isDuration}}),Object.defineProperty(e,"isLocalDateTime",{enumerable:!0,get:function(){return a.isLocalDateTime}}),Object.defineProperty(e,"isLocalTime",{enumerable:!0,get:function(){return a.isLocalTime}}),Object.defineProperty(e,"isTime",{enumerable:!0,get:function(){return a.isTime}}),Object.defineProperty(e,"LocalDateTime",{enumerable:!0,get:function(){return a.LocalDateTime}}),Object.defineProperty(e,"LocalTime",{enumerable:!0,get:function(){return a.LocalTime}}),Object.defineProperty(e,"Time",{enumerable:!0,get:function(){return a.Time}});var l=n(260);Object.defineProperty(e,"Node",{enumerable:!0,get:function(){return l.Node}}),Object.defineProperty(e,"isNode",{enumerable:!0,get:function(){return l.isNode}}),Object.defineProperty(e,"Relationship",{enumerable:!0,get:function(){return l.Relationship}}),Object.defineProperty(e,"isRelationship",{enumerable:!0,get:function(){return l.isRelationship}}),Object.defineProperty(e,"UnboundRelationship",{enumerable:!0,get:function(){return l.UnboundRelationship}}),Object.defineProperty(e,"isUnboundRelationship",{enumerable:!0,get:function(){return l.isUnboundRelationship}}),Object.defineProperty(e,"Path",{enumerable:!0,get:function(){return l.Path}}),Object.defineProperty(e,"isPath",{enumerable:!0,get:function(){return l.isPath}}),Object.defineProperty(e,"PathSegment",{enumerable:!0,get:function(){return l.PathSegment}}),Object.defineProperty(e,"isPathSegment",{enumerable:!0,get:function(){return l.isPathSegment}});var f=s(n(567));e.Record=f.default;var h=n(7888);Object.defineProperty(e,"isPoint",{enumerable:!0,get:function(){return h.isPoint}}),Object.defineProperty(e,"Point",{enumerable:!0,get:function(){return h.Point}});var p=i(n(8642));e.ResultSummary=p.default,Object.defineProperty(e,"queryType",{enumerable:!0,get:function(){return p.queryType}}),Object.defineProperty(e,"ServerInfo",{enumerable:!0,get:function(){return p.ServerInfo}}),Object.defineProperty(e,"Notification",{enumerable:!0,get:function(){return p.Notification}}),Object.defineProperty(e,"Plan",{enumerable:!0,get:function(){return p.Plan}}),Object.defineProperty(e,"ProfiledPlan",{enumerable:!0,get:function(){return p.ProfiledPlan}}),Object.defineProperty(e,"QueryStatistics",{enumerable:!0,get:function(){return p.QueryStatistics}}),Object.defineProperty(e,"Stats",{enumerable:!0,get:function(){return p.Stats}});var d=s(n(9719));e.Result=d.default,e.ConnectionProvider=s(n(2654)).default;var b=s(n(9710));e.Connection=b.default;var v=s(n(1864));e.Transaction=v.default;var _=s(n(188));e.Session=_.default;var y=i(n(828));e.Driver=y.default,e.driver=y;var m=s(n(1876));e.auth=m.default;var g=i(n(5717));e.types=g;var w=i(n(360));e.json=w;var E=i(n(9168));e.internal=E;var O={SERVICE_UNAVAILABLE:u.SERVICE_UNAVAILABLE,SESSION_EXPIRED:u.SESSION_EXPIRED,PROTOCOL_ERROR:u.PROTOCOL_ERROR};e.error=O,e.default={newError:u.newError,Neo4jError:u.Neo4jError,error:O,Integer:c.default,int:c.int,isInt:c.isInt,inSafeRange:c.inSafeRange,toNumber:c.toNumber,toString:c.toString,internal:E,isPoint:h.isPoint,Point:h.Point,Date:a.Date,DateTime:a.DateTime,Duration:a.Duration,isDate:a.isDate,isDateTime:a.isDateTime,isDuration:a.isDuration,isLocalDateTime:a.isLocalDateTime,isLocalTime:a.isLocalTime,isTime:a.isTime,LocalDateTime:a.LocalDateTime,LocalTime:a.LocalTime,Time:a.Time,Node:l.Node,isNode:l.isNode,Relationship:l.Relationship,isRelationship:l.isRelationship,UnboundRelationship:l.UnboundRelationship,isUnboundRelationship:l.isUnboundRelationship,Path:l.Path,isPath:l.isPath,PathSegment:l.PathSegment,isPathSegment:l.isPathSegment,Record:f.default,ResultSummary:p.default,queryType:p.queryType,ServerInfo:p.ServerInfo,Notification:p.Notification,Plan:p.Plan,ProfiledPlan:p.ProfiledPlan,QueryStatistics:p.QueryStatistics,Stats:p.Stats,Result:d.default,Transaction:v.default,Session:_.default,Driver:y.default,Connection:b.default,types:g,driver:y,json:w,auth:m.default}},4169:(t,e,n)=>{"use strict";n.r(e),n.d(e,{ArgumentOutOfRangeError:()=>t7,AsyncSubject:()=>ti,BehaviorSubject:()=>tn,ConnectableObservable:()=>K,EMPTY:()=>tk,EmptyError:()=>t5,NEVER:()=>eL,NotFoundError:()=>et,Notification:()=>t4,NotificationKind:()=>o,ObjectUnsubscribedError:()=>$,Observable:()=>V,ReplaySubject:()=>to,Scheduler:()=>t_,SequenceError:()=>ee,Subject:()=>tt,Subscriber:()=>I,Subscription:()=>v,TimeoutError:()=>er,UnsubscriptionError:()=>d,VirtualAction:()=>tN,VirtualTimeScheduler:()=>tP,animationFrame:()=>tI,animationFrameScheduler:()=>tx,animationFrames:()=>X,asap:()=>tg,asapScheduler:()=>tm,async:()=>tE,asyncScheduler:()=>tw,audit:()=>eQ,auditTime:()=>eJ,bindCallback:()=>el,bindNodeCallback:()=>ef,buffer:()=>e$,bufferCount:()=>e0,bufferTime:()=>e1,bufferToggle:()=>e2,bufferWhen:()=>e4,catchError:()=>function t(e){return z(function(n,r){var o,i=null,s=!1;i=n.subscribe(q(r,void 0,void 0,function(u){o=tY(e(u,t(e)(n))),i?(i.unsubscribe(),i=null,o.subscribe(r)):s=!0})),s&&(i.unsubscribe(),i=null,o.subscribe(r))})},combineAll:()=>nt,combineLatest:()=>ey,combineLatestAll:()=>e7,combineLatestWith:()=>nn,concat:()=>eS,concatAll:()=>eO,concatMap:()=>nr,concatMapTo:()=>no,concatWith:()=>ns,config:()=>g,connect:()=>nc,connectable:()=>ex,count:()=>na,debounce:()=>nl,debounceTime:()=>nf,defaultIfEmpty:()=>nh,defer:()=>eT,delay:()=>n_,delayWhen:()=>nv,dematerialize:()=>ny,distinct:()=>nm,distinctUntilChanged:()=>ng,distinctUntilKeyChanged:()=>nE,elementAt:()=>nT,empty:()=>tR,endWith:()=>nC,every:()=>nx,exhaust:()=>nN,exhaustAll:()=>nP,exhaustMap:()=>nI,expand:()=>nk,filter:()=>eq,finalize:()=>nR,find:()=>nA,findIndex:()=>nD,first:()=>nU,firstValueFrom:()=>t9,flatMap:()=>nz,forkJoin:()=>eI,from:()=>t0,fromEvent:()=>function t(e,n,r,o){if(h(r)&&(o=r,r=void 0),o)return t(e,n,r).pipe(ec(o));var i,s,u,c=a(h((i=e).addEventListener)&&h(i.removeEventListener)?eN.map(function(t){return function(o){return e[t](n,o,r)}}):h((s=e).addListener)&&h(s.removeListener)?eP.map(eR(e,n)):h((u=e).on)&&h(u.off)?ek.map(eR(e,n)):[],2),l=c[0],f=c[1];if(!l&&tL(e))return ew(function(e){return t(e,n,r)})(tY(e));if(!l)throw TypeError("Invalid event target");return new V(function(t){var e=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.next(1<e.length?e:e[0])};return l(e),function(){return f(e)}})},fromEventPattern:()=>function t(e,n,r){return r?t(e,n).pipe(ec(r)):new V(function(t){var r=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return t.next(1===e.length?e[0]:e)},o=e(r);return h(n)?function(){return n(r,o)}:void 0})},generate:()=>eA,groupBy:()=>nM,identity:()=>M,ignoreElements:()=>nd,iif:()=>ej,interval:()=>eU,isEmpty:()=>nL,isObservable:()=>t8,last:()=>nV,lastValueFrom:()=>t3,map:()=>es,mapTo:()=>nb,materialize:()=>nB,max:()=>nH,merge:()=>eM,mergeAll:()=>eE,mergeMap:()=>ew,mergeMapTo:()=>nq,mergeScan:()=>nW,mergeWith:()=>nK,min:()=>nZ,multicast:()=>nG,never:()=>eF,noop:()=>O,observable:()=>U,observeOn:()=>tG,of:()=>t1,onErrorResumeNext:()=>eH,onErrorResumeNextWith:()=>nX,pairs:()=>ez,pairwise:()=>nQ,partition:()=>eW,pipe:()=>L,pluck:()=>nJ,publish:()=>n$,publishBehavior:()=>n0,publishLast:()=>n1,publishReplay:()=>n2,queue:()=>tT,queueScheduler:()=>tS,race:()=>eY,raceWith:()=>n4,range:()=>eZ,reduce:()=>e8,refCount:()=>Y,repeat:()=>n6,repeatWhen:()=>n8,retry:()=>n5,retryWhen:()=>n3,sample:()=>n9,sampleTime:()=>n7,scan:()=>rt,scheduled:()=>t$,sequenceEqual:()=>re,share:()=>rr,shareReplay:()=>ri,single:()=>rs,skip:()=>ru,skipLast:()=>rc,skipUntil:()=>ra,skipWhile:()=>rl,startWith:()=>rf,subscribeOn:()=>tX,switchAll:()=>rp,switchMap:()=>rh,switchMapTo:()=>rd,switchScan:()=>rb,take:()=>np,takeLast:()=>nF,takeUntil:()=>rv,takeWhile:()=>r_,tap:()=>ry,throttle:()=>rm,throttleTime:()=>rg,throwError:()=>t2,throwIfEmpty:()=>nO,timeInterval:()=>rw,timeout:()=>eo,timeoutWith:()=>rO,timer:()=>eD,timestamp:()=>rS,toArray:()=>e3,using:()=>eG,window:()=>rT,windowCount:()=>rC,windowTime:()=>rx,windowToggle:()=>rI,windowWhen:()=>rP,withLatestFrom:()=>rN,zip:()=>eX,zipAll:()=>rk,zipWith:()=>rA});var r,o,i=function(t,e){return(i=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)};function s(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function u(t,e){var n,r,o,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]},s=Object.create(("function"==typeof Iterator?Iterator:Object).prototype);return s.next=u(0),s.throw=u(1),s.return=u(2),"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function u(u){return function(c){var a=[u,c];if(n)throw TypeError("Generator is already executing.");for(;s&&(s=0,a[0]&&(i=0)),i;)try{if(n=1,r&&(o=2&a[0]?r.return:a[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,a[1])).done)return o;switch(r=0,o&&(a=[2&a[0],o.value]),a[0]){case 0:case 1:o=a;break;case 4:return i.label++,{value:a[1],done:!1};case 5:i.label++,r=a[1],a=[0];continue;case 7:a=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===a[0]||2===a[0])){i=0;continue}if(3===a[0]&&(!o||a[1]>o[0]&&a[1]<o[3])){i.label=a[1];break}if(6===a[0]&&i.label<o[1]){i.label=o[1],o=a;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(a);break}o[2]&&i.ops.pop(),i.trys.pop();continue}a=e.call(t,i)}catch(t){a=[6,t],r=0}finally{n=o=0}if(5&a[0])throw a[1];return{value:a[0]?a[1]:void 0,done:!0}}}}function c(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function a(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s}function l(t,e,n){if(n||2==arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))}function f(t){return this instanceof f?(this.v=t,this):new f(t)}function h(t){return"function"==typeof t}function p(t){var e=t(function(t){Error.call(t),t.stack=Error().stack});return e.prototype=Object.create(Error.prototype),e.prototype.constructor=e,e}Object.create,Object.create,"function"==typeof SuppressedError&&SuppressedError;var d=p(function(t){return function(e){t(this),this.message=e?e.length+" errors occurred during unsubscription:\n"+e.map(function(t,e){return e+1+") "+t.toString()}).join("\n  "):"",this.name="UnsubscriptionError",this.errors=e}});function b(t,e){if(t){var n=t.indexOf(e);0<=n&&t.splice(n,1)}}var v=function(){var t;function e(t){this.initialTeardown=t,this.closed=!1,this._parentage=null,this._finalizers=null}return e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t,e,n,r,o,i=this._parentage;if(i)if(this._parentage=null,Array.isArray(i))try{for(var s=c(i),u=s.next();!u.done;u=s.next())u.value.remove(this)}catch(e){t={error:e}}finally{try{u&&!u.done&&(e=s.return)&&e.call(s)}finally{if(t)throw t.error}}else i.remove(this);var f=this.initialTeardown;if(h(f))try{f()}catch(t){o=t instanceof d?t.errors:[t]}var p=this._finalizers;if(p){this._finalizers=null;try{for(var b=c(p),v=b.next();!v.done;v=b.next()){var _=v.value;try{m(_)}catch(t){o=null!=o?o:[],t instanceof d?o=l(l([],a(o)),a(t.errors)):o.push(t)}}}catch(t){n={error:t}}finally{try{v&&!v.done&&(r=b.return)&&r.call(b)}finally{if(n)throw n.error}}}if(o)throw new d(o)}},e.prototype.add=function(t){var n;if(t&&t!==this)if(this.closed)m(t);else{if(t instanceof e){if(t.closed||t._hasParent(this))return;t._addParent(this)}(this._finalizers=null!=(n=this._finalizers)?n:[]).push(t)}},e.prototype._hasParent=function(t){var e=this._parentage;return e===t||Array.isArray(e)&&e.includes(t)},e.prototype._addParent=function(t){var e=this._parentage;this._parentage=Array.isArray(e)?(e.push(t),e):e?[e,t]:t},e.prototype._removeParent=function(t){var e=this._parentage;e===t?this._parentage=null:Array.isArray(e)&&b(e,t)},e.prototype.remove=function(t){var n=this._finalizers;n&&b(n,t),t instanceof e&&t._removeParent(this)},(t=new e).closed=!0,e.EMPTY=t,e}(),_=v.EMPTY;function y(t){return t instanceof v||t&&"closed"in t&&h(t.remove)&&h(t.add)&&h(t.unsubscribe)}function m(t){h(t)?t():t.unsubscribe()}var g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},w={setTimeout:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=w.delegate;return(null==o?void 0:o.setTimeout)?o.setTimeout.apply(o,l([t,e],a(n))):setTimeout.apply(void 0,l([t,e],a(n)))},clearTimeout:function(t){var e=w.delegate;return((null==e?void 0:e.clearTimeout)||clearTimeout)(t)},delegate:void 0};function E(t){w.setTimeout(function(){var e=g.onUnhandledError;if(e)e(t);else throw t})}function O(){}var S=T("C",void 0,void 0);function T(t,e,n){return{kind:t,value:e,error:n}}var C=null;function x(t){if(g.useDeprecatedSynchronousErrorHandling){var e=!C;if(e&&(C={errorThrown:!1,error:null}),t(),e){var n=C,r=n.errorThrown,o=n.error;if(C=null,r)throw o}}else t()}var I=function(t){function e(e){var n=t.call(this)||this;return n.isStopped=!1,e?(n.destination=e,y(e)&&e.add(n)):n.destination=D,n}return s(e,t),e.create=function(t,e,n){return new R(t,e,n)},e.prototype.next=function(t){this.isStopped?j(T("N",t,void 0),this):this._next(t)},e.prototype.error=function(t){this.isStopped?j(T("E",void 0,t),this):(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped?j(S,this):(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this),this.destination=null)},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){try{this.destination.error(t)}finally{this.unsubscribe()}},e.prototype._complete=function(){try{this.destination.complete()}finally{this.unsubscribe()}},e}(v),P=Function.prototype.bind;function N(t,e){return P.call(t,e)}var k=function(){function t(t){this.partialObserver=t}return t.prototype.next=function(t){var e=this.partialObserver;if(e.next)try{e.next(t)}catch(t){A(t)}},t.prototype.error=function(t){var e=this.partialObserver;if(e.error)try{e.error(t)}catch(t){A(t)}else A(t)},t.prototype.complete=function(){var t=this.partialObserver;if(t.complete)try{t.complete()}catch(t){A(t)}},t}(),R=function(t){function e(e,n,r){var o,i,s=t.call(this)||this;return h(e)||!e?o={next:null!=e?e:void 0,error:null!=n?n:void 0,complete:null!=r?r:void 0}:s&&g.useDeprecatedNextContext?((i=Object.create(e)).unsubscribe=function(){return s.unsubscribe()},o={next:e.next&&N(e.next,i),error:e.error&&N(e.error,i),complete:e.complete&&N(e.complete,i)}):o=e,s.destination=new k(o),s}return s(e,t),e}(I);function A(t){if(g.useDeprecatedSynchronousErrorHandling)g.useDeprecatedSynchronousErrorHandling&&C&&(C.errorThrown=!0,C.error=t);else E(t)}function j(t,e){var n=g.onStoppedNotification;n&&w.setTimeout(function(){return n(t,e)})}var D={closed:!0,next:O,error:function(t){throw t},complete:O},U="function"==typeof Symbol&&Symbol.observable||"@@observable";function M(t){return t}function L(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return F(t)}function F(t){return 0===t.length?M:1===t.length?t[0]:function(e){return t.reduce(function(t,e){return e(t)},e)}}var V=function(){function t(t){t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this,o=!function(t){return t&&t instanceof I||t&&h(t.next)&&h(t.error)&&h(t.complete)&&y(t)}(t)?new R(t,e,n):t;return x(function(){var t=r.operator,e=r.source;o.add(t?t.call(o,e):e?r._subscribe(o):r._trySubscribe(o))}),o},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){t.error(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=B(e))(function(e,r){var o=new R({next:function(e){try{t(e)}catch(t){r(t),o.unsubscribe()}},error:r,complete:e});n.subscribe(o)})},t.prototype._subscribe=function(t){var e;return null==(e=this.source)?void 0:e.subscribe(t)},t.prototype[U]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return F(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=B(t))(function(t,n){var r;e.subscribe(function(t){return r=t},function(t){return n(t)},function(){return t(r)})})},t.create=function(e){return new t(e)},t}();function B(t){var e;return null!=(e=null!=t?t:g.Promise)?e:Promise}function H(t){return h(null==t?void 0:t.lift)}function z(t){return function(e){if(H(e))return e.lift(function(e){try{return t(e,this)}catch(t){this.error(t)}});throw TypeError("Unable to lift unknown Observable type")}}function q(t,e,n,r,o){return new W(t,e,n,r,o)}var W=function(t){function e(e,n,r,o,i,s){var u=t.call(this,e)||this;return u.onFinalize=i,u.shouldUnsubscribe=s,u._next=n?function(t){try{n(t)}catch(t){e.error(t)}}:t.prototype._next,u._error=o?function(t){try{o(t)}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._error,u._complete=r?function(){try{r()}catch(t){e.error(t)}finally{this.unsubscribe()}}:t.prototype._complete,u}return s(e,t),e.prototype.unsubscribe=function(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){var n=this.closed;t.prototype.unsubscribe.call(this),n||null==(e=this.onFinalize)||e.call(this)}},e}(I);function Y(){return z(function(t,e){var n=null;t._refCount++;var r=q(e,void 0,void 0,void 0,function(){if(!t||t._refCount<=0||0<--t._refCount){n=null;return}var r=t._connection,o=n;n=null,r&&(!o||r===o)&&r.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var K=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._subject=null,r._refCount=0,r._connection=null,H(e)&&(r.lift=e.lift),r}return s(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return(!t||t.isStopped)&&(this._subject=this.subjectFactory()),this._subject},e.prototype._teardown=function(){this._refCount=0;var t=this._connection;this._subject=this._connection=null,null==t||t.unsubscribe()},e.prototype.connect=function(){var t=this,e=this._connection;if(!e){e=this._connection=new v;var n=this.getSubject();e.add(this.source.subscribe(q(n,void 0,function(){t._teardown(),n.complete()},function(e){t._teardown(),n.error(e)},function(){return t._teardown()}))),e.closed&&(this._connection=null,e=v.EMPTY)}return e},e.prototype.refCount=function(){return Y()(this)},e}(V),Z={now:function(){return(Z.delegate||performance).now()},delegate:void 0},G={schedule:function(t){var e=requestAnimationFrame,n=cancelAnimationFrame,r=G.delegate;r&&(e=r.requestAnimationFrame,n=r.cancelAnimationFrame);var o=e(function(e){n=void 0,t(e)});return new v(function(){return null==n?void 0:n(o)})},requestAnimationFrame:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=G.delegate;return((null==n?void 0:n.requestAnimationFrame)||requestAnimationFrame).apply(void 0,l([],a(t)))},cancelAnimationFrame:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=G.delegate;return((null==n?void 0:n.cancelAnimationFrame)||cancelAnimationFrame).apply(void 0,l([],a(t)))},delegate:void 0};function X(t){return t?Q(t):J}function Q(t){return new V(function(e){var n=t||Z,r=n.now(),o=0,i=function(){e.closed||(o=G.requestAnimationFrame(function(s){o=0;var u=n.now();e.next({timestamp:t?u:s,elapsed:u-r}),i()}))};return i(),function(){o&&G.cancelAnimationFrame(o)}})}var J=Q(),$=p(function(t){return function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"}}),tt=function(t){function e(){var e=t.call(this)||this;return e.closed=!1,e.currentObservers=null,e.observers=[],e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return s(e,t),e.prototype.lift=function(t){var e=new te(this,this);return e.operator=t,e},e.prototype._throwIfClosed=function(){if(this.closed)throw new $},e.prototype.next=function(t){var e=this;x(function(){var n,r;if(e._throwIfClosed(),!e.isStopped){e.currentObservers||(e.currentObservers=Array.from(e.observers));try{for(var o=c(e.currentObservers),i=o.next();!i.done;i=o.next())i.value.next(t)}catch(t){n={error:t}}finally{try{i&&!i.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}}})},e.prototype.error=function(t){var e=this;x(function(){if(e._throwIfClosed(),!e.isStopped){e.hasError=e.isStopped=!0,e.thrownError=t;for(var n=e.observers;n.length;)n.shift().error(t)}})},e.prototype.complete=function(){var t=this;x(function(){if(t._throwIfClosed(),!t.isStopped){t.isStopped=!0;for(var e=t.observers;e.length;)e.shift().complete()}})},e.prototype.unsubscribe=function(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null},Object.defineProperty(e.prototype,"observed",{get:function(){var t;return(null==(t=this.observers)?void 0:t.length)>0},enumerable:!1,configurable:!0}),e.prototype._trySubscribe=function(e){return this._throwIfClosed(),t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)},e.prototype._innerSubscribe=function(t){var e=this,n=this.hasError,r=this.isStopped,o=this.observers;return n||r?_:(this.currentObservers=null,o.push(t),new v(function(){e.currentObservers=null,b(o,t)}))},e.prototype._checkFinalizedStatuses=function(t){var e=this.hasError,n=this.thrownError,r=this.isStopped;e?t.error(n):r&&t.complete()},e.prototype.asObservable=function(){var t=new V;return t.source=this,t},e.create=function(t,e){return new te(t,e)},e}(V),te=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return s(e,t),e.prototype.next=function(t){var e,n;null==(n=null==(e=this.destination)?void 0:e.next)||n.call(e,t)},e.prototype.error=function(t){var e,n;null==(n=null==(e=this.destination)?void 0:e.error)||n.call(e,t)},e.prototype.complete=function(){var t,e;null==(e=null==(t=this.destination)?void 0:t.complete)||e.call(t)},e.prototype._subscribe=function(t){var e,n;return null!=(n=null==(e=this.source)?void 0:e.subscribe(t))?n:_},e}(tt),tn=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return s(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!1,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n.closed||e.next(this._value),n},e.prototype.getValue=function(){var t=this.hasError,e=this.thrownError,n=this._value;if(t)throw e;return this._throwIfClosed(),n},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(tt),tr={now:function(){return(tr.delegate||Date).now()},delegate:void 0},to=function(t){function e(e,n,r){void 0===e&&(e=1/0),void 0===n&&(n=1/0),void 0===r&&(r=tr);var o=t.call(this)||this;return o._bufferSize=e,o._windowTime=n,o._timestampProvider=r,o._buffer=[],o._infiniteTimeWindow=!0,o._infiniteTimeWindow=n===1/0,o._bufferSize=Math.max(1,e),o._windowTime=Math.max(1,n),o}return s(e,t),e.prototype.next=function(e){var n=this.isStopped,r=this._buffer,o=this._infiniteTimeWindow,i=this._timestampProvider,s=this._windowTime;!n&&(r.push(e),o||r.push(i.now()+s)),this._trimBuffer(),t.prototype.next.call(this,e)},e.prototype._subscribe=function(t){this._throwIfClosed(),this._trimBuffer();for(var e=this._innerSubscribe(t),n=this._infiniteTimeWindow,r=this._buffer.slice(),o=0;o<r.length&&!t.closed;o+=n?1:2)t.next(r[o]);return this._checkFinalizedStatuses(t),e},e.prototype._trimBuffer=function(){var t=this._bufferSize,e=this._timestampProvider,n=this._buffer,r=this._infiniteTimeWindow,o=(r?1:2)*t;if(t<1/0&&o<n.length&&n.splice(0,n.length-o),!r){for(var i=e.now(),s=0,u=1;u<n.length&&n[u]<=i;u+=2)s=u;s&&n.splice(0,s+1)}},e}(tt),ti=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._value=null,e._hasValue=!1,e._isComplete=!1,e}return s(e,t),e.prototype._checkFinalizedStatuses=function(t){var e=this.hasError,n=this._hasValue,r=this._value,o=this.thrownError,i=this.isStopped,s=this._isComplete;e?t.error(o):(i||s)&&(n&&t.next(r),t.complete())},e.prototype.next=function(t){this.isStopped||(this._value=t,this._hasValue=!0)},e.prototype.complete=function(){var e=this._hasValue,n=this._value;this._isComplete||(this._isComplete=!0,e&&t.prototype.next.call(this,n),t.prototype.complete.call(this))},e}(tt),ts=function(t){function e(e,n){return t.call(this)||this}return s(e,t),e.prototype.schedule=function(t,e){return void 0===e&&(e=0),this},e}(v),tu={setInterval:function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var o=tu.delegate;return(null==o?void 0:o.setInterval)?o.setInterval.apply(o,l([t,e],a(n))):setInterval.apply(void 0,l([t,e],a(n)))},clearInterval:function(t){var e=tu.delegate;return((null==e?void 0:e.clearInterval)||clearInterval)(t)},delegate:void 0},tc=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r.pending=!1,r}return s(e,t),e.prototype.schedule=function(t,e){if(void 0===e&&(e=0),this.closed)return this;this.state=t;var n,r=this.id,o=this.scheduler;return null!=r&&(this.id=this.recycleAsyncId(o,r,e)),this.pending=!0,this.delay=e,this.id=null!=(n=this.id)?n:this.requestAsyncId(o,this.id,e),this},e.prototype.requestAsyncId=function(t,e,n){return void 0===n&&(n=0),tu.setInterval(t.flush.bind(t,this),n)},e.prototype.recycleAsyncId=function(t,e,n){if(void 0===n&&(n=0),null!=n&&this.delay===n&&!1===this.pending)return e;null!=e&&tu.clearInterval(e)},e.prototype.execute=function(t,e){if(this.closed)return Error("executing a cancelled action");this.pending=!1;var n=this._execute(t,e);if(n)return n;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))},e.prototype._execute=function(t,e){var n,r=!1;try{this.work(t)}catch(t){r=!0,n=t||Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),n},e.prototype.unsubscribe=function(){if(!this.closed){var e=this.id,n=this.scheduler,r=n.actions;this.work=this.state=this.scheduler=null,this.pending=!1,b(r,this),null!=e&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,t.prototype.unsubscribe.call(this)}},e}(ts),ta=1,tl={};function tf(t){return t in tl&&(delete tl[t],!0)}var th={setImmediate:function(t){var e=ta++;return tl[e]=!0,r||(r=Promise.resolve()),r.then(function(){return tf(e)&&t()}),e},clearImmediate:function(t){tf(t)}},tp=th.setImmediate,td=th.clearImmediate,tb={setImmediate:function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=tb.delegate;return((null==n?void 0:n.setImmediate)||tp).apply(void 0,l([],a(t)))},clearImmediate:function(t){var e=tb.delegate;return((null==e?void 0:e.clearImmediate)||td)(t)},delegate:void 0},tv=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return s(e,t),e.prototype.requestAsyncId=function(e,n,r){return(void 0===r&&(r=0),null!==r&&r>0)?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=tb.setImmediate(e.flush.bind(e,void 0))))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!=r?r>0:this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);var o,i=e.actions;null!=n&&(null==(o=i[i.length-1])?void 0:o.id)!==n&&(tb.clearImmediate(n),e._scheduled===n&&(e._scheduled=void 0))},e}(tc),t_=function(){function t(e,n){void 0===n&&(n=t.now),this.schedulerActionCtor=e,this.now=n}return t.prototype.schedule=function(t,e,n){return void 0===e&&(e=0),new this.schedulerActionCtor(this,t).schedule(n,e)},t.now=tr.now,t}(),ty=function(t){function e(e,n){void 0===n&&(n=t_.now);var r=t.call(this,e,n)||this;return r.actions=[],r._active=!1,r}return s(e,t),e.prototype.flush=function(t){var e,n=this.actions;if(this._active)return void n.push(t);this._active=!0;do if(e=t.execute(t.state,t.delay))break;while(t=n.shift());if(this._active=!1,e){for(;t=n.shift();)t.unsubscribe();throw e}},e}(t_),tm=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.flush=function(t){this._active=!0;var e,n=this._scheduled;this._scheduled=void 0;var r=this.actions;t=t||r.shift();do if(e=t.execute(t.state,t.delay))break;while((t=r[0])&&t.id===n&&r.shift());if(this._active=!1,e){for(;(t=r[0])&&t.id===n&&r.shift();)t.unsubscribe();throw e}},e}(ty))(tv),tg=tm,tw=new ty(tc),tE=tw,tO=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return s(e,t),e.prototype.schedule=function(e,n){return(void 0===n&&(n=0),n>0)?t.prototype.schedule.call(this,e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)},e.prototype.execute=function(e,n){return n>0||this.closed?t.prototype.execute.call(this,e,n):this._execute(e,n)},e.prototype.requestAsyncId=function(e,n,r){return(void 0===r&&(r=0),null!=r&&r>0||null==r&&this.delay>0)?t.prototype.requestAsyncId.call(this,e,n,r):(e.flush(this),0)},e}(tc),tS=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e}(ty))(tO),tT=tS,tC=function(t){function e(e,n){var r=t.call(this,e,n)||this;return r.scheduler=e,r.work=n,r}return s(e,t),e.prototype.requestAsyncId=function(e,n,r){return(void 0===r&&(r=0),null!==r&&r>0)?t.prototype.requestAsyncId.call(this,e,n,r):(e.actions.push(this),e._scheduled||(e._scheduled=G.requestAnimationFrame(function(){return e.flush(void 0)})))},e.prototype.recycleAsyncId=function(e,n,r){if(void 0===r&&(r=0),null!=r?r>0:this.delay>0)return t.prototype.recycleAsyncId.call(this,e,n,r);var o,i=e.actions;null!=n&&n===e._scheduled&&(null==(o=i[i.length-1])?void 0:o.id)!==n&&(G.cancelAnimationFrame(n),e._scheduled=void 0)},e}(tc),tx=new(function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s(e,t),e.prototype.flush=function(t){this._active=!0,t?e=t.id:(e=this._scheduled,this._scheduled=void 0);var e,n,r=this.actions;t=t||r.shift();do if(n=t.execute(t.state,t.delay))break;while((t=r[0])&&t.id===e&&r.shift());if(this._active=!1,n){for(;(t=r[0])&&t.id===e&&r.shift();)t.unsubscribe();throw n}},e}(ty))(tC),tI=tx,tP=function(t){function e(e,n){void 0===e&&(e=tN),void 0===n&&(n=1/0);var r=t.call(this,e,function(){return r.frame})||this;return r.maxFrames=n,r.frame=0,r.index=-1,r}return s(e,t),e.prototype.flush=function(){for(var t,e,n=this.actions,r=this.maxFrames;(e=n[0])&&e.delay<=r&&(n.shift(),this.frame=e.delay,!(t=e.execute(e.state,e.delay))););if(t){for(;e=n.shift();)e.unsubscribe();throw t}},e.frameTimeFactor=10,e}(ty),tN=function(t){function e(e,n,r){void 0===r&&(r=e.index+=1);var o=t.call(this,e,n)||this;return o.scheduler=e,o.work=n,o.index=r,o.active=!0,o.index=e.index=r,o}return s(e,t),e.prototype.schedule=function(n,r){if(void 0===r&&(r=0),!Number.isFinite(r))return v.EMPTY;if(!this.id)return t.prototype.schedule.call(this,n,r);this.active=!1;var o=new e(this.scheduler,this.work);return this.add(o),o.schedule(n,r)},e.prototype.requestAsyncId=function(t,n,r){void 0===r&&(r=0),this.delay=t.frame+r;var o=t.actions;return o.push(this),o.sort(e.sortActions),1},e.prototype.recycleAsyncId=function(t,e,n){void 0===n&&(n=0)},e.prototype._execute=function(e,n){if(!0===this.active)return t.prototype._execute.call(this,e,n)},e.sortActions=function(t,e){if(t.delay===e.delay)if(t.index===e.index)return 0;else if(t.index>e.index)return 1;else return -1;return t.delay>e.delay?1:-1},e}(tc),tk=new V(function(t){return t.complete()});function tR(t){var e;return t?(e=t,new V(function(t){return e.schedule(function(){return t.complete()})})):tk}function tA(t){return t&&h(t.schedule)}function tj(t){return t[t.length-1]}function tD(t){return h(tj(t))?t.pop():void 0}function tU(t){return tA(tj(t))?t.pop():void 0}function tM(t,e){return"number"==typeof tj(t)?t.pop():e}var tL=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function tF(t){return h(null==t?void 0:t.then)}function tV(t){return Symbol.asyncIterator&&h(null==t?void 0:t[Symbol.asyncIterator])}function tB(t){return TypeError("You provided "+(null!==t&&"object"==typeof t?"an invalid object":"'"+t+"'")+" where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.")}var tH="function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator";function tz(t){return h(null==t?void 0:t[tH])}function tq(t){return function(t,e,n){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var r,o=n.apply(t,e||[]),i=[];return r=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),s("next"),s("throw"),s("return",function(t){return function(e){return Promise.resolve(e).then(t,a)}}),r[Symbol.asyncIterator]=function(){return this},r;function s(t,e){o[t]&&(r[t]=function(e){return new Promise(function(n,r){i.push([t,e,n,r])>1||u(t,e)})},e&&(r[t]=e(r[t])))}function u(t,e){try{var n;(n=o[t](e)).value instanceof f?Promise.resolve(n.value.v).then(c,a):l(i[0][2],n)}catch(t){l(i[0][3],t)}}function c(t){u("next",t)}function a(t){u("throw",t)}function l(t,e){t(e),i.shift(),i.length&&u(i[0][0],i[0][1])}}(this,arguments,function(){var e,n,r;return u(this,function(o){switch(o.label){case 0:e=t.getReader(),o.label=1;case 1:o.trys.push([1,,9,10]),o.label=2;case 2:return[4,f(e.read())];case 3:if(r=(n=o.sent()).value,!n.done)return[3,5];return[4,f(void 0)];case 4:return[2,o.sent()];case 5:return[4,f(r)];case 6:return[4,o.sent()];case 7:return o.sent(),[3,2];case 8:return[3,10];case 9:return e.releaseLock(),[7];case 10:return[2]}})})}function tW(t){return h(null==t?void 0:t.getReader)}function tY(t){if(t instanceof V)return t;if(null!=t){var e,n,r,o;if(h(t[U])){return e=t,new V(function(t){var n=e[U]();if(h(n.subscribe))return n.subscribe(t);throw TypeError("Provided object does not correctly implement Symbol.observable")})}if(tL(t)){return n=t,new V(function(t){for(var e=0;e<n.length&&!t.closed;e++)t.next(n[e]);t.complete()})}if(tF(t)){return r=t,new V(function(t){r.then(function(e){t.closed||(t.next(e),t.complete())},function(e){return t.error(e)}).then(null,E)})}if(tV(t))return tK(t);if(tz(t)){return o=t,new V(function(t){var e,n;try{for(var r=c(o),i=r.next();!i.done;i=r.next()){var s=i.value;if(t.next(s),t.closed)return}}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}t.complete()})}if(tW(t))return tK(tq(t))}throw tB(t)}function tK(t){return new V(function(e){(function(t,e){var n,r,o,i,s,a,l,f;return s=this,a=void 0,l=void 0,f=function(){var s;return u(this,function(u){switch(u.label){case 0:u.trys.push([0,5,6,11]),n=function(t){if(!Symbol.asyncIterator)throw TypeError("Symbol.asyncIterator is not defined.");var e,n=t[Symbol.asyncIterator];return n?n.call(t):(t=c(t),e={},r("next"),r("throw"),r("return"),e[Symbol.asyncIterator]=function(){return this},e);function r(n){e[n]=t[n]&&function(e){return new Promise(function(r,o){var i,s,u;i=r,s=o,u=(e=t[n](e)).done,Promise.resolve(e.value).then(function(t){i({value:t,done:u})},s)})}}}(t),u.label=1;case 1:return[4,n.next()];case 2:if((r=u.sent()).done)return[3,4];if(s=r.value,e.next(s),e.closed)return[2];u.label=3;case 3:return[3,1];case 4:return[3,11];case 5:return o={error:u.sent()},[3,11];case 6:if(u.trys.push([6,,9,10]),!(r&&!r.done&&(i=n.return)))return[3,8];return[4,i.call(n)];case 7:u.sent(),u.label=8;case 8:return[3,10];case 9:if(o)throw o.error;return[7];case 10:return[7];case 11:return e.complete(),[2]}})},new(l||(l=Promise))(function(t,e){function n(t){try{o(f.next(t))}catch(t){e(t)}}function r(t){try{o(f.throw(t))}catch(t){e(t)}}function o(e){var o;e.done?t(e.value):((o=e.value)instanceof l?o:new l(function(t){t(o)})).then(n,r)}o((f=f.apply(s,a||[])).next())})})(t,e).catch(function(t){return e.error(t)})})}function tZ(t,e,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!1);var i=e.schedule(function(){n(),o?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(i),!o)return i}function tG(t,e){return void 0===e&&(e=0),z(function(n,r){n.subscribe(q(r,function(n){return tZ(r,t,function(){return r.next(n)},e)},function(){return tZ(r,t,function(){return r.complete()},e)},function(n){return tZ(r,t,function(){return r.error(n)},e)}))})}function tX(t,e){return void 0===e&&(e=0),z(function(n,r){r.add(t.schedule(function(){return n.subscribe(r)},e))})}function tQ(t,e){return new V(function(n){var r;return tZ(n,e,function(){r=t[tH](),tZ(n,e,function(){var t,e,o;try{e=(t=r.next()).value,o=t.done}catch(t){n.error(t);return}o?n.complete():n.next(e)},0,!0)}),function(){return h(null==r?void 0:r.return)&&r.return()}})}function tJ(t,e){if(!t)throw Error("Iterable cannot be null");return new V(function(n){tZ(n,e,function(){var r=t[Symbol.asyncIterator]();tZ(n,e,function(){r.next().then(function(t){t.done?n.complete():n.next(t.value)})},0,!0)})})}function t$(t,e){if(null!=t){if(h(t[U]))return tY(t).pipe(tX(e),tG(e));if(tL(t))return new V(function(n){var r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})});if(tF(t))return tY(t).pipe(tX(e),tG(e));if(tV(t))return tJ(t,e);if(tz(t))return tQ(t,e);if(tW(t))return tJ(tq(t),e)}throw tB(t)}function t0(t,e){return e?t$(t,e):tY(t)}function t1(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=tU(t);return t0(t,n)}function t2(t,e){var n=h(t)?t:function(){return t},r=function(t){return t.error(n())};return new V(e?function(t){return e.schedule(r,0,t)}:r)}!function(t){t.NEXT="N",t.ERROR="E",t.COMPLETE="C"}(o||(o={}));var t4=function(){function t(t,e,n){this.kind=t,this.value=e,this.error=n,this.hasValue="N"===t}return t.prototype.observe=function(t){return t6(this,t)},t.prototype.do=function(t,e,n){var r=this.kind,o=this.value,i=this.error;return"N"===r?null==t?void 0:t(o):"E"===r?null==e?void 0:e(i):null==n?void 0:n()},t.prototype.accept=function(t,e,n){return h(null==t?void 0:t.next)?this.observe(t):this.do(t,e,n)},t.prototype.toObservable=function(){var t=this.kind,e=this.value,n=this.error,r="N"===t?t1(e):"E"===t?t2(function(){return n}):"C"===t?tk:0;if(!r)throw TypeError("Unexpected notification kind "+t);return r},t.createNext=function(e){return new t("N",e)},t.createError=function(e){return new t("E",void 0,e)},t.createComplete=function(){return t.completeNotification},t.completeNotification=new t("C"),t}();function t6(t,e){var n,r,o,i=t.kind,s=t.value,u=t.error;if("string"!=typeof i)throw TypeError('Invalid notification, missing "kind"');"N"===i?null==(n=e.next)||n.call(e,s):"E"===i?null==(r=e.error)||r.call(e,u):null==(o=e.complete)||o.call(e)}function t8(t){return!!t&&(t instanceof V||h(t.lift)&&h(t.subscribe))}var t5=p(function(t){return function(){t(this),this.name="EmptyError",this.message="no elements in sequence"}});function t3(t,e){var n="object"==typeof e;return new Promise(function(r,o){var i,s=!1;t.subscribe({next:function(t){i=t,s=!0},error:o,complete:function(){s?r(i):n?r(e.defaultValue):o(new t5)}})})}function t9(t,e){var n="object"==typeof e;return new Promise(function(r,o){var i=new R({next:function(t){r(t),i.unsubscribe()},error:o,complete:function(){n?r(e.defaultValue):o(new t5)}});t.subscribe(i)})}var t7=p(function(t){return function(){t(this),this.name="ArgumentOutOfRangeError",this.message="argument out of range"}}),et=p(function(t){return function(e){t(this),this.name="NotFoundError",this.message=e}}),ee=p(function(t){return function(e){t(this),this.name="SequenceError",this.message=e}});function en(t){return t instanceof Date&&!isNaN(t)}var er=p(function(t){return function(e){void 0===e&&(e=null),t(this),this.message="Timeout has occurred",this.name="TimeoutError",this.info=e}});function eo(t,e){var n=en(t)?{first:t}:"number"==typeof t?{each:t}:t,r=n.first,o=n.each,i=n.with,s=void 0===i?ei:i,u=n.scheduler,c=void 0===u?null!=e?e:tw:u,a=n.meta,l=void 0===a?null:a;if(null==r&&null==o)throw TypeError("No timeout provided.");return z(function(t,e){var n,i,u=null,a=0,f=function(t){i=tZ(e,c,function(){try{n.unsubscribe(),tY(s({meta:l,lastValue:u,seen:a})).subscribe(e)}catch(t){e.error(t)}},t)};n=t.subscribe(q(e,function(t){null==i||i.unsubscribe(),a++,e.next(u=t),o>0&&f(o)},void 0,void 0,function(){(null==i?void 0:i.closed)||null==i||i.unsubscribe(),u=null})),a||f(null!=r?"number"==typeof r?r:r-c.now():o)})}function ei(t){throw new er(t)}function es(t,e){return z(function(n,r){var o=0;n.subscribe(q(r,function(n){r.next(t.call(e,n,o++))}))})}var eu=Array.isArray;function ec(t){return es(function(e){return eu(e)?t.apply(void 0,l([],a(e))):t(e)})}function ea(t,e,n,r){if(n)if(!tA(n))return function(){for(var o=[],i=0;i<arguments.length;i++)o[i]=arguments[i];return ea(t,e,r).apply(this,o).pipe(ec(n))};else r=n;return r?function(){for(var n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return ea(t,e).apply(this,n).pipe(tX(r),tG(r))}:function(){for(var n=this,r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];var i=new ti,s=!0;return new V(function(o){var u=i.subscribe(o);if(s){s=!1;var c=!1,f=!1;e.apply(n,l(l([],a(r)),[function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var r=e.shift();if(null!=r)return void i.error(r)}i.next(1<e.length?e:e[0]),f=!0,c&&i.complete()}])),f&&i.complete(),c=!0}return u})}}function el(t,e,n){return ea(!1,t,e,n)}function ef(t,e,n){return ea(!0,t,e,n)}var eh=Array.isArray,ep=Object.getPrototypeOf,ed=Object.prototype,eb=Object.keys;function ev(t){if(1===t.length){var e,n=t[0];if(eh(n))return{args:n,keys:null};if((e=n)&&"object"==typeof e&&ep(e)===ed){var r=eb(n);return{args:r.map(function(t){return n[t]}),keys:r}}}return{args:t,keys:null}}function e_(t,e){return t.reduce(function(t,n,r){return t[n]=e[r],t},{})}function ey(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=tU(t),r=tD(t),o=ev(t),i=o.args,s=o.keys;if(0===i.length)return t0([],n);var u=new V(em(i,n,s?function(t){return e_(s,t)}:M));return r?u.pipe(ec(r)):u}function em(t,e,n){return void 0===n&&(n=M),function(r){var o,i,s;o=e,i=function(){for(var o=t.length,i=Array(o),s=o,u=o,c=function(o){var c,a,l;c=e,a=function(){var c=t0(t[o],e),a=!1;c.subscribe(q(r,function(t){i[o]=t,!a&&(a=!0,u--),u||r.next(n(i.slice()))},function(){--s||r.complete()}))},l=r,c?tZ(l,c,a):a()},a=0;a<o;a++)c(a)},s=r,o?tZ(s,o,i):i()}}function eg(t,e,n,r,o,i,s,u){var c=[],a=0,l=0,f=!1,h=function(){!f||c.length||a||e.complete()},p=function(t){return a<r?d(t):c.push(t)},d=function(t){i&&e.next(t),a++;var u=!1;tY(n(t,l++)).subscribe(q(e,function(t){null==o||o(t),i?p(t):e.next(t)},function(){u=!0},void 0,function(){if(u)try{for(a--;c.length&&a<r;)!function(){var t=c.shift();s?tZ(e,s,function(){return d(t)}):d(t)}();h()}catch(t){e.error(t)}}))};return t.subscribe(q(e,p,function(){f=!0,h()})),function(){null==u||u()}}function ew(t,e,n){return(void 0===n&&(n=1/0),h(e))?ew(function(n,r){return es(function(t,o){return e(n,t,r,o)})(tY(t(n,r)))},n):("number"==typeof e&&(n=e),z(function(e,r){return eg(e,r,t,n)}))}function eE(t){return void 0===t&&(t=1/0),ew(M,t)}function eO(){return eE(1)}function eS(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return eO()(t0(t,tU(t)))}function eT(t){return new V(function(e){tY(t()).subscribe(e)})}var eC={connector:function(){return new tt},resetOnDisconnect:!0};function ex(t,e){void 0===e&&(e=eC);var n=null,r=e.connector,o=e.resetOnDisconnect,i=void 0===o||o,s=r(),u=new V(function(t){return s.subscribe(t)});return u.connect=function(){return(!n||n.closed)&&(n=eT(function(){return t}).subscribe(s),i&&n.add(function(){return s=r()})),n},u}function eI(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=tD(t),r=ev(t),o=r.args,i=r.keys,s=new V(function(t){var e=o.length;if(!e)return void t.complete();for(var n=Array(e),r=e,s=e,u=function(e){var u=!1;tY(o[e]).subscribe(q(t,function(t){!u&&(u=!0,s--),n[e]=t},function(){return r--},void 0,function(){r&&u||(s||t.next(i?e_(i,n):n),t.complete())}))},c=0;c<e;c++)u(c)});return n?s.pipe(ec(n)):s}var eP=["addListener","removeListener"],eN=["addEventListener","removeEventListener"],ek=["on","off"];function eR(t,e){return function(n){return function(r){return t[n](e,r)}}}function eA(t,e,n,r,o){var i,s,c;function a(){var t;return u(this,function(r){switch(r.label){case 0:t=c,r.label=1;case 1:if(!(!e||e(t)))return[3,4];return[4,s(t)];case 2:r.sent(),r.label=3;case 3:return t=n(t),[3,1];case 4:return[2]}})}return 1==arguments.length?(c=t.initialState,e=t.condition,n=t.iterate,s=void 0===(i=t.resultSelector)?M:i,o=t.scheduler):(c=t,!r||tA(r)?(s=M,o=r):s=r),eT(o?function(){return tQ(a(),o)}:a)}function ej(t,e,n){return eT(function(){return t()?e:n})}function eD(t,e,n){void 0===t&&(t=0),void 0===n&&(n=tE);var r=-1;return null!=e&&(tA(e)?n=e:r=e),new V(function(e){var o=en(t)?t-n.now():t;o<0&&(o=0);var i=0;return n.schedule(function(){e.closed||(e.next(i++),0<=r?this.schedule(void 0,r):e.complete())},o)})}function eU(t,e){return void 0===t&&(t=0),void 0===e&&(e=tw),t<0&&(t=0),eD(t,t,e)}function eM(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=tU(t),r=tM(t,1/0);return t.length?1===t.length?tY(t[0]):eE(r)(t0(t,n)):tk}var eL=new V(O);function eF(){return eL}var eV=Array.isArray;function eB(t){return 1===t.length&&eV(t[0])?t[0]:t}function eH(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=eB(t);return new V(function(t){var e=0,r=function(){if(e<n.length){var o=void 0;try{o=tY(n[e++])}catch(t){r();return}var i=new W(t,void 0,O,O);o.subscribe(i),i.add(r)}else t.complete()};r()})}function ez(t,e){return t0(Object.entries(t),e)}function eq(t,e){return z(function(n,r){var o=0;n.subscribe(q(r,function(n){return t.call(e,n,o++)&&r.next(n)}))})}function eW(t,e,n){return[eq(e,n)(tY(t)),eq(function(t,r){return!e.call(n,t,r)})(tY(t))]}function eY(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 1===(t=eB(t)).length?tY(t[0]):new V(eK(t))}function eK(t){return function(e){for(var n=[],r=function(r){n.push(tY(t[r]).subscribe(q(e,function(t){if(n){for(var o=0;o<n.length;o++)o!==r&&n[o].unsubscribe();n=null}e.next(t)})))},o=0;n&&!e.closed&&o<t.length;o++)r(o)}}function eZ(t,e,n){if(null==e&&(e=t,t=0),e<=0)return tk;var r=e+t;return new V(n?function(e){var o=t;return n.schedule(function(){o<r?(e.next(o++),this.schedule()):e.complete()})}:function(e){for(var n=t;n<r&&!e.closed;)e.next(n++);e.complete()})}function eG(t,e){return new V(function(n){var r=t(),o=e(r);return(o?tY(o):tk).subscribe(n),function(){r&&r.unsubscribe()}})}function eX(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=tD(t),r=eB(t);return r.length?new V(function(t){var e=r.map(function(){return[]}),o=r.map(function(){return!1});t.add(function(){e=o=null});for(var i=function(i){tY(r[i]).subscribe(q(t,function(r){if(e[i].push(r),e.every(function(t){return t.length})){var s=e.map(function(t){return t.shift()});t.next(n?n.apply(void 0,l([],a(s))):s),e.some(function(t,e){return!t.length&&o[e]})&&t.complete()}},function(){o[i]=!0,e[i].length||t.complete()}))},s=0;!t.closed&&s<r.length;s++)i(s);return function(){e=o=null}}):tk}function eQ(t){return z(function(e,n){var r=!1,o=null,i=null,s=!1,u=function(){if(null==i||i.unsubscribe(),i=null,r){r=!1;var t=o;o=null,n.next(t)}s&&n.complete()},c=function(){i=null,s&&n.complete()};e.subscribe(q(n,function(e){r=!0,o=e,i||tY(t(e)).subscribe(i=q(n,u,c))},function(){s=!0,r&&i&&!i.closed||n.complete()}))})}function eJ(t,e){return void 0===e&&(e=tw),eQ(function(){return eD(t,e)})}function e$(t){return z(function(e,n){var r=[];return e.subscribe(q(n,function(t){return r.push(t)},function(){n.next(r),n.complete()})),tY(t).subscribe(q(n,function(){var t=r;r=[],n.next(t)},O)),function(){r=null}})}function e0(t,e){return void 0===e&&(e=null),e=null!=e?e:t,z(function(n,r){var o=[],i=0;n.subscribe(q(r,function(n){var s,u,a,l,f=null;i++%e==0&&o.push([]);try{for(var h=c(o),p=h.next();!p.done;p=h.next()){var d=p.value;d.push(n),t<=d.length&&(f=null!=f?f:[]).push(d)}}catch(t){s={error:t}}finally{try{p&&!p.done&&(u=h.return)&&u.call(h)}finally{if(s)throw s.error}}if(f)try{for(var v=c(f),_=v.next();!_.done;_=v.next()){var d=_.value;b(o,d),r.next(d)}}catch(t){a={error:t}}finally{try{_&&!_.done&&(l=v.return)&&l.call(v)}finally{if(a)throw a.error}}},function(){var t,e;try{for(var n=c(o),i=n.next();!i.done;i=n.next()){var s=i.value;r.next(s)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}r.complete()},void 0,function(){o=null}))})}function e1(t){for(var e,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var i=null!=(e=tU(r))?e:tw,s=null!=(n=r[0])?n:null,u=r[1]||1/0;return z(function(e,n){var r=[],o=!1,a=function(t){var e=t.buffer;t.subs.unsubscribe(),b(r,t),n.next(e),o&&l()},l=function(){if(r){var e=new v;n.add(e);var o={buffer:[],subs:e};r.push(o),tZ(e,i,function(){return a(o)},t)}};null!==s&&s>=0?tZ(n,i,l,s,!0):o=!0,l();var f=q(n,function(t){var e,n,o=r.slice();try{for(var i=c(o),s=i.next();!s.done;s=i.next()){var l=s.value,f=l.buffer;f.push(t),u<=f.length&&a(l)}}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},function(){for(;null==r?void 0:r.length;)n.next(r.shift().buffer);null==f||f.unsubscribe(),n.complete(),n.unsubscribe()},void 0,function(){return r=null});e.subscribe(f)})}function e2(t,e){return z(function(n,r){var o=[];tY(t).subscribe(q(r,function(t){var n=[];o.push(n);var i=new v;i.add(tY(e(t)).subscribe(q(r,function(){b(o,n),r.next(n),i.unsubscribe()},O)))},O)),n.subscribe(q(r,function(t){var e,n;try{for(var r=c(o),i=r.next();!i.done;i=r.next())i.value.push(t)}catch(t){e={error:t}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},function(){for(;o.length>0;)r.next(o.shift());r.complete()}))})}function e4(t){return z(function(e,n){var r=null,o=null,i=function(){null==o||o.unsubscribe();var e=r;r=[],e&&n.next(e),tY(t()).subscribe(o=q(n,i,O))};i(),e.subscribe(q(n,function(t){return null==r?void 0:r.push(t)},function(){r&&n.next(r),n.complete()},void 0,function(){return r=o=null}))})}function e6(t,e,n,r,o){return function(i,s){var u=n,c=e,a=0;i.subscribe(q(s,function(e){var n=a++;c=u?t(c,e,n):(u=!0,e),r&&s.next(c)},o&&function(){u&&s.next(c),s.complete()}))}}function e8(t,e){return z(e6(t,e,arguments.length>=2,!1,!0))}var e5=function(t,e){return t.push(e),t};function e3(){return z(function(t,e){e8(e5,[])(t).subscribe(e)})}function e9(t,e){return L(e3(),ew(function(e){return t(e)}),e?ec(e):M)}function e7(t){return e9(ey,t)}var nt=e7;function ne(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=tD(t);return n?L(ne.apply(void 0,l([],a(t))),ec(n)):z(function(e,n){em(l([e],a(eB(t))))(n)})}function nn(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ne.apply(void 0,l([],a(t)))}function nr(t,e){return h(e)?ew(t,e,1):ew(t,1)}function no(t,e){return h(e)?nr(function(){return t},e):nr(function(){return t})}function ni(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=tU(t);return z(function(e,r){eO()(t0(l([e],a(t)),n)).subscribe(r)})}function ns(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return ni.apply(void 0,l([],a(t)))}var nu={connector:function(){return new tt}};function nc(t,e){void 0===e&&(e=nu);var n=e.connector;return z(function(e,r){var o=n();tY(t(new V(function(t){return o.subscribe(t)}))).subscribe(r),r.add(e.subscribe(o))})}function na(t){return e8(function(e,n,r){return!t||t(n,r)?e+1:e},0)}function nl(t){return z(function(e,n){var r=!1,o=null,i=null,s=function(){if(null==i||i.unsubscribe(),i=null,r){r=!1;var t=o;o=null,n.next(t)}};e.subscribe(q(n,function(e){null==i||i.unsubscribe(),r=!0,o=e,i=q(n,s,O),tY(t(e)).subscribe(i)},function(){s(),n.complete()},void 0,function(){o=i=null}))})}function nf(t,e){return void 0===e&&(e=tw),z(function(n,r){var o=null,i=null,s=null,u=function(){if(o){o.unsubscribe(),o=null;var t=i;i=null,r.next(t)}};function c(){var n=s+t,i=e.now();if(i<n){o=this.schedule(void 0,n-i),r.add(o);return}u()}n.subscribe(q(r,function(n){i=n,s=e.now(),o||(o=e.schedule(c,t),r.add(o))},function(){u(),r.complete()},void 0,function(){i=o=null}))})}function nh(t){return z(function(e,n){var r=!1;e.subscribe(q(n,function(t){r=!0,n.next(t)},function(){r||n.next(t),n.complete()}))})}function np(t){return t<=0?function(){return tk}:z(function(e,n){var r=0;e.subscribe(q(n,function(e){++r<=t&&(n.next(e),t<=r&&n.complete())}))})}function nd(){return z(function(t,e){t.subscribe(q(e,O))})}function nb(t){return es(function(){return t})}function nv(t,e){return e?function(n){return eS(e.pipe(np(1),nd()),n.pipe(nv(t)))}:ew(function(e,n){return tY(t(e,n)).pipe(np(1),nb(e))})}function n_(t,e){void 0===e&&(e=tw);var n=eD(t,e);return nv(function(){return n})}function ny(){return z(function(t,e){t.subscribe(q(e,function(t){return t6(t,e)}))})}function nm(t,e){return z(function(n,r){var o=new Set;n.subscribe(q(r,function(e){var n=t?t(e):e;o.has(n)||(o.add(n),r.next(e))})),e&&tY(e).subscribe(q(r,function(){return o.clear()},O))})}function ng(t,e){return void 0===e&&(e=M),t=null!=t?t:nw,z(function(n,r){var o,i=!0;n.subscribe(q(r,function(n){var s=e(n);(i||!t(o,s))&&(i=!1,o=s,r.next(n))}))})}function nw(t,e){return t===e}function nE(t,e){return ng(function(n,r){return e?e(n[t],r[t]):n[t]===r[t]})}function nO(t){return void 0===t&&(t=nS),z(function(e,n){var r=!1;e.subscribe(q(n,function(t){r=!0,n.next(t)},function(){return r?n.complete():n.error(t())}))})}function nS(){return new t5}function nT(t,e){if(t<0)throw new t7;var n=arguments.length>=2;return function(r){return r.pipe(eq(function(e,n){return n===t}),np(1),n?nh(e):nO(function(){return new t7}))}}function nC(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return function(e){return eS(e,t1.apply(void 0,l([],a(t))))}}function nx(t,e){return z(function(n,r){var o=0;n.subscribe(q(r,function(i){t.call(e,i,o++,n)||(r.next(!1),r.complete())},function(){r.next(!0),r.complete()}))})}function nI(t,e){return e?function(n){return n.pipe(nI(function(n,r){return tY(t(n,r)).pipe(es(function(t,o){return e(n,t,r,o)}))}))}:z(function(e,n){var r=0,o=null,i=!1;e.subscribe(q(n,function(e){o||(o=q(n,void 0,function(){o=null,i&&n.complete()}),tY(t(e,r++)).subscribe(o))},function(){i=!0,o||n.complete()}))})}function nP(){return nI(M)}var nN=nP;function nk(t,e,n){return void 0===e&&(e=1/0),e=1>(e||0)?1/0:e,z(function(r,o){return eg(r,o,t,e,void 0,!0,n)})}function nR(t){return z(function(e,n){try{e.subscribe(n)}finally{n.add(t)}})}function nA(t,e){return z(nj(t,e,"value"))}function nj(t,e,n){var r="index"===n;return function(n,o){var i=0;n.subscribe(q(o,function(s){var u=i++;t.call(e,s,u,n)&&(o.next(r?u:s),o.complete())},function(){o.next(r?-1:void 0),o.complete()}))}}function nD(t,e){return z(nj(t,e,"index"))}function nU(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?eq(function(e,n){return t(e,n,r)}):M,np(1),n?nh(e):nO(function(){return new t5}))}}function nM(t,e,n,r){return z(function(o,i){e&&"function"!=typeof e?(n=e.duration,s=e.element,r=e.connector):s=e;var s,u=new Map,c=function(t){u.forEach(t),t(i)},a=function(t){return c(function(e){return e.error(t)})},l=0,f=!1,h=new W(i,function(e){try{var o=t(e),c=u.get(o);if(!c){u.set(o,c=r?r():new tt);var p,d,b,v=(p=o,d=c,(b=new V(function(t){l++;var e=d.subscribe(t);return function(){e.unsubscribe(),0==--l&&f&&h.unsubscribe()}})).key=p,b);if(i.next(v),n){var _=q(c,function(){c.complete(),null==_||_.unsubscribe()},void 0,void 0,function(){return u.delete(o)});h.add(tY(n(v)).subscribe(_))}}c.next(s?s(e):e)}catch(t){a(t)}},function(){return c(function(t){return t.complete()})},a,function(){return u.clear()},function(){return f=!0,0===l});o.subscribe(h)})}function nL(){return z(function(t,e){t.subscribe(q(e,function(){e.next(!1),e.complete()},function(){e.next(!0),e.complete()}))})}function nF(t){return t<=0?function(){return tk}:z(function(e,n){var r=[];e.subscribe(q(n,function(e){r.push(e),t<r.length&&r.shift()},function(){var t,e;try{for(var o=c(r),i=o.next();!i.done;i=o.next()){var s=i.value;n.next(s)}}catch(e){t={error:e}}finally{try{i&&!i.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}n.complete()},void 0,function(){r=null}))})}function nV(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?eq(function(e,n){return t(e,n,r)}):M,nF(1),n?nh(e):nO(function(){return new t5}))}}function nB(){return z(function(t,e){t.subscribe(q(e,function(t){e.next(t4.createNext(t))},function(){e.next(t4.createComplete()),e.complete()},function(t){e.next(t4.createError(t)),e.complete()}))})}function nH(t){return e8(h(t)?function(e,n){return t(e,n)>0?e:n}:function(t,e){return t>e?t:e})}var nz=ew;function nq(t,e,n){return(void 0===n&&(n=1/0),h(e))?ew(function(){return t},e,n):("number"==typeof e&&(n=e),ew(function(){return t},n))}function nW(t,e,n){return void 0===n&&(n=1/0),z(function(r,o){var i=e;return eg(r,o,function(e,n){return t(i,e,n)},n,function(t){i=t},!1,void 0,function(){return i=null})})}function nY(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=tU(t),r=tM(t,1/0);return z(function(e,o){eE(r)(t0(l([e],a(t)),n)).subscribe(o)})}function nK(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return nY.apply(void 0,l([],a(t)))}function nZ(t){return e8(h(t)?function(e,n){return 0>t(e,n)?e:n}:function(t,e){return t<e?t:e})}function nG(t,e){var n=h(t)?t:function(){return t};return h(e)?nc(e,{connector:n}):function(t){return new K(t,n)}}function nX(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=eB(t);return function(t){return eH.apply(void 0,l([t],a(n)))}}function nQ(){return z(function(t,e){var n,r=!1;t.subscribe(q(e,function(t){var o=n;n=t,r&&e.next([o,t]),r=!0}))})}function nJ(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.length;if(0===n)throw Error("list of properties cannot be empty.");return es(function(e){for(var r=e,o=0;o<n;o++){var i=null==r?void 0:r[t[o]];if(void 0===i)return;r=i}return r})}function n$(t){return t?function(e){return nc(t)(e)}:function(t){return nG(new tt)(t)}}function n0(t){return function(e){var n=new tn(t);return new K(e,function(){return n})}}function n1(){return function(t){var e=new ti;return new K(t,function(){return e})}}function n2(t,e,n,r){n&&!h(n)&&(r=n);var o=h(n)?n:void 0;return function(n){return nG(new to(t,e,r),o)(n)}}function n4(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return t.length?z(function(e,n){eK(l([e],a(t)))(n)}):M}function n6(t){var e,n,r=1/0;return null!=t&&("object"==typeof t?(r=void 0===(e=t.count)?1/0:e,n=t.delay):r=t),r<=0?function(){return tk}:z(function(t,e){var o,i=0,s=function(){if(null==o||o.unsubscribe(),o=null,null!=n){var t="number"==typeof n?eD(n):tY(n(i)),r=q(e,function(){r.unsubscribe(),u()});t.subscribe(r)}else u()},u=function(){var n=!1;o=t.subscribe(q(e,void 0,function(){++i<r?o?s():n=!0:e.complete()})),n&&s()};u()})}function n8(t){return z(function(e,n){var r,o,i=!1,s=!1,u=!1,c=function(){return u&&s&&(n.complete(),!0)},a=function(){u=!1,r=e.subscribe(q(n,void 0,function(){u=!0,c()||(!o&&tY(t(o=new tt)).subscribe(q(n,function(){r?a():i=!0},function(){s=!0,c()})),o).next()})),i&&(r.unsubscribe(),r=null,i=!1,a())};a()})}function n5(t){void 0===t&&(t=1/0);var e=t&&"object"==typeof t?t:{count:t},n=e.count,r=void 0===n?1/0:n,o=e.delay,i=e.resetOnSuccess,s=void 0!==i&&i;return r<=0?M:z(function(t,e){var n,i=0,u=function(){var c=!1;n=t.subscribe(q(e,function(t){s&&(i=0),e.next(t)},void 0,function(t){if(i++<r){var s=function(){n?(n.unsubscribe(),n=null,u()):c=!0};if(null!=o){var a="number"==typeof o?eD(o):tY(o(t,i)),l=q(e,function(){l.unsubscribe(),s()},function(){e.complete()});a.subscribe(l)}else s()}else e.error(t)})),c&&(n.unsubscribe(),n=null,u())};u()})}function n3(t){return z(function(e,n){var r,o,i=!1,s=function(){r=e.subscribe(q(n,void 0,void 0,function(e){o||tY(t(o=new tt)).subscribe(q(n,function(){return r?s():i=!0})),o&&o.next(e)})),i&&(r.unsubscribe(),r=null,i=!1,s())};s()})}function n9(t){return z(function(e,n){var r=!1,o=null;e.subscribe(q(n,function(t){r=!0,o=t})),tY(t).subscribe(q(n,function(){if(r){r=!1;var t=o;o=null,n.next(t)}},O))})}function n7(t,e){return void 0===e&&(e=tw),n9(eU(t,e))}function rt(t,e){return z(e6(t,e,arguments.length>=2,!0))}function re(t,e){return void 0===e&&(e=function(t,e){return t===e}),z(function(n,r){var o=rn(),i=rn(),s=function(t){r.next(t),r.complete()},u=function(t,n){var o=q(r,function(r){var o=n.buffer,i=n.complete;0===o.length?i?s(!1):t.buffer.push(r):e(r,o.shift())||s(!1)},function(){t.complete=!0;var e=n.complete,r=n.buffer;e&&s(0===r.length),null==o||o.unsubscribe()});return o};n.subscribe(u(o,i)),tY(t).subscribe(u(i,o))})}function rn(){return{buffer:[],complete:!1}}function rr(t){void 0===t&&(t={});var e=t.connector,n=void 0===e?function(){return new tt}:e,r=t.resetOnError,o=void 0===r||r,i=t.resetOnComplete,s=void 0===i||i,u=t.resetOnRefCountZero,c=void 0===u||u;return function(t){var e,r,i,u=0,a=!1,l=!1,f=function(){null==r||r.unsubscribe(),r=void 0},h=function(){f(),e=i=void 0,a=l=!1},p=function(){var t=e;h(),null==t||t.unsubscribe()};return z(function(t,d){u++,l||a||f();var b=i=null!=i?i:n();d.add(function(){0!=--u||l||a||(r=ro(p,c))}),b.subscribe(d),!e&&u>0&&(e=new R({next:function(t){return b.next(t)},error:function(t){l=!0,f(),r=ro(h,o,t),b.error(t)},complete:function(){a=!0,f(),r=ro(h,s),b.complete()}}),tY(t).subscribe(e))})(t)}}function ro(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!0===e)return void t();if(!1!==e){var o=new R({next:function(){o.unsubscribe(),t()}});return tY(e.apply(void 0,l([],a(n)))).subscribe(o)}}function ri(t,e,n){var r,o,i,s,u=!1;return t&&"object"==typeof t?(s=void 0===(r=t.bufferSize)?1/0:r,e=void 0===(o=t.windowTime)?1/0:o,u=void 0!==(i=t.refCount)&&i,n=t.scheduler):s=null!=t?t:1/0,rr({connector:function(){return new to(s,e,n)},resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:u})}function rs(t){return z(function(e,n){var r,o=!1,i=!1,s=0;e.subscribe(q(n,function(u){i=!0,(!t||t(u,s++,e))&&(o&&n.error(new ee("Too many matching values")),o=!0,r=u)},function(){o?(n.next(r),n.complete()):n.error(i?new et("No matching values"):new t5)}))})}function ru(t){return eq(function(e,n){return t<=n})}function rc(t){return t<=0?M:z(function(e,n){var r=Array(t),o=0;return e.subscribe(q(n,function(e){var i=o++;if(i<t)r[i]=e;else{var s=i%t,u=r[s];r[s]=e,n.next(u)}})),function(){r=null}})}function ra(t){return z(function(e,n){var r=!1,o=q(n,function(){null==o||o.unsubscribe(),r=!0},O);tY(t).subscribe(o),e.subscribe(q(n,function(t){return r&&n.next(t)}))})}function rl(t){return z(function(e,n){var r=!1,o=0;e.subscribe(q(n,function(e){return(r||(r=!t(e,o++)))&&n.next(e)}))})}function rf(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=tU(t);return z(function(e,r){(n?eS(t,e,n):eS(t,e)).subscribe(r)})}function rh(t,e){return z(function(n,r){var o=null,i=0,s=!1,u=function(){return s&&!o&&r.complete()};n.subscribe(q(r,function(n){null==o||o.unsubscribe();var s=0,c=i++;tY(t(n,c)).subscribe(o=q(r,function(t){return r.next(e?e(n,t,c,s++):t)},function(){o=null,u()}))},function(){s=!0,u()}))})}function rp(){return rh(M)}function rd(t,e){return h(e)?rh(function(){return t},e):rh(function(){return t})}function rb(t,e){return z(function(n,r){var o=e;return rh(function(e,n){return t(o,e,n)},function(t,e){return o=e,e})(n).subscribe(r),function(){o=null}})}function rv(t){return z(function(e,n){tY(t).subscribe(q(n,function(){return n.complete()},O)),n.closed||e.subscribe(n)})}function r_(t,e){return void 0===e&&(e=!1),z(function(n,r){var o=0;n.subscribe(q(r,function(n){var i=t(n,o++);(i||e)&&r.next(n),i||r.complete()}))})}function ry(t,e,n){var r=h(t)||e||n?{next:t,error:e,complete:n}:t;return r?z(function(t,e){null==(n=r.subscribe)||n.call(r);var n,o=!0;t.subscribe(q(e,function(t){var n;null==(n=r.next)||n.call(r,t),e.next(t)},function(){var t;o=!1,null==(t=r.complete)||t.call(r),e.complete()},function(t){var n;o=!1,null==(n=r.error)||n.call(r,t),e.error(t)},function(){var t,e;o&&(null==(t=r.unsubscribe)||t.call(r)),null==(e=r.finalize)||e.call(r)}))}):M}function rm(t,e){return z(function(n,r){var o=null!=e?e:{},i=o.leading,s=void 0===i||i,u=o.trailing,c=void 0!==u&&u,a=!1,l=null,f=null,h=!1,p=function(){null==f||f.unsubscribe(),f=null,c&&(v(),h&&r.complete())},d=function(){f=null,h&&r.complete()},b=function(e){return f=tY(t(e)).subscribe(q(r,p,d))},v=function(){if(a){a=!1;var t=l;l=null,r.next(t),h||b(t)}};n.subscribe(q(r,function(t){a=!0,l=t,f&&!f.closed||(s?v():b(t))},function(){h=!0,c&&a&&f&&!f.closed||r.complete()}))})}function rg(t,e,n){void 0===e&&(e=tw);var r=eD(t,e);return rm(function(){return r},n)}function rw(t){return void 0===t&&(t=tw),z(function(e,n){var r=t.now();e.subscribe(q(n,function(e){var o=t.now(),i=o-r;r=o,n.next(new rE(e,i))}))})}var rE=function(t,e){this.value=t,this.interval=e};function rO(t,e,n){var r,o,i;if(n=null!=n?n:tE,en(t)?r=t:"number"==typeof t&&(o=t),e)i=function(){return e};else throw TypeError("No observable provided to switch to");if(null==r&&null==o)throw TypeError("No timeout provided.");return eo({first:r,each:o,scheduler:n,with:i})}function rS(t){return void 0===t&&(t=tr),es(function(e){return{value:e,timestamp:t.now()}})}function rT(t){return z(function(e,n){var r=new tt;n.next(r.asObservable());var o=function(t){r.error(t),n.error(t)};return e.subscribe(q(n,function(t){return null==r?void 0:r.next(t)},function(){r.complete(),n.complete()},o)),tY(t).subscribe(q(n,function(){r.complete(),n.next(r=new tt)},O,o)),function(){null==r||r.unsubscribe(),r=null}})}function rC(t,e){void 0===e&&(e=0);var n=e>0?e:t;return z(function(e,r){var o=[new tt],i=0;r.next(o[0].asObservable()),e.subscribe(q(r,function(e){try{for(var s,u,a=c(o),l=a.next();!l.done;l=a.next())l.value.next(e)}catch(t){s={error:t}}finally{try{l&&!l.done&&(u=a.return)&&u.call(a)}finally{if(s)throw s.error}}var f=i-t+1;if(f>=0&&f%n==0&&o.shift().complete(),++i%n==0){var h=new tt;o.push(h),r.next(h.asObservable())}},function(){for(;o.length>0;)o.shift().complete();r.complete()},function(t){for(;o.length>0;)o.shift().error(t);r.error(t)},function(){o=null}))})}function rx(t){for(var e,n,r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];var i=null!=(e=tU(r))?e:tw,s=null!=(n=r[0])?n:null,u=r[1]||1/0;return z(function(e,n){var r=[],o=!1,c=function(t){var e=t.window,n=t.subs;e.complete(),n.unsubscribe(),b(r,t),o&&a()},a=function(){if(r){var e=new v;n.add(e);var o=new tt,s={window:o,subs:e,seen:0};r.push(s),n.next(o.asObservable()),tZ(e,i,function(){return c(s)},t)}};null!==s&&s>=0?tZ(n,i,a,s,!0):o=!0,a();var l=function(t){return r.slice().forEach(t)},f=function(t){l(function(e){return t(e.window)}),t(n),n.unsubscribe()};return e.subscribe(q(n,function(t){l(function(e){e.window.next(t),u<=++e.seen&&c(e)})},function(){return f(function(t){return t.complete()})},function(t){return f(function(e){return e.error(t)})})),function(){r=null}})}function rI(t,e){return z(function(n,r){var o=[],i=function(t){for(;0<o.length;)o.shift().error(t);r.error(t)};tY(t).subscribe(q(r,function(t){var n,s=new tt;o.push(s);var u=new v;try{n=tY(e(t))}catch(t){i(t);return}r.next(s.asObservable()),u.add(n.subscribe(q(r,function(){b(o,s),s.complete(),u.unsubscribe()},O,i)))},O)),n.subscribe(q(r,function(t){var e,n,r=o.slice();try{for(var i=c(r),s=i.next();!s.done;s=i.next())s.value.next(t)}catch(t){e={error:t}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(e)throw e.error}}},function(){for(;0<o.length;)o.shift().complete();r.complete()},i,function(){for(;0<o.length;)o.shift().unsubscribe()}))})}function rP(t){return z(function(e,n){var r,o,i=function(t){r.error(t),n.error(t)},s=function(){var e;null==o||o.unsubscribe(),null==r||r.complete(),r=new tt,n.next(r.asObservable());try{e=tY(t())}catch(t){i(t);return}e.subscribe(o=q(n,s,s,i))};s(),e.subscribe(q(n,function(t){return r.next(t)},function(){r.complete(),n.complete()},i,function(){null==o||o.unsubscribe(),r=null}))})}function rN(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=tD(t);return z(function(e,r){for(var o=t.length,i=Array(o),s=t.map(function(){return!1}),u=!1,c=function(e){tY(t[e]).subscribe(q(r,function(t){i[e]=t,!u&&!s[e]&&(s[e]=!0,(u=s.every(M))&&(s=null))},O))},f=0;f<o;f++)c(f);e.subscribe(q(r,function(t){if(u){var e=l([t],a(i));r.next(n?n.apply(void 0,l([],a(e))):e)}}))})}function rk(t){return e9(eX,t)}function rR(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return z(function(e,n){eX.apply(void 0,l([e],a(t))).subscribe(n)})}function rA(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return rR.apply(void 0,l([],a(t)))}},4185:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(7448)),u=n(4096).internal.constants.BOLT_PROTOCOL_V4_2;e.default=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"version",{get:function(){return u},enumerable:!1,configurable:!0}),e}(s.default)},4295:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.alloc=void 0;var s=i(n(9428)),u=function(t){function e(e){var n,r=this,o=(n=e)instanceof s.default.Buffer?n:"number"==typeof n&&"function"==typeof s.default.Buffer.alloc?s.default.Buffer.alloc(n):new s.default.Buffer(n);return(r=t.call(this,o.length)||this)._buffer=o,r}return o(e,t),e.prototype.getUInt8=function(t){return this._buffer.readUInt8(t)},e.prototype.getInt8=function(t){return this._buffer.readInt8(t)},e.prototype.getFloat64=function(t){return this._buffer.readDoubleBE(t)},e.prototype.putUInt8=function(t,e){this._buffer.writeUInt8(e,t)},e.prototype.putInt8=function(t,e){this._buffer.writeInt8(e,t)},e.prototype.putFloat64=function(t,e){this._buffer.writeDoubleBE(e,t)},e.prototype.putBytes=function(n,r){if(r instanceof e){var o=Math.min(r.length-r.position,this.length-n);r._buffer.copy(this._buffer,n,r.position,r.position+o),r.position+=o}else t.prototype.putBytes.call(this,n,r)},e.prototype.getSlice=function(t,n){return new e(this._buffer.slice(t,t+n))},e}(i(n(1294)).default);e.default=u,e.alloc=function(t){return new u(t)}},4315:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){function t(){}return t.prototype.resolve=function(){throw Error("Abstract function")},t.prototype._resolveToItself=function(t){return Promise.resolve([t])},t}()},4435:(t,e,n)=>{var r=n(5372).default;t.exports=function(t,e){if("object"!=r(t)||!t)return t;var n=t[Symbol.toPrimitive];if(void 0!==n){var o=n.call(t,e||"default");if("object"!=r(o))return o;throw TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(t)},t.exports.__esModule=!0,t.exports.default=t.exports},4542:(t,e,n)=>{var r=n(5372).default,o=n(4435);t.exports=function(t){var e=o(t,"string");return"symbol"==r(e)?e:e+""},t.exports.__esModule=!0,t.exports.default=t.exports},4603:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.ConfiguredCustomResolver=e.BaseHostNameResolver=void 0,e.BaseHostNameResolver=r(n(4315)).default,e.ConfiguredCustomResolver=r(n(6910)).default},4731:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.epochSecondAndNanoToLocalDateTime=e.nanoOfDayToLocalTime=e.epochDayToDate=void 0;var r=n(4096),o=r.internal.temporalUtil,i=o.DAYS_0000_TO_1970,s=o.DAYS_PER_400_YEAR_CYCLE,u=o.NANOS_PER_HOUR,c=o.NANOS_PER_MINUTE,a=o.NANOS_PER_SECOND,l=o.SECONDS_PER_DAY,f=o.floorDiv,h=o.floorMod;function p(t){var e=(t=(0,r.int)(t)).add(i).subtract(60),n=(0,r.int)(0);if(e.lessThan(0)){var o=e.add(1).div(s).subtract(1);n=o.multiply(400),e=e.add(o.multiply(-s))}var u=e.multiply(400).add(591).div(s),c=e.subtract(u.multiply(365).add(u.div(4)).subtract(u.div(100)).add(u.div(400)));c.lessThan(0)&&(u=u.subtract(1),c=e.subtract(u.multiply(365).add(u.div(4)).subtract(u.div(100)).add(u.div(400)))),u=u.add(n);var a=c,l=a.multiply(5).add(2).div(153),f=l.add(2).modulo(12).add(1),h=a.subtract(l.multiply(306).add(5).div(10)).add(1);return u=u.add(l.div(10)),new r.Date(u,f,h)}function d(t){var e=(t=(0,r.int)(t)).div(u),n=(t=t.subtract(e.multiply(u))).div(c),o=(t=t.subtract(n.multiply(c))).div(a),i=t.subtract(o.multiply(a));return new r.LocalTime(e,n,o,i)}e.epochDayToDate=p,e.nanoOfDayToLocalTime=d,e.epochSecondAndNanoToLocalDateTime=function(t,e){var n=f(t,l),o=h(t,l).multiply(a).add(e),i=p(n),s=d(o);return new r.LocalDateTime(i.year,i.month,i.day,s.hour,s.minute,s.second,s.nanosecond)}},4777:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4096),o=r.internal.constants,i=o.ACCESS_MODE_READ,s=o.FETCH_ALL,u=r.internal.util.assertString,c=function(){function t(t,e,n){this.signature=t,this.fields=e,this.toString=n}return t.init=function(e,n){return new t(1,[e,n],function(){return"INIT "+e+" {...}"})},t.run=function(e,n){return new t(16,[e,n],function(){return"RUN "+e+" "+r.json.stringify(n)})},t.pullAll=function(){return f},t.reset=function(){return h},t.hello=function(e,n,r,o){void 0===r&&(r=null),void 0===o&&(o=null);var i=Object.assign({user_agent:e},n);return r&&(i.routing=r),o&&(i.patch_bolt=o),new t(1,[i],function(){return"HELLO {user_agent: '"+e+"', ...}"})},t.begin=function(e){var n=void 0===e?{}:e,o=a(n.bookmark,n.txConfig,n.database,n.mode,n.impersonatedUser);return new t(17,[o],function(){return"BEGIN "+r.json.stringify(o)})},t.commit=function(){return p},t.rollback=function(){return d},t.runWithMetadata=function(e,n,o){var i=void 0===o?{}:o,s=a(i.bookmark,i.txConfig,i.database,i.mode,i.impersonatedUser);return new t(16,[e,n,s],function(){return"RUN "+e+" "+r.json.stringify(n)+" "+r.json.stringify(s)})},t.goodbye=function(){return b},t.pull=function(e){var n=void 0===e?{}:e,o=n.stmtId,i=void 0===o?-1:o,u=n.n,c=l(null==i?-1:i,(void 0===u?s:u)||s);return new t(63,[c],function(){return"PULL "+r.json.stringify(c)})},t.discard=function(e){var n=void 0===e?{}:e,o=n.stmtId,i=void 0===o?-1:o,u=n.n,c=l(null==i?-1:i,(void 0===u?s:u)||s);return new t(47,[c],function(){return"DISCARD "+r.json.stringify(c)})},t.route=function(e,n,o){return void 0===e&&(e={}),void 0===n&&(n=[]),void 0===o&&(o=null),new t(102,[e,n,o],function(){return"ROUTE "+r.json.stringify(e)+" "+r.json.stringify(n)+" "+o})},t.routeV4x4=function(e,n,o){void 0===e&&(e={}),void 0===n&&(n=[]),void 0===o&&(o={});var i={};return o.databaseName&&(i.db=o.databaseName),o.impersonatedUser&&(i.imp_user=o.impersonatedUser),new t(102,[e,n,i],function(){return"ROUTE "+r.json.stringify(e)+" "+r.json.stringify(n)+" "+r.json.stringify(i)})},t}();function a(t,e,n,r,o){var s={};return t.isEmpty()||(s.bookmarks=t.values()),e.timeout&&(s.tx_timeout=e.timeout),e.metadata&&(s.tx_metadata=e.metadata),n&&(s.db=u(n,"database")),o&&(s.imp_user=u(o,"impersonatedUser")),r===i&&(s.mode="r"),s}function l(t,e){var n={n:(0,r.int)(e)};return -1!==t&&(n.qid=(0,r.int)(t)),n}e.default=c;var f=new c(63,[],function(){return"PULL_ALL"}),h=new c(15,[],function(){return"RESET"}),p=new c(18,[],function(){return"COMMIT"}),d=new c(19,[],function(){return"ROLLBACK"}),b=new c(2,[],function(){return"GOODBYE"})},4845:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(4985));e.default=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype.resolve=function(t){return new Promise(function(e){s.default.lookup(t.host(),{all:!0},function(n,r){n?e([t]):e(r.map(function(e){return t.resolveWith(e.address)}))})})},e}(n(4096).internal.resolver.BaseHostNameResolver)},4857:t=>{t.exports=function(t){if(void 0===t)throw ReferenceError("this hasn't been initialised - super() hasn't been called");return t},t.exports.__esModule=!0,t.exports.default=t.exports},4925:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){function t(t){this._errorHandler=t}return Object.defineProperty(t.prototype,"id",{get:function(){throw Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"databaseId",{get:function(){throw Error("not implemented")},set:function(t){throw Error("not implemented")},enumerable:!1,configurable:!0}),t.prototype.isOpen=function(){throw Error("not implemented")},t.prototype.protocol=function(){throw Error("not implemented")},Object.defineProperty(t.prototype,"address",{get:function(){throw Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"version",{get:function(){throw Error("not implemented")},set:function(t){throw Error("not implemented")},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"server",{get:function(){throw Error("not implemented")},enumerable:!1,configurable:!0}),t.prototype.connect=function(t,e){throw Error("not implemented")},t.prototype.write=function(t,e,n){throw Error("not implemented")},t.prototype.resetAndFlush=function(){throw Error("not implemented")},t.prototype.close=function(){throw Error("not implemented")},t.prototype.handleAndTransformError=function(t,e){return this._errorHandler?this._errorHandler.handleAndTransformError(t,e):t},t}()},4926:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4096),o=r.internal.util,i=o.ENCRYPTION_OFF,s=o.ENCRYPTION_ON,u=r.error.SERVICE_UNAVAILABLE,c=[null,void 0,!0,!1,s,i],a=[null,void 0,"TRUST_ALL_CERTIFICATES","TRUST_CUSTOM_CA_SIGNED_CERTIFICATES","TRUST_SYSTEM_CA_SIGNED_CERTIFICATES"];e.default=function(t,e,n){var o;this.address=t,this.encrypted=function(t){var e=t.encrypted;if(-1===c.indexOf(e))throw(0,r.newError)("Illegal value of the encrypted setting "+e+". Expected one of "+c);return e}(e),this.trust=function(t){var e=t.trust;if(-1===a.indexOf(e))throw(0,r.newError)("Illegal value of the trust setting "+e+". Expected one of "+a);return e}(e),this.trustedCertificates=e.trustedCertificates||[],this.knownHostsPath=e.knownHosts||null,this.connectionErrorCode=n||u,this.connectionTimeout=0===(o=parseInt(e.connectionTimeout,10))||o&&o<0?null:o?o:3e4}},5125:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0});var i=n(1294),s=n(4295);e.default=function(t){function e(e){for(var n=this,r=0,o=0;o<e.length;o++)r+=e[o].length;return(n=t.call(this,r)||this)._buffers=e,n}return o(e,t),e.prototype.getUInt8=function(t){for(var e=0;e<this._buffers.length;e++){var n=this._buffers[e];if(!(t>=n.length))return n.getUInt8(t);t-=n.length}},e.prototype.getInt8=function(t){for(var e=0;e<this._buffers.length;e++){var n=this._buffers[e];if(!(t>=n.length))return n.getInt8(t);t-=n.length}},e.prototype.getFloat64=function(t){for(var e=(0,s.alloc)(8),n=0;n<8;n++)e.putUInt8(n,this.getUInt8(t+n));return e.getFloat64(0)},e}(i.BaseBuffer)},5372:t=>{function e(n){return t.exports=e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},5405:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.TxConfig=void 0;var s=i(n(990)),u=n(5849),c=n(1154),a=function(){function t(t){var e;(e=t)&&s.assertObject(e,"Transaction config"),this.timeout=function(t){if(s.isObject(t)&&(t.timeout||0===t.timeout)){s.assertNumberOrInteger(t.timeout,"Transaction timeout");var e=(0,c.int)(t.timeout);if(e.isZero())throw(0,u.newError)("Transaction timeout should not be zero");if(e.isNegative())throw(0,u.newError)("Transaction timeout should not be negative");return e}return null}(t),this.metadata=function(t){if(s.isObject(t)&&t.metadata){var e=t.metadata;if(s.assertObject(e,"config.metadata"),0!==Object.keys(e).length)return e}return null}(t)}return t.empty=function(){return l},t.prototype.isEmpty=function(){return Object.values(this).every(function(t){return null==t})},t}();e.TxConfig=a;var l=new a({})},5441:function(t,e,n){"use strict";var r=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(s,u)}c((r=r.apply(t,e||[])).next())})},o=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){var c=[i,u];if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){s=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){s.label=c[1];break}if(6===c[0]&&s.label<o[1]){s.label=o[1],o=c;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(c);break}o[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}},i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(7616)),u=n(4096),c=u.internal.logger.Logger,a=function(){function t(t){var e=void 0===t?{}:t,n=e.create,r=void 0===n?function(t,e){return Promise.resolve()}:n,o=e.destroy,i=void 0===o?function(t){return Promise.resolve()}:o,u=e.validate,a=e.installIdleObserver,l=e.removeIdleObserver,f=e.config,h=void 0===f?s.default.defaultConfig():f,p=e.log,d=void 0===p?c.noOp():p;this._create=r,this._destroy=i,this._validate=void 0===u?function(t){return!0}:u,this._installIdleObserver=void 0===a?function(t,e){}:a,this._removeIdleObserver=void 0===l?function(t){}:l,this._maxSize=h.maxSize,this._acquisitionTimeout=h.acquisitionTimeout,this._pools={},this._pendingCreates={},this._acquireRequests={},this._activeResourceCounts={},this._poolState={},this._release=this._release.bind(this),this._log=d,this._closed=!1}return t.prototype.acquire=function(t){var e=this;return this._acquire(t).then(function(n){var r=t.asKey();if(n)return n;var o=e._acquireRequests;return o[r]||(o[r]=[]),new Promise(function(n,i){var s,c=setTimeout(function(){var n=o[r];if(n&&(o[r]=n.filter(function(t){return t!==s})),s.isCompleted());else{var i=e.activeResourceCount(t),c=e.has(t)?e._pools[r].length:0;s.reject((0,u.newError)("Connection acquisition timed out in "+e._acquisitionTimeout+" ms. Pool status: Active conn count = "+i+", Idle conn count = "+c+"."))}},e._acquisitionTimeout);s=new f(r,n,i,c,e._log),o[r].push(s)})})},t.prototype.purge=function(t){return this._purgeKey(t.asKey())},t.prototype.close=function(){return r(this,void 0,void 0,function(){var t=this;return o(this,function(e){switch(e.label){case 0:return this._closed=!0,[4,Promise.all(Object.keys(this._pools).map(function(e){return t._purgeKey(e)}))];case 1:return[2,e.sent()]}})})},t.prototype.keepAll=function(t){var e=this,n=t.map(function(t){return t.asKey()});return Promise.all(Object.keys(this._pools).filter(function(t){return -1===n.indexOf(t)}).map(function(t){return e._purgeKey(t)}))},t.prototype.has=function(t){return t.asKey()in this._pools},t.prototype.activeResourceCount=function(t){return this._activeResourceCounts[t.asKey()]||0},t.prototype._acquire=function(t){return r(this,void 0,void 0,function(){var e,n,r,i,s,c=this;return o(this,function(o){switch(o.label){case 0:if(this._closed)throw(0,u.newError)("Pool is closed, it is no more able to serve requests.");e=t.asKey(),n=this._pools[e],r=this._poolState[e],n||(n=[],r=new h,this._pools[e]=n,this._pendingCreates[e]=0,this._poolState[e]=r),o.label=1;case 1:if(!n.length)return[3,5];if(i=n.pop(),!this._validate(i))return[3,2];return this._removeIdleObserver&&this._removeIdleObserver(i),l(e,this._activeResourceCounts),this._log.isDebugEnabled()&&this._log.debug(i+" acquired from the pool "+e),[2,i];case 2:return[4,this._destroy(i)];case 3:o.sent(),o.label=4;case 4:return[3,1];case 5:if(this._maxSize>0&&this.activeResourceCount(t)+this._pendingCreates[e]>=this._maxSize)return[2,null];this._pendingCreates[e]=this._pendingCreates[e]+1,o.label=6;case 6:return o.trys.push([6,,8,9]),[4,this._create(t,function(t,e){return c._release(r,t,e)})];case 7:return s=o.sent(),l(e,this._activeResourceCounts),this._log.isDebugEnabled()&&this._log.debug(s+" created for the pool "+e),[3,9];case 8:return this._pendingCreates[e]=this._pendingCreates[e]-1,[7];case 9:return[2,s]}})})},t.prototype._release=function(t,e,n){return r(this,void 0,void 0,function(){var r,i,s=this;return o(this,function(o){switch(o.label){case 0:if(r=e.asKey(),!((i=this._pools[r])&&t&&t.isActive()))return[3,4];if(this._validate(n))return[3,2];return this._log.isDebugEnabled()&&this._log.debug(n+" destroyed and can't be released to the pool "+r+" because it is not functional"),[4,this._destroy(n)];case 1:return o.sent(),[3,3];case 2:this._installIdleObserver&&this._installIdleObserver(n,{onError:function(t){s._log.debug("Idle connection "+n+" destroyed because of error: "+t);var e=s._pools[r];e&&(s._pools[r]=e.filter(function(t){return t!==n})),s._destroy(n).catch(function(){})}}),i.push(n),this._log.isDebugEnabled()&&this._log.debug(n+" released to the pool "+r),o.label=3;case 3:return[3,6];case 4:return this._log.isDebugEnabled()&&this._log.debug(n+" destroyed and can't be released to the pool "+r+" because pool has been purged"),[4,this._destroy(n)];case 5:o.sent(),o.label=6;case 6:var u,c,a;return u=r,(a=((c=this._activeResourceCounts)[u]||0)-1)>0?c[u]=a:delete c[u],this._processPendingAcquireRequests(e),[2]}})})},t.prototype._purgeKey=function(t){return r(this,void 0,void 0,function(){var e,n,r,i;return o(this,function(o){switch(o.label){case 0:for(e=this._pools[t]||[],n=this._poolState[t]||new h,r=[];e.length;)i=e.pop(),this._removeIdleObserver&&this._removeIdleObserver(i),r.push(this._destroy(i));return n.close(),delete this._pools[t],delete this._poolState[t],[4,Promise.all(r)];case 1:return o.sent(),[2]}})})},t.prototype._processPendingAcquireRequests=function(t){var e=this,n=t.asKey(),r=this._acquireRequests[n],o=this._poolState[n];if(r){var i=r.shift();i?this._acquire(t).catch(function(t){return i.reject(t),null}).then(function(n){n&&(i.isCompleted()?e._release(o,t,n):i.resolve(n))}):delete this._acquireRequests[n]}},t}();function l(t,e){var n=e[t]||0;e[t]=n+1}var f=function(){function t(t,e,n,r,o){this._key=t,this._resolve=e,this._reject=n,this._timeoutId=r,this._log=o,this._completed=!1}return t.prototype.isCompleted=function(){return this._completed},t.prototype.resolve=function(t){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._log.isDebugEnabled()&&this._log.debug(t+" acquired from the pool "+this._key),this._resolve(t))},t.prototype.reject=function(t){this._completed||(this._completed=!0,clearTimeout(this._timeoutId),this._reject(t))},t}(),h=function(){function t(){this._active=!0}return t.prototype.isActive=function(){return this._active},t.prototype.close=function(){this._active=!1},t}();e.default=a},5717:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0})},5729:function(t,e,n){"use strict";var r=this&&this.__read||function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,o,i=n.call(t),s=[];try{for(;(void 0===e||e-- >0)&&!(r=i.next()).done;)s.push(r.value)}catch(t){o={error:t}}finally{try{r&&!r.done&&(n=i.return)&&n.call(i)}finally{if(o)throw o.error}}return s},o=this&&this.__spreadArray||function(t,e,n){if(n||2==arguments.length)for(var r,o=0,i=e.length;o<i;o++)!r&&o in e||(r||(r=Array.prototype.slice.call(e,0,o)),r[o]=e[o]);return t.concat(r||Array.prototype.slice.call(e))};Object.defineProperty(e,"__esModule",{value:!0}),e.createValidRoutingTable=void 0;var i=n(4096),s=i.internal.constants,u=s.ACCESS_MODE_WRITE,c=s.ACCESS_MODE_READ,a=i.internal.serverAddress.ServerAddress,l=i.error.PROTOCOL_ERROR,f=function(){function t(t){var e=void 0===t?{}:t,n=e.database,r=e.routers,o=e.readers,s=e.writers,u=e.expirationTime,c=e.ttl;this.database=n||null,this.databaseName=n||"default database",this.routers=r||[],this.readers=o||[],this.writers=s||[],this.expirationTime=u||(0,i.int)(0),this.ttl=c}return t.fromRawRoutingTable=function(t,e,n){return p(t,e,n)},t.prototype.forget=function(t){this.readers=h(this.readers,t),this.writers=h(this.writers,t)},t.prototype.forgetRouter=function(t){this.routers=h(this.routers,t)},t.prototype.forgetWriter=function(t){this.writers=h(this.writers,t)},t.prototype.isStaleFor=function(t){return this.expirationTime.lessThan(Date.now())||this.routers.length<1||t===c&&0===this.readers.length||t===u&&0===this.writers.length},t.prototype.isExpiredFor=function(t){return this.expirationTime.add(t).lessThan(Date.now())},t.prototype.allServers=function(){return o(o(o([],r(this.routers),!1),r(this.readers),!1),r(this.writers),!1)},t.prototype.toString=function(){return"RoutingTable[database="+this.databaseName+", expirationTime="+this.expirationTime+", currentTime="+Date.now()+", routers=["+this.routers+"], readers=["+this.readers+"], writers=["+this.writers+"]]"},t}();function h(t,e){return t.filter(function(t){return t.asKey()!==e.asKey()})}function p(t,e,n){var r=n.ttl,o=function(t,e){try{var n=(0,i.int)(Date.now()),r=(0,i.int)(t.ttl).multiply(1e3).add(n);if(r.lessThan(n))return i.Integer.MAX_VALUE;return r}catch(n){throw(0,i.newError)("Unable to parse TTL entry from router "+e+" from raw routing table:\n"+i.json.stringify(t)+"\nError message: "+n.message,l)}}(n,e),s=function(t,e){try{var n=[],r=[],o=[];return t.servers.forEach(function(t){var e=t.role,i=t.addresses;"ROUTE"===e?n=b(i).map(function(t){return a.fromUrl(t)}):"WRITE"===e?o=b(i).map(function(t){return a.fromUrl(t)}):"READ"===e&&(r=b(i).map(function(t){return a.fromUrl(t)}))}),{routers:n,readers:r,writers:o}}catch(n){throw(0,i.newError)("Unable to parse servers entry from router "+e+" from addresses:\n"+i.json.stringify(t.servers)+"\nError message: "+n.message,l)}}(n,e),u=s.routers,c=s.readers,h=s.writers;return d(u,"routers",e),d(c,"readers",e),new f({database:t||n.db,routers:u,readers:c,writers:h,expirationTime:o,ttl:r})}function d(t,e,n){if(0===t.length)throw(0,i.newError)("Received no "+e+" from router "+n,l)}function b(t){if(!Array.isArray(t))throw TypeError("Array expected but got: "+t);return Array.from(t)}e.default=f,e.createValidRoutingTable=p},5812:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(4096),i=r(n(9732)),s=r(n(8549)),u=r(n(594)),c=r(n(6051)),a=r(n(7448)),l=r(n(4185)),f=r(n(9126)),h=r(n(3303)),p=r(n(9530));e.default=function(t){var e=void 0===t?{}:t,n=e.version,r=e.chunker,d=e.dechunker,b=e.channel,v=e.disableLosslessIntegers,_=e.useBigInt,y=e.serversideRouting,m=e.server,g=e.log,w=e.observer;return function(t,e,n,r,p,d,b,v){switch(t){case 1:return new i.default(e,n,r,d,v,b);case 2:return new s.default(e,n,r,d,v,b);case 3:return new u.default(e,n,r,d,v,b);case 4:return new c.default(e,n,r,d,v,b);case 4.1:return new a.default(e,n,r,d,v,b,p);case 4.2:return new l.default(e,n,r,d,v,b,p);case 4.3:return new f.default(e,n,r,d,v,b,p);case 4.4:return new h.default(e,n,r,d,v,b,p);default:throw(0,o.newError)("Unknown Bolt protocol version: "+t)}}(n,m,r,{disableLosslessIntegers:v,useBigInt:_},y,function(t){var e=new p.default({transformMetadata:t.transformMetadata.bind(t),log:g,observer:w});return b.onerror=w.onError.bind(w),b.onmessage=function(t){return d.write(t)},d.onmessage=function(n){try{e.handleResponse(t.unpacker().unpack(n))}catch(t){return w.onError(t)}},e},w.onProtocolError.bind(w),g)}},5849:function(t,e){"use strict";var n,r=this&&this.__extends||(n=function(t,e){return(n=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)});Object.defineProperty(e,"__esModule",{value:!0}),e.PROTOCOL_ERROR=e.SESSION_EXPIRED=e.SERVICE_UNAVAILABLE=e.Neo4jError=e.newError=void 0,e.SERVICE_UNAVAILABLE="ServiceUnavailable",e.SESSION_EXPIRED="SessionExpired",e.PROTOCOL_ERROR="ProtocolError";var o=function(t){function e(n,r){var o=t.call(this,n)||this;return o.constructor=e,o.__proto__=e.prototype,o.code=r,o.name="Neo4jError",o}return r(e,t),e}(Error);e.Neo4jError=o,e.newError=function(t,e){return new o(t,null!=e?e:"N/A")}},6051:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t}).apply(this,arguments)},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var u=s(n(594)),c=s(n(4777)),a=n(3793),l=n(382),f=n(4096);f.internal.bookmark.Bookmark;var h=f.internal.constants,p=h.BOLT_PROTOCOL_V4_0,d=h.FETCH_ALL,b=f.internal.txConfig.TxConfig,v="context",_="database",y="CALL dbms.routing.getRoutingTable($"+v+", $"+_+")";e.default=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"version",{get:function(){return p},enumerable:!1,configurable:!0}),e.prototype.beginTransaction=function(t){var e=void 0===t?{}:t,n=e.bookmark,r=e.txConfig,o=e.database,i=e.impersonatedUser,s=e.mode,u=e.beforeError,f=e.afterError,h=e.beforeComplete,p=e.afterComplete,d=new l.ResultStreamObserver({server:this._server,beforeError:u,afterError:f,beforeComplete:h,afterComplete:p});return d.prepareToHandleSingleResponse(),(0,a.assertImpersonatedUserIsEmpty)(i,this._onProtocolError,d),this.write(c.default.begin({bookmark:n,txConfig:r,database:o,mode:s}),d,!0),d},e.prototype.run=function(t,e,n){var r=void 0===n?{}:n,o=r.bookmark,i=r.txConfig,s=r.database,u=r.impersonatedUser,f=r.mode,h=r.beforeKeys,p=r.afterKeys,b=r.beforeError,v=r.afterError,_=r.beforeComplete,y=r.afterComplete,m=r.flush,g=void 0===m||m,w=r.reactive,E=void 0!==w&&w,O=r.fetchSize,S=void 0===O?d:O,T=new l.ResultStreamObserver({server:this._server,reactive:E,fetchSize:S,moreFunction:this._requestMore.bind(this),discardFunction:this._requestDiscard.bind(this),beforeKeys:h,afterKeys:p,beforeError:b,afterError:v,beforeComplete:_,afterComplete:y});return(0,a.assertImpersonatedUserIsEmpty)(u,this._onProtocolError,T),this.write(c.default.runWithMetadata(t,e,{bookmark:o,txConfig:i,database:s,mode:f}),T,E&&g),E||this.write(c.default.pull({n:S}),T,g),T},e.prototype._requestMore=function(t,e,n){this.write(c.default.pull({stmtId:t,n:e}),n,!0)},e.prototype._requestDiscard=function(t,e){this.write(c.default.discard({stmtId:t}),e,!0)},e.prototype._noOp=function(){},e.prototype.requestRoutingInformation=function(t){var e,n=t.routingContext,r=t.databaseName,o=t.sessionContext,s=t.onError,u=t.onCompleted,c=this.run(y,((e={})[v]=void 0===n?{}:n,e[_]=void 0===r?null:r,e),i(i({},void 0===o?{}:o),{txConfig:b.empty()}));return new l.ProcedureRouteObserver({resultObserver:c,onProtocolError:this._onProtocolError,onError:s,onCompleted:u})},e}(u.default)},6195:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){function t(t){this._offset=t||0}return t.prototype.next=function(t){if(0===t)return -1;var e=this._offset;return this._offset+=1,this._offset===Number.MAX_SAFE_INTEGER&&(this._offset=0),e%t},t}()},6205:(t,e,n)=>{var r=n(4542);function o(t,e){for(var n=0;n<e.length;n++){var o=e[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(t,r(o.key),o)}}t.exports=function(t,e,n){return e&&o(t.prototype,e),n&&o(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t},t.exports.__esModule=!0,t.exports.default=t.exports},6346:function(t,e,n){"use strict";var r,o,i=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.Logger=void 0;var s=n(5849),u="error",c="warn",a="info",l="debug",f=((o={})[u]=0,o[c]=1,o[a]=2,o[l]=3,o),h=function(){function t(t,e){this._level=t,this._loggerFunction=e}return t.create=function(e){if(e&&e.logging){var n=e.logging;return new t(function(t){if(t&&t.level){var e=t.level,n=f[e];if(!n&&0!==n)throw(0,s.newError)("Illegal logging level: "+e+". Supported levels are: "+Object.keys(f));return e}return a}(n),function(t){if(t&&t.logger){var e=t.logger;if(e&&"function"==typeof e)return e}throw(0,s.newError)("Illegal logger function: "+t.logger)}(n))}return this.noOp()},t.noOp=function(){return p},t.prototype.isErrorEnabled=function(){return d(this._level,u)},t.prototype.error=function(t){this.isErrorEnabled()&&this._loggerFunction(u,t)},t.prototype.isWarnEnabled=function(){return d(this._level,c)},t.prototype.warn=function(t){this.isWarnEnabled()&&this._loggerFunction(c,t)},t.prototype.isInfoEnabled=function(){return d(this._level,a)},t.prototype.info=function(t){this.isInfoEnabled()&&this._loggerFunction(a,t)},t.prototype.isDebugEnabled=function(){return d(this._level,l)},t.prototype.debug=function(t){this.isDebugEnabled()&&this._loggerFunction(l,t)},t}();e.Logger=h;var p=new(function(t){function e(){return t.call(this,a,function(t,e){})||this}return i(e,t),e.prototype.isErrorEnabled=function(){return!1},e.prototype.error=function(t){},e.prototype.isWarnEnabled=function(){return!1},e.prototype.warn=function(t){},e.prototype.isInfoEnabled=function(){return!1},e.prototype.info=function(t){},e.prototype.isDebugEnabled=function(){return!1},e.prototype.debug=function(t){},e}(h));function d(t,e){return f[t]>=f[e]}},6361:(t,e,n)=>{"use strict";var r=n(2448);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n(8813)),i=r(n(6205)),s=n(4169),u=n(3982),c=r(n(6712)),a=n(4096),l=r(n(1473)),f=r(n(970)),h=a.internal.constants,p=h.ACCESS_MODE_READ,d=h.ACCESS_MODE_WRITE,b=a.internal.txConfig.TxConfig;e.default=function(){function t(){var e,n,r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},i=r.session,s=r.config;(0,o.default)(this,t),this._session=i,this._retryLogic=(n=(e=s)&&e.maxTransactionRetryTime?e.maxTransactionRetryTime:null,new f.default({maxRetryTimeout:n}))}return(0,i.default)(t,[{key:"run",value:function(t,e,n){var r=this;return new c.default(new s.Observable(function(o){try{o.next(r._session.run(t,e,n)),o.complete()}catch(t){o.error(t)}return function(){}}))}},{key:"beginTransaction",value:function(t){return this._beginTransaction(this._session._mode,t)}},{key:"readTransaction",value:function(t,e){return this._runTransaction(p,t,e)}},{key:"writeTransaction",value:function(t,e){return this._runTransaction(d,t,e)}},{key:"close",value:function(){var t=this;return new s.Observable(function(e){t._session.close().then(function(){e.complete()}).catch(function(t){return e.error(t)})})}},{key:"lastBookmark",value:function(){return this._session.lastBookmark()}},{key:"_beginTransaction",value:function(t,e){var n=this,r=b.empty();return e&&(r=new b(e)),new s.Observable(function(e){try{e.next(new l.default(n._session._beginTransaction(t,r))),e.complete()}catch(t){e.error(t)}return function(){}})}},{key:"_runTransaction",value:function(t,e,n){return b.empty(),n&&new b(n),this._retryLogic.retry(this._beginTransaction(t,n).pipe((0,u.flatMap)(function(t){return(0,s.defer)(function(){try{return e(t)}catch(t){return(0,s.throwError)(t)}}).pipe((0,u.catchError)(function(e){return t.rollback().pipe((0,u.concat)((0,s.throwError)(e)))}),(0,u.concat)(t.commit()))})))}}]),t}()},6518:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.canRetryOn=void 0;var r=n(5849);e.canRetryOn=function(t){var e;return t&&t instanceof r.Neo4jError&&t.code&&(t.code===r.SERVICE_UNAVAILABLE||t.code===r.SESSION_EXPIRED||"Neo.ClientError.Security.AuthorizationExpired"===t.code||!!((e=t.code).indexOf("TransientError")>=0)&&"Neo.TransientError.Transaction.Terminated"!==e&&"Neo.TransientError.Transaction.LockClientStopped"!==e)}},6641:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.Dechunker=e.Chunker=void 0;var s=i(n(185)),u=n(4295),c=i(n(5125));e.Chunker=function(t){function e(e,n){var r=t.call(this,0)||this;return r._bufferSize=n||1400,r._ch=e,r._buffer=(0,u.alloc)(r._bufferSize),r._currentChunkStart=0,r._chunkOpen=!1,r}return o(e,t),e.prototype.putUInt8=function(t,e){this._ensure(1),this._buffer.writeUInt8(e)},e.prototype.putInt8=function(t,e){this._ensure(1),this._buffer.writeInt8(e)},e.prototype.putFloat64=function(t,e){this._ensure(8),this._buffer.writeFloat64(e)},e.prototype.putBytes=function(t,e){for(;e.remaining()>0;)this._ensure(1),this._buffer.remaining()>e.remaining()?this._buffer.writeBytes(e):this._buffer.writeBytes(e.readSlice(this._buffer.remaining()));return this},e.prototype.flush=function(){if(this._buffer.position>0){this._closeChunkIfOpen();var t=this._buffer;this._buffer=null,this._ch.write(t.getSlice(0,t.position)),this._buffer=(0,u.alloc)(this._bufferSize),this._chunkOpen=!1}return this},e.prototype.messageBoundary=function(){this._closeChunkIfOpen(),2>this._buffer.remaining()&&this.flush(),this._buffer.writeInt16(0)},e.prototype._ensure=function(t){var e=this._chunkOpen?t:t+2;this._buffer.remaining()<e&&this.flush(),this._chunkOpen||(this._currentChunkStart=this._buffer.position,this._buffer.position=this._buffer.position+2,this._chunkOpen=!0)},e.prototype._closeChunkIfOpen=function(){if(this._chunkOpen){var t=this._buffer.position-(this._currentChunkStart+2);this._buffer.putUInt16(this._currentChunkStart,t),this._chunkOpen=!1}},e}(s.default),e.Dechunker=function(){function t(){this._currentMessage=[],this._partialChunkHeader=0,this._state=this.AWAITING_CHUNK}return t.prototype.AWAITING_CHUNK=function(t){return t.remaining()>=2?this._onHeader(t.readUInt16()):(this._partialChunkHeader=t.readUInt8()<<8,this.IN_HEADER)},t.prototype.IN_HEADER=function(t){return this._onHeader((this._partialChunkHeader|t.readUInt8())&65535)},t.prototype.IN_CHUNK=function(t){return this._chunkSize<=t.remaining()?(this._currentMessage.push(t.readSlice(this._chunkSize)),this.AWAITING_CHUNK):(this._chunkSize-=t.remaining(),this._currentMessage.push(t.readSlice(t.remaining())),this.IN_CHUNK)},t.prototype.CLOSED=function(t){},t.prototype._onHeader=function(t){if(0!==t)return this._chunkSize=t,this.IN_CHUNK;var e=void 0;switch(this._currentMessage.length){case 0:return this.AWAITING_CHUNK;case 1:e=this._currentMessage[0];break;default:e=new c.default(this._currentMessage)}return this._currentMessage=[],this.onmessage(e),this.AWAITING_CHUNK},t.prototype.write=function(t){for(;t.hasRemaining();)this._state=this._state(t)},t}()},6712:(t,e,n)=>{"use strict";var r=n(2448);Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=r(n(8813)),i=r(n(6205)),s=n(4096),u=n(4169),c=n(3982),a={READY:0,STREAMING:1,COMPLETED:2};e.default=function(){function t(e){(0,o.default)(this,t);var n=e.pipe((0,c.publishReplay)(1),(0,c.refCount)());this._result=n,this._keys=n.pipe((0,c.flatMap)(function(t){return(0,u.from)(t.keys())}),(0,c.publishReplay)(1),(0,c.refCount)()),this._records=new u.Subject,this._summary=new u.ReplaySubject,this._state=a.READY}return(0,i.default)(t,[{key:"keys",value:function(){return this._keys}},{key:"records",value:function(){var t=this;return this._result.pipe((0,c.flatMap)(function(e){return new u.Observable(function(n){return t._startStreaming({result:e,recordsObserver:n})})}))}},{key:"consume",value:function(){var t=this;return this._result.pipe((0,c.flatMap)(function(e){return new u.Observable(function(n){return t._startStreaming({result:e,summaryObserver:n})})}))}},{key:"_startStreaming",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.result,r=e.recordsObserver,o=void 0===r?null:r,i=e.summaryObserver,u=void 0===i?null:i,c=[];return u&&c.push(this._summary.subscribe(u)),this._state<a.STREAMING?(this._state=a.STREAMING,o&&c.push(this._records.subscribe(o)),c.push({unsubscribe:function(){n._cancel&&n._cancel()}}),0===this._records.observers.length&&n._cancel(),n.subscribe({onNext:function(e){t._records.next(e)},onCompleted:function(e){t._records.complete(),t._summary.next(e),t._summary.complete(),t._state=a.COMPLETED},onError:function(e){t._records.error(e),t._summary.error(e),t._state=a.COMPLETED}})):o&&o.error((0,s.newError)("Streaming has already started/consumed with a previous records or summary subscription.")),function(){c.forEach(function(t){return t.unsubscribe()})}}}]),t}()},6910:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(2568);function o(t){return Promise.resolve([t])}e.default=function(){function t(t){this._resolverFunction=t||o}return t.prototype.resolve=function(t){var e=this;return new Promise(function(n){return n(e._resolverFunction(t.asHostPort()))}).then(function(t){if(!Array.isArray(t))throw TypeError("Configured resolver function should either return an array of addresses or a Promise resolved with an array of addresses.Each address is '<host>:<port>'. Got: "+t);return t.map(function(t){return r.ServerAddress.fromUrl(t)})})},t}()},7212:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.v2=e.v1=void 0,e.v1=i(n(2549));var s=i(n(772));e.v2=s,e.default=s},7448:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(6051)),u=i(n(4777)),c=n(382),a=n(4096).internal.constants.BOLT_PROTOCOL_V4_1;e.default=function(t){function e(e,n,r,o,i,s,u){void 0===o&&(o=function(){return null});var c=t.call(this,e,n,r,o,i,s)||this;return c._serversideRouting=u,c}return o(e,t),Object.defineProperty(e.prototype,"version",{get:function(){return a},enumerable:!1,configurable:!0}),e.prototype.initialize=function(t){var e=this,n=void 0===t?{}:t,r=n.userAgent,o=n.authToken,i=n.onError,s=n.onComplete,a=new c.LoginObserver({onError:function(t){return e._onLoginError(t,i)},onCompleted:function(t){return e._onLoginCompleted(t,s)}});return this.write(u.default.hello(r,o,this._serversideRouting),a,!0),a},e}(s.default)},7536:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)});Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){function e(e){var n=t.call(this)||this;return n._connection=e,n}return o(e,t),e.prototype.acquireConnection=function(t){var e=void 0===t?{}:t;e.accessMode,e.database,e.bookmarks;var n=this._connection;return this._connection=null,Promise.resolve(n)},e}(n(4096).ConnectionProvider)},7616:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_ACQUISITION_TIMEOUT=e.DEFAULT_MAX_SIZE=void 0,e.DEFAULT_MAX_SIZE=100;e.DEFAULT_ACQUISITION_TIMEOUT=6e4,e.default=function(){function t(t,e){var n,r;this.maxSize=0===(n=t)||n?n:100,this.acquisitionTimeout=0===(r=e)||r?r:6e4}return t.defaultConfig=function(){return new t(100,6e4)},t.fromDriverConfig=function(e){var n,r;return new t(0===(n=e.maxConnectionPoolSize)||n?e.maxConnectionPoolSize:100,0===(r=e.connectionAcquisitionTimeout)||r?e.connectionAcquisitionTimeout:6e4)},t}()},7661:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(s,u)}c((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){var c=[i,u];if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){s=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){s.label=c[1];break}if(6===c[0]&&s.label<o[1]){s.label=o[1],o=c;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(c);break}o[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var c=u(n(1411)),a=n(2653),l=n(4096),f=l.internal.constants,h=f.BOLT_PROTOCOL_V3,p=f.BOLT_PROTOCOL_V4_0,d=f.BOLT_PROTOCOL_V4_4,b=l.error.SERVICE_UNAVAILABLE;l.error.newError,e.default=function(t){function e(e){var n=e.id,r=e.config,o=e.log,i=e.address,s=e.userAgent,u=e.authToken,c=t.call(this,{id:n,config:r,log:o,userAgent:s,authToken:u})||this;return c._address=i,c}return o(e,t),e.prototype.acquireConnection=function(t){var e=this,n=void 0===t?{}:t,r=(n.accessMode,n.database);n.bookmarks;var o=a.ConnectionErrorHandler.create({errorCode:b,handleAuthorizationExpired:function(t,n){return e._handleAuthorizationExpired(t,n,r)}});return this._connectionPool.acquire(this._address).then(function(t){return new a.DelegateConnection(t,o)})},e.prototype._handleAuthorizationExpired=function(t,e,n){return this._log.warn("Direct driver "+this._id+" will close connection to "+e+" for database '"+n+"' because of an error "+t.code+" '"+t.message+"'"),this._connectionPool.purge(e).catch(function(){}),t},e.prototype._hasProtocolVersion=function(t){return i(this,void 0,void 0,function(){var e,n;return s(this,function(r){switch(r.label){case 0:return[4,(0,a.createChannelConnection)(this._address,this._config,this._createConnectionErrorHandler(),this._log)];case 1:return n=(e=r.sent()).protocol()?e.protocol().version:null,[4,e.close()];case 2:if(r.sent(),n)return[2,t(n)];return[2,!1]}})})},e.prototype.supportsMultiDb=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,this._hasProtocolVersion(function(t){return t>=p})];case 1:return[2,t.sent()]}})})},e.prototype.supportsTransactionConfig=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,this._hasProtocolVersion(function(t){return t>=h})];case 1:return[2,t.sent()]}})})},e.prototype.supportsUserImpersonation=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return[4,this._hasProtocolVersion(function(t){return t>=d})];case 1:return[2,t.sent()]}})})},e}(c.default)},7736:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4096),o=r.error.SERVICE_UNAVAILABLE,i=r.error.SESSION_EXPIRED;function s(t){return t}e.default=function(){function t(t,e,n,r){this._errorCode=t,this._handleUnavailability=e||s,this._handleWriteFailure=n||s,this._handleAuthorizationExpired=r||s}return t.create=function(e){return new t(e.errorCode,e.handleUnavailability,e.handleWriteFailure,e.handleAuthorizationExpired)},t.prototype.errorCode=function(){return this._errorCode},t.prototype.handleAndTransformError=function(t,e){var n,r,s;return(n=t)&&("Neo.ClientError.Security.AuthorizationExpired"===n.code||"Neo.ClientError.Security.TokenExpired"===n.code)?this._handleAuthorizationExpired(t,e):(r=t)&&(r.code===i||r.code===o||"Neo.TransientError.General.DatabaseUnavailable"===r.code)?this._handleUnavailability(t,e):(s=t)&&("Neo.ClientError.Cluster.NotALeader"===s.code||"Neo.ClientError.General.ForbiddenOnReadOnlyDatabase"===s.code)?this._handleWriteFailure(t,e):t},t}()},7888:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.isPoint=e.Point=void 0;var r=n(990),o="__isPoint__",i=function(){function t(t,e,n,o){this.srid=(0,r.assertNumberOrInteger)(t,"SRID"),this.x=(0,r.assertNumber)(e,"X coordinate"),this.y=(0,r.assertNumber)(n,"Y coordinate"),this.z=null==o?o:(0,r.assertNumber)(o,"Z coordinate"),Object.freeze(this)}return t.prototype.toString=function(){return this.z||0===this.z?"Point{srid="+s(this.srid)+", x="+s(this.x)+", y="+s(this.y)+", z="+s(this.z)+"}":"Point{srid="+s(this.srid)+", x="+s(this.x)+", y="+s(this.y)+"}"},t}();function s(t){return Number.isInteger(t)?t+".0":t.toString()}e.Point=i,Object.defineProperty(i.prototype,o,{value:!0,enumerable:!1,configurable:!1,writable:!1}),e.isPoint=function(t){return!0===(t&&t[o])}},8071:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(1645)),i=r(n(4631)),s=r(n(9021)),u=r(n(4295)),c=n(4096),a=c.internal.util,l=a.ENCRYPTION_OFF,f=a.ENCRYPTION_ON,h=a.isEmptyObjectOrNull,p=0,d={TRUST_CUSTOM_CA_SIGNED_CERTIFICATES:function(t,e,n){if(!t.trustedCertificates||0===t.trustedCertificates.length)return void n((0,c.newError)('You are using TRUST_CUSTOM_CA_SIGNED_CERTIFICATES as the method to verify trust for encrypted  connections, but have not configured any trustedCertificates. You  must specify the path to at least one trusted X.509 certificate for this to work. Two other alternatives is to use TRUST_ALL_CERTIFICATES or to disable encryption by setting encrypted="'+l+'"in your driver configuration.'));var r=v(t.address.host(),t.trustedCertificates.map(function(t){return s.default.readFileSync(t)})),o=i.default.connect(t.address.port(),t.address.resolvedHost(),r,function(){o.authorized?e():n((0,c.newError)("Server certificate is not trusted. If you trust the database you are connecting to, add the signing certificate, or the server certificate, to the list of certificates trusted by this driver using `neo4j.driver(.., { trustedCertificates:['path/to/certificate.crt']}). This  is a security measure to protect against man-in-the-middle attacks. If you are just trying  Neo4j out and are not concerned about encryption, simply disable it using `encrypted=\""+l+'"` in the driver options. Socket responded with: '+o.authorizationError))});return o.on("error",n),_(o)},TRUST_SYSTEM_CA_SIGNED_CERTIFICATES:function(t,e,n){var r=v(t.address.host()),o=i.default.connect(t.address.port(),t.address.resolvedHost(),r,function(){o.authorized?e():n((0,c.newError)("Server certificate is not trusted. If you trust the database you are connecting to, use TRUST_CUSTOM_CA_SIGNED_CERTIFICATES and add the signing certificate, or the server certificate, to the list of certificates trusted by this driver using `neo4j.driver(.., { trustedCertificates:['path/to/certificate.crt']}). This  is a security measure to protect against man-in-the-middle attacks. If you are just trying  Neo4j out and are not concerned about encryption, simply disable it using `encrypted=\""+l+'"` in the driver options. Socket responded with: '+o.authorizationError))});return o.on("error",n),_(o)},TRUST_ALL_CERTIFICATES:function(t,e,n){var r=v(t.address.host()),o=i.default.connect(t.address.port(),t.address.resolvedHost(),r,function(){h(o.getPeerCertificate())?n((0,c.newError)('Secure connection was successful but server did not return any valid certificates. Such connection can not be trusted. If you are just trying  Neo4j out and are not concerned about encryption, simply disable it using `encrypted="'+l+'"` in the driver options. Socket responded with: '+o.authorizationError)):e()});return o.on("error",n),_(o)}};function b(t,e,n){void 0===n&&(n=function(){return null});var r,i,s=(r=t).trust?r.trust:"TRUST_SYSTEM_CA_SIGNED_CERTIFICATES";if(null!=(i=t).encrypted&&void 0!==i.encrypted&&(!0===i.encrypted||i.encrypted===f)){if(d[s])return d[s](t,e,n);n((0,c.newError)("Unknown trust strategy: "+t.trust+". Please use either trust:'TRUST_CUSTOM_CA_SIGNED_CERTIFICATES' or trust:'TRUST_ALL_CERTIFICATES' in your driver configuration. Alternatively, you can disable encryption by setting `encrypted:\""+l+'"`. There is no mechanism to use encryption without trust verification, because this incurs the overhead of encryption without improving security. If the driver does not verify that the peer it is connected to is really Neo4j, it is very easy for an attacker to bypass the encryption by pretending to be Neo4j.'))}else{var u=o.default.connect(t.address.port(),t.address.resolvedHost(),e);return u.on("error",n),_(u)}}function v(t,e){return void 0===e&&(e=void 0),{rejectUnauthorized:!1,servername:t,ca:e}}function _(t){return t.setKeepAlive(!0),t}e.default=function(){function t(t,e){void 0===e&&(e=b);var n=this;this.id=p++,this._pending=[],this._open=!0,this._error=null,this._handleConnectionError=this._handleConnectionError.bind(this),this._handleConnectionTerminated=this._handleConnectionTerminated.bind(this),this._connectionErrorCode=t.connectionErrorCode,this._receiveTimeout=null,this._receiveTimeoutStarted=!1,this._conn=e(t,function(){if(n._open){n._conn.on("data",function(t){n.onmessage&&n.onmessage(new u.default(t))}),n._conn.on("error",n._handleConnectionError),n._conn.on("end",n._handleConnectionTerminated);var t=n._pending;n._pending=null;for(var e=0;e<t.length;e++)n.write(t[e])}},this._handleConnectionError),this._setupConnectionTimeout(t,this._conn)}return t.prototype._handleConnectionError=function(t){var e="Failed to connect to server. Please ensure that your database is listening on the correct host and port and that you have compatible encryption settings both on Neo4j server and driver. Note that the default encryption setting has changed in Neo4j 4.0.";t.message&&(e+=" Caused by: "+t.message),this._error=(0,c.newError)(e,this._connectionErrorCode),this.onerror&&this.onerror(this._error)},t.prototype._handleConnectionTerminated=function(){this._open=!1,this._error=(0,c.newError)("Connection was closed by server",this._connectionErrorCode),this.onerror&&this.onerror(this._error)},t.prototype._setupConnectionTimeout=function(t,e){var n=this,r=t.connectionTimeout;if(r){var o=function(){e.setTimeout(0)},i=function(){e.setTimeout(0),e.destroy((0,c.newError)("Failed to establish connection in "+r+"ms",t.connectionErrorCode))};e.on("connect",o),e.on("timeout",i),this._removeConnectionTimeoutListeners=function(){n._conn.off("connect",o),n._conn.off("timeout",i)},e.setTimeout(r)}},t.prototype.setupReceiveTimeout=function(t){var e=this;this._removeConnectionTimeoutListeners&&this._removeConnectionTimeoutListeners(),this._conn.on("timeout",function(){e._conn.destroy((0,c.newError)("Connection lost. Server didn't respond in "+t+"ms",e._connectionErrorCode))}),this._receiveTimeout=t},t.prototype.stopReceiveTimeout=function(){null!==this._receiveTimeout&&this._receiveTimeoutStarted&&(this._receiveTimeoutStarted=!1,this._conn.setTimeout(0))},t.prototype.startReceiveTimeout=function(){null===this._receiveTimeout||this._receiveTimeoutStarted||(this._receiveTimeoutStarted=!0,this._conn.setTimeout(this._receiveTimeout))},t.prototype.write=function(t){if(null!==this._pending)this._pending.push(t);else if(t instanceof u.default)this._conn.write(t._buffer);else throw(0,c.newError)("Don't know how to write: "+t)},t.prototype.close=function(){var t=this;return new Promise(function(e,n){var r=function(){t._conn.destroyed||t._conn.destroy(),e()};t._open?(t._open=!1,t._conn.removeListener("end",t._handleConnectionTerminated),t._conn.on("end",function(){return r()}),t._conn.on("close",function(){return r()}),t._conn.end(),t._conn.destroy()):r()})},t}()},8174:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Bookmark=void 0;var s=i(n(990)),u=function(){function t(t){this._values=function(t){if(!t)return[];if(s.isString(t))return[t];if(Array.isArray(t)){for(var e=[],n=function t(e){return e.reduce(function(e,n){return Array.isArray(n)?e.concat(t(n)):e.concat(n)},[])}(t),r=0;r<n.length;r++){var o=n[r];if(null!=o){if(!s.isString(o))throw TypeError("Bookmark value should be a string, given: '"+o+"'");e.push(o)}}return e}throw TypeError("Bookmark should either be a string or a string array, given: '"+t+"'")}(t)}return t.empty=function(){return c},t.prototype.isEmpty=function(){return 0===this._values.length},t.prototype.values=function(){return this._values},t.prototype.asBeginTransactionParameters=function(){var t;return this.isEmpty()?{}:((t={}).bookmarks=this._values,t)},t}();e.Bookmark=u;var c=new u(null)},8200:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.TransactionExecutor=void 0;var r=n(5849),o=n(6518);function i(t,e){return t||0===t?t:e}e.TransactionExecutor=function(){function t(t,e,n,r){this._maxRetryTimeMs=i(t,3e4),this._initialRetryDelayMs=i(e,1e3),this._multiplier=i(n,2),this._jitterFactor=i(r,.2),this._inFlightTimeoutIds=[],this._verifyAfterConstruction()}return t.prototype.execute=function(t,e){var n=this;return new Promise(function(r,o){n._executeTransactionInsidePromise(t,e,r,o)}).catch(function(r){var o=Date.now(),i=n._initialRetryDelayMs;return n._retryTransactionPromise(t,e,r,o,i)})},t.prototype.close=function(){this._inFlightTimeoutIds.forEach(function(t){return clearTimeout(t)}),this._inFlightTimeoutIds=[]},t.prototype._retryTransactionPromise=function(t,e,n,r,i){var s=this;return Date.now()-r>this._maxRetryTimeMs||!(0,o.canRetryOn)(n)?Promise.reject(n):new Promise(function(n,r){var o=setTimeout(function(){s._inFlightTimeoutIds=s._inFlightTimeoutIds.filter(function(t){return t!==o}),s._executeTransactionInsidePromise(t,e,n,r)},s._computeDelayWithJitter(i));s._inFlightTimeoutIds.push(o)}).catch(function(n){var o=i*s._multiplier;return s._retryTransactionPromise(t,e,n,r,o)})},t.prototype._executeTransactionInsidePromise=function(t,e,n,r){var o,i=this;try{o=t()}catch(t){r(t);return}this._safeExecuteTransactionWork(o,e).then(function(t){return i._handleTransactionWorkSuccess(t,o,n,r)}).catch(function(t){return i._handleTransactionWorkFailure(t,o,r)})},t.prototype._safeExecuteTransactionWork=function(t,e){try{var n=e(t);return Promise.resolve(n)}catch(t){return Promise.reject(t)}},t.prototype._handleTransactionWorkSuccess=function(t,e,n,r){e.isOpen()?e.commit().then(function(){n(t)}).catch(function(t){r(t)}):n(t)},t.prototype._handleTransactionWorkFailure=function(t,e,n){e.isOpen()?e.rollback().catch(function(t){}).then(function(){return n(t)}):n(t)},t.prototype._computeDelayWithJitter=function(t){var e=t*this._jitterFactor,n=t-e;return Math.random()*(t+e-n)+n},t.prototype._verifyAfterConstruction=function(){if(this._maxRetryTimeMs<0)throw(0,r.newError)("Max retry time should be >= 0: "+this._maxRetryTimeMs);if(this._initialRetryDelayMs<0)throw(0,r.newError)("Initial retry delay should >= 0: "+this._initialRetryDelayMs);if(this._multiplier<1)throw(0,r.newError)("Multiplier should be >= 1.0: "+this._multiplier);if(this._jitterFactor<0||this._jitterFactor>1)throw(0,r.newError)("Jitter factor should be in [0.0, 1.0]: "+this._jitterFactor)},t}()},8206:t=>{function e(n){return t.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},t.exports.__esModule=!0,t.exports.default=t.exports,e(n)}t.exports=e,t.exports.__esModule=!0,t.exports.default=t.exports},8275:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3824),o=n(4096);function i(t,e){return{major:t,minor:e}}e.default=function(t){var e=this;return new Promise(function(n,s){var u=function(t){s(t)};t.onerror=u.bind(e),t._error&&u(t._error),t.onmessage=function(t){try{var e=function(t){var e=[t.readUInt8(),t.readUInt8(),t.readUInt8(),t.readUInt8()];if(72===e[0]&&84===e[1]&&84===e[2]&&80===e[3])throw(0,o.newError)("Server responded HTTP. Make sure you are not trying to connect to the http endpoint (HTTP defaults to port 7474 whereas BOLT defaults to port 7687)");return Number(e[3]+"."+e[2])}(t);n({protocolVersion:e,consumeRemainingBuffer:function(e){t.hasRemaining()&&e(t.readSlice(t.remaining()))}})}catch(t){s(t)}},t.write(function(){var t=[[i(4,4),i(4,2)],i(4,1),i(4,0),i(3,0)];if(t.length>4)throw(0,o.newError)("It should not have more than 4 versions of the protocol");var e=(0,r.alloc)(20);return e.writeInt32(0x6060b017),t.forEach(function(t){if(t instanceof Array){var n=t[0],r=n.major,o=n.minor,i=o-t[1].minor;e.writeInt32(i<<16|o<<8|r)}else{var r=t.major,o=t.minor;e.writeInt32(o<<8|r)}}),e.reset(),e}())})}},8439:(t,e)=>{"use strict";function n(t,e,n){e&&e.bind(t)(n)}Object.defineProperty(e,"__esModule",{value:!0}),e.FailedObserver=e.CompletedObserver=void 0,e.CompletedObserver=function(){function t(){}return t.prototype.subscribe=function(t){n(t,t.onKeys,[]),n(t,t.onCompleted,{})},t.prototype.cancel=function(){},t.prototype.prepareToHandleSingleResponse=function(){},t.prototype.markCompleted=function(){},t.prototype.onError=function(t){throw Error("CompletedObserver not supposed to call onError")},t}(),e.FailedObserver=function(){function t(t){var e=t.error,n=t.onError;this._error=e,this._beforeError=n,this._observers=[],this.onError(e)}return t.prototype.subscribe=function(t){n(t,t.onError,this._error),this._observers.push(t)},t.prototype.onError=function(t){var e=this;Promise.resolve(n(this,this._beforeError,t)).then(function(){return e._observers.forEach(function(e){return n(e,e.onError,t)})})},t.prototype.cancel=function(){},t.prototype.prepareToHandleSingleResponse=function(){},t.prototype.markCompleted=function(){},t}()},8549:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(9732)),u=i(n(7212)),c=n(4096).internal.constants.BOLT_PROTOCOL_V2;e.default=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),e.prototype._createPacker=function(t){return new u.default.Packer(t)},e.prototype._createUnpacker=function(t,e){return new u.default.Unpacker(t,e)},Object.defineProperty(e.prototype,"version",{get:function(){return c},enumerable:!1,configurable:!0}),e}(s.default)},8642:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.Stats=e.QueryStatistics=e.ProfiledPlan=e.Plan=e.Notification=e.ServerInfo=e.queryType=void 0;var s=i(n(1154)),u=function(){function t(t,e,n,r){this.query={text:t,parameters:e},this.queryType=n.type,this.counters=new l(n.stats||{}),this.updateStatistics=this.counters,this.plan=(!!n.plan||!!n.profile)&&new c(n.plan||n.profile),this.profile=!!n.profile&&new a(n.profile),this.notifications=this._buildNotifications(n.notifications),this.server=new h(n.server,r),this.resultConsumedAfter=n.result_consumed_after,this.resultAvailableAfter=n.result_available_after,this.database={name:n.db||null}}return t.prototype._buildNotifications=function(t){return t?t.map(function(t){return new f(t)}):[]},t.prototype.hasPlan=function(){return this.plan instanceof c},t.prototype.hasProfile=function(){return this.profile instanceof a},t}(),c=function t(e){this.operatorType=e.operatorType,this.identifiers=e.identifiers,this.arguments=e.args,this.children=e.children?e.children.map(function(e){return new t(e)}):[]};e.Plan=c;var a=function(){function t(e){this.operatorType=e.operatorType,this.identifiers=e.identifiers,this.arguments=e.args,this.dbHits=d("dbHits",e),this.rows=d("rows",e),this.pageCacheMisses=d("pageCacheMisses",e),this.pageCacheHits=d("pageCacheHits",e),this.pageCacheHitRatio=d("pageCacheHitRatio",e),this.time=d("time",e),this.children=e.children?e.children.map(function(e){return new t(e)}):[]}return t.prototype.hasPageCacheStats=function(){return this.pageCacheMisses>0||this.pageCacheHits>0||this.pageCacheHitRatio>0},t}();e.ProfiledPlan=a,e.Stats=function(){this.nodesCreated=0,this.nodesDeleted=0,this.relationshipsCreated=0,this.relationshipsDeleted=0,this.propertiesSet=0,this.labelsAdded=0,this.labelsRemoved=0,this.indexesAdded=0,this.indexesRemoved=0,this.constraintsAdded=0,this.constraintsRemoved=0};var l=function(){function t(t){var e=this;this._stats={nodesCreated:0,nodesDeleted:0,relationshipsCreated:0,relationshipsDeleted:0,propertiesSet:0,labelsAdded:0,labelsRemoved:0,indexesAdded:0,indexesRemoved:0,constraintsAdded:0,constraintsRemoved:0},this._systemUpdates=0,Object.keys(t).forEach(function(n){var r=n.replace(/(-\w)/g,function(t){return t[1].toUpperCase()});r in e._stats?e._stats[r]=p(t[n]):"systemUpdates"===r?e._systemUpdates=p(t[n]):"containsSystemUpdates"===r?e._containsSystemUpdates=t[n]:"containsUpdates"===r&&(e._containsUpdates=t[n])}),this._stats=Object.freeze(this._stats)}return t.prototype.containsUpdates=function(){var t=this;return void 0!==this._containsUpdates?this._containsUpdates:Object.keys(this._stats).reduce(function(e,n){return e+t._stats[n]},0)>0},t.prototype.updates=function(){return this._stats},t.prototype.containsSystemUpdates=function(){return void 0!==this._containsSystemUpdates?this._containsSystemUpdates:this._systemUpdates>0},t.prototype.systemUpdates=function(){return this._systemUpdates},t}();e.QueryStatistics=l;var f=function(){function t(e){this.code=e.code,this.title=e.title,this.description=e.description,this.severity=e.severity,this.position=t._constructPosition(e.position)}return t._constructPosition=function(t){return t?{offset:p(t.offset),line:p(t.line),column:p(t.column)}:{}},t}();e.Notification=f;var h=function(t,e){t&&(this.address=t.address,this.version=t.version,this.agent=t.version),this.protocolVersion=e};function p(t){return t instanceof s.default?t.toInt():"bigint"==typeof t?(0,s.int)(t).toInt():t}function d(t,e,n){return(void 0===n&&(n=0),t in e)?p(e[t]):n}e.ServerInfo=h,e.queryType={READ_ONLY:"r",READ_WRITE:"rw",WRITE_ONLY:"w",SCHEMA_WRITE:"s"},e.default=u},8796:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(5729)),i=n(3714),s=n(4096),u=s.error.SERVICE_UNAVAILABLE;e.default=function(){function t(t){this._routingContext=t}return t.prototype.lookupRoutingTableOnRouter=function(t,e,n,r){var i=this;return t._acquireConnection(function(s){return i._requestRawRoutingTable(s,t,e,n,r).then(function(t){return t.isNull?null:o.default.fromRawRoutingTable(e,n,t)})})},t.prototype._requestRawRoutingTable=function(t,e,n,r,o){var c=this;return new Promise(function(a,l){t.protocol().requestRoutingInformation({routingContext:c._routingContext,databaseName:n,impersonatedUser:o,sessionContext:{bookmark:e._lastBookmark,mode:e._mode,database:e._database,afterComplete:e._onComplete},onCompleted:a,onError:function(t){"Neo.ClientError.Database.DatabaseNotFound"===t.code?l(t):"Neo.ClientError.Procedure.ProcedureNotFound"===t.code?l((0,s.newError)("Server at "+r.asHostPort()+" can't perform routing. Make sure you are connecting to a causal cluster",u)):a(i.RawRoutingTable.ofNull())}})})},t}()},8813:t=>{t.exports=function(t,e){if(!(t instanceof e))throw TypeError("Cannot call a class as a function")},t.exports.__esModule=!0,t.exports.default=t.exports},8957:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.HostNameResolver=e.Channel=void 0;var o=r(n(8071)),i=r(n(4845));e.Channel=o.default,e.HostNameResolver=i.default},8996:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__exportStar||function(t,e){for(var n in t)"default"===n||Object.prototype.hasOwnProperty.call(e,n)||r(e,t,n)};Object.defineProperty(e,"__esModule",{value:!0}),e.pool=e.packstream=e.channel=e.buf=e.bolt=e.loadBalancing=void 0,e.loadBalancing=i(n(9087)),e.bolt=i(n(3714)),e.buf=i(n(1294)),e.channel=i(n(3824)),e.packstream=i(n(7212)),e.pool=i(n(9319)),s(n(1773),e)},9087:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.LeastConnectedLoadBalancingStrategy=e.LoadBalancingStrategy=void 0,e.LoadBalancingStrategy=r(n(2063)).default;var o=r(n(9657));e.LeastConnectedLoadBalancingStrategy=o.default,e.default=o.default},9126:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(4185)),u=i(n(4777)),c=n(382),a=n(382),l=n(4096),f=l.internal.bookmark.Bookmark,h=l.internal.constants.BOLT_PROTOCOL_V4_3;e.default=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return o(e,t),Object.defineProperty(e.prototype,"version",{get:function(){return h},enumerable:!1,configurable:!0}),e.prototype.requestRoutingInformation=function(t){var e=t.routingContext,n=t.databaseName,r=t.sessionContext,o=t.onError,i=t.onCompleted,s=new c.RouteObserver({onProtocolError:this._onProtocolError,onError:o,onCompleted:i}),a=(void 0===r?{}:r).bookmark||f.empty();return this.write(u.default.route(void 0===e?{}:e,a.values(),void 0===n?null:n),s,!0),s},e.prototype.initialize=function(t){var e=this,n=void 0===t?{}:t,r=n.userAgent,o=n.authToken,i=n.onError,s=n.onComplete,c=new a.LoginObserver({onError:function(t){return e._onLoginError(t,i)},onCompleted:function(t){return void 0!==t.patch_bolt&&e._applyPatches(t.patch_bolt),e._onLoginCompleted(t,s)}});return this.write(u.default.hello(r,o,this._serversideRouting,["utc"]),c,!0),c},e.prototype._applyPatches=function(t){t.includes("utc")&&this._applyUtcPatch()},e.prototype._applyUtcPatch=function(){this._packer.useUtc=!0,this._unpacker.useUtc=!0},e}(s.default)},9168:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.objectUtil=e.retryStrategy=e.resolver=e.serverAddress=e.urlUtil=e.logger=e.connectivityVerifier=e.transactionExecutor=e.txConfig=e.connectionHolder=e.constants=e.bookmark=e.observer=e.temporalUtil=e.util=void 0,e.util=i(n(990)),e.temporalUtil=i(n(9745)),e.observer=i(n(8439)),e.bookmark=i(n(8174)),e.constants=i(n(2485)),e.connectionHolder=i(n(549)),e.txConfig=i(n(5405)),e.transactionExecutor=i(n(8200)),e.connectivityVerifier=i(n(2520)),e.logger=i(n(6346)),e.urlUtil=i(n(1522)),e.serverAddress=i(n(2568)),e.resolver=i(n(4603)),e.retryStrategy=i(n(6518)),e.objectUtil=i(n(2726))},9319:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e},s=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.DEFAULT_MAX_SIZE=e.DEFAULT_ACQUISITION_TIMEOUT=e.PoolConfig=e.Pool=void 0;var u=i(n(7616));e.PoolConfig=u.default,Object.defineProperty(e,"DEFAULT_ACQUISITION_TIMEOUT",{enumerable:!0,get:function(){return u.DEFAULT_ACQUISITION_TIMEOUT}}),Object.defineProperty(e,"DEFAULT_MAX_SIZE",{enumerable:!0,get:function(){return u.DEFAULT_MAX_SIZE}});var c=s(n(5441));e.Pool=c.default,e.default=c.default},9333:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(t){function e(e,n){var r=t.call(this,n)||this;return n&&(r._originalErrorHandler=e._errorHandler,e._errorHandler=r._errorHandler),r._delegate=e,r}return o(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._delegate.id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"databaseId",{get:function(){return this._delegate.databaseId},set:function(t){this._delegate.databaseId=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"server",{get:function(){return this._delegate.server},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"address",{get:function(){return this._delegate.address},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._delegate.version},set:function(t){this._delegate.version=t},enumerable:!1,configurable:!0}),e.prototype.isOpen=function(){return this._delegate.isOpen()},e.prototype.protocol=function(){return this._delegate.protocol()},e.prototype.connect=function(t,e){return this._delegate.connect(t,e)},e.prototype.write=function(t,e,n){return this._delegate.write(t,e,n)},e.prototype.resetAndFlush=function(){return this._delegate.resetAndFlush()},e.prototype.close=function(){return this._delegate.close()},e.prototype._release=function(){return this._originalErrorHandler&&(this._delegate._errorHandler=this._originalErrorHandler),this._delegate._release()},e}(i(n(4925)).default)},9530:(t,e,n)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(4096);function o(){}function i(t){return t}var s={onNext:o,onCompleted:o,onError:o};e.default=function(){function t(t){var e=void 0===t?{}:t,n=e.transformMetadata,r=e.log,s=e.observer;this._pendingObservers=[],this._log=r,this._transformMetadata=n||i,this._observer=Object.assign({onPendingObserversChange:o,onError:o,onFailure:o,onErrorApplyTransformation:i},s)}return Object.defineProperty(t.prototype,"currentFailure",{get:function(){return this._currentFailure},enumerable:!1,configurable:!0}),t.prototype.handleResponse=function(t){var e=t.fields[0];switch(t.signature){case 113:this._log.isDebugEnabled()&&this._log.debug("S: RECORD "+r.json.stringify(t)),this._currentObserver.onNext(e);break;case 112:this._log.isDebugEnabled()&&this._log.debug("S: SUCCESS "+r.json.stringify(t));try{var n=this._transformMetadata(e);this._currentObserver.onCompleted(n)}finally{this._updateCurrentObserver()}break;case 127:this._log.isDebugEnabled()&&this._log.debug("S: FAILURE "+r.json.stringify(t));try{var o=(0,r.newError)(e.message,e.code);this._currentFailure=this._observer.onErrorApplyTransformation(o),this._currentObserver.onError(this._currentFailure)}finally{this._updateCurrentObserver(),this._observer.onFailure(this._currentFailure)}break;case 126:this._log.isDebugEnabled()&&this._log.debug("S: IGNORED "+r.json.stringify(t));try{this._currentFailure&&this._currentObserver.onError?this._currentObserver.onError(this._currentFailure):this._currentObserver.onError&&this._currentObserver.onError((0,r.newError)("Ignored either because of an error or RESET"))}finally{this._updateCurrentObserver()}break;default:this._observer.onError((0,r.newError)("Unknown Bolt protocol message: "+t))}},t.prototype._updateCurrentObserver=function(){this._currentObserver=this._pendingObservers.shift(),this._observer.onPendingObserversChange(this._pendingObservers.length)},t.prototype._queueObserver=function(t){return(t=t||s).onCompleted=t.onCompleted||o,t.onError=t.onError||o,t.onNext=t.onNext||o,void 0===this._currentObserver?this._currentObserver=t:this._pendingObservers.push(t),this._observer.onPendingObserversChange(this._pendingObservers.length),!0},t.prototype._notifyErrorToObservers=function(t){for(this._currentObserver&&this._currentObserver.onError&&this._currentObserver.onError(t);this._pendingObservers.length>0;){var e=this._pendingObservers.shift();e&&e.onError&&e.onError(t)}},t.prototype.hasOngoingObservableRequests=function(){return null!=this._currentObserver||this._pendingObservers.length>0},t.prototype._resetFailure=function(){this._currentFailure=null},t}()},9657:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var s=i(n(6195));e.default=function(t){function e(e){var n=t.call(this)||this;return n._readersIndex=new s.default,n._writersIndex=new s.default,n._connectionPool=e,n}return o(e,t),e.prototype.selectReader=function(t){return this._select(t,this._readersIndex)},e.prototype.selectWriter=function(t){return this._select(t,this._writersIndex)},e.prototype._select=function(t,e){var n=t.length;if(0===n)return null;var r=e.next(n),o=r,i=null,s=Number.MAX_SAFE_INTEGER;do{var u=t[o],c=this._connectionPool.activeResourceCount(u);c<s&&(i=u,s=c),o===n-1?o=0:o++}while(o!==r);return i},e}(i(n(2063)).default)},9663:function(t,e,n){"use strict";var r,o=this&&this.__extends||(r=function(t,e){return(r=Object.setPrototypeOf||({__proto__:[]})instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])})(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),i=this&&this.__awaiter||function(t,e,n,r){return new(n||(n=Promise))(function(o,i){function s(t){try{c(r.next(t))}catch(t){i(t)}}function u(t){try{c(r.throw(t))}catch(t){i(t)}}function c(t){var e;t.done?o(t.value):((e=t.value)instanceof n?e:new n(function(t){t(e)})).then(s,u)}c((r=r.apply(t,e||[])).next())})},s=this&&this.__generator||function(t,e){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:u(0),throw:u(1),return:u(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function u(i){return function(u){var c=[i,u];if(n)throw TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&c[0]?r.return:c[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,c[1])).done)return o;switch(r=0,o&&(c=[2&c[0],o.value]),c[0]){case 0:case 1:o=c;break;case 4:return s.label++,{value:c[1],done:!1};case 5:s.label++,r=c[1],c=[0];continue;case 7:c=s.ops.pop(),s.trys.pop();continue;default:if(!(o=(o=s.trys).length>0&&o[o.length-1])&&(6===c[0]||2===c[0])){s=0;continue}if(3===c[0]&&(!o||c[1]>o[0]&&c[1]<o[3])){s.label=c[1];break}if(6===c[0]&&s.label<o[1]){s.label=o[1],o=c;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(c);break}o[2]&&s.ops.pop(),s.trys.pop();continue}c=e.call(t,s)}catch(t){c=[6,t],r=0}finally{n=o=0}if(5&c[0])throw c[1];return{value:c[0]?c[1]:void 0,done:!0}}}},u=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0}),e.createChannelConnection=void 0;var c=n(3824),a=n(4096),l=u(n(4925)),f=u(n(3714)),h=a.error.PROTOCOL_ERROR,p=a.internal.logger.Logger,d=0;e.createChannelConnection=function(t,e,n,r,o,i){void 0===o&&(o=null),void 0===i&&(i=function(t){return new c.Channel(t)});var s=i(new c.ChannelConfig(t,e,n.errorCode()));return f.default.handshake(s).then(function(i){var u=i.protocolVersion,a=i.consumeRemainingBuffer,l=new c.Chunker(s),h=new c.Dechunker,p=new b(s,n,t,r,e.disableLosslessIntegers,o,l,function(t){return f.default.create({version:u,channel:s,chunker:l,dechunker:h,disableLosslessIntegers:e.disableLosslessIntegers,useBigInt:e.useBigInt,serversideRouting:o,server:t.server,log:t.logger,observer:{onPendingObserversChange:t._handleOngoingRequestsNumberChange.bind(t),onError:t._handleFatalError.bind(t),onFailure:t._resetOnFailure.bind(t),onProtocolError:t._handleProtocolError.bind(t),onErrorApplyTransformation:function(e){return t.handleAndTransformError(e,t._address)}}})});return a(function(t){return h.write(t)}),p}).catch(function(t){return s.close().then(function(){throw t})})};var b=function(t){function e(e,n,r,o,i,s,u,c){void 0===i&&(i=!1),void 0===s&&(s=null);var a,l,f=t.call(this,n)||this;return f._id=d++,f._address=r,f._server={address:r.asHostPort()},f.creationTimestamp=Date.now(),f._disableLosslessIntegers=i,f._ch=e,f._chunker=u,a=f,f._log=new p((l=o)._level,function(t,e){return l._loggerFunction(t,a+" "+e)}),f._serversideRouting=s,f._dbConnectionId=null,f._protocol=c(f),f._isBroken=!1,f._log.isDebugEnabled()&&f._log.debug("created towards "+r),f}return o(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"databaseId",{get:function(){return this._dbConnectionId},set:function(t){this._dbConnectionId=t},enumerable:!1,configurable:!0}),e.prototype.connect=function(t,e){return this._initialize(t,e)},e.prototype._initialize=function(t,e){var n=this,r=this;return new Promise(function(o,i){n._protocol.initialize({userAgent:t,authToken:e,onError:function(t){return i(t)},onComplete:function(t){if(t){var e=t.server;(!n.version||e)&&(n.version=e);var i=t.connection_id;if(n.databaseId||(n.databaseId=i),t.hints){var s=t.hints["connection.recv_timeout_seconds"];if(null!=s){var u=(0,a.toNumber)(s);Number.isInteger(u)&&u>0?n._ch.setupReceiveTimeout(1e3*u):n._log.info("Server located at "+n._address+" supplied an invalid connection receive timeout value ("+u+"). Please, verify the server configuration and status because this can be the symptom of a bigger issue.")}}}o(r)}})})},e.prototype.protocol=function(){return this._protocol},Object.defineProperty(e.prototype,"address",{get:function(){return this._address},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"version",{get:function(){return this._server.version},set:function(t){this._server.version=t},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"server",{get:function(){return this._server},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"logger",{get:function(){return this._log},enumerable:!1,configurable:!0}),e.prototype._handleFatalError=function(t){this._isBroken=!0,this._error=this.handleAndTransformError(this._protocol.currentFailure||t,this._address),this._log.isErrorEnabled()&&this._log.error("experienced a fatal error caused by "+this._error+" ("+a.json.stringify(this._error)+")"),this._protocol.notifyFatalError(this._error)},e.prototype._queueObserver=function(t){return this._protocol.queueObserverIfProtocolIsNotBroken(t)},e.prototype.hasOngoingObservableRequests=function(){return this._protocol.hasOngoingObservableRequests()},e.prototype.resetAndFlush=function(){var t=this;return new Promise(function(e,n){t._protocol.reset({onError:function(e){t._isBroken?n(e):n(t._handleProtocolError("Received FAILURE as a response for RESET: "+e))},onComplete:function(){e()}})})},e.prototype._resetOnFailure=function(){var t=this;this.isOpen()&&this._protocol.reset({onError:function(){t._protocol.resetFailure()},onComplete:function(){t._protocol.resetFailure()}})},e.prototype._updateCurrentObserver=function(){this._protocol.updateCurrentObserver()},e.prototype.isOpen=function(){return!this._isBroken&&this._ch._open},e.prototype._handleOngoingRequestsNumberChange=function(t){0===t?this._ch.stopReceiveTimeout():this._ch.startReceiveTimeout()},e.prototype.close=function(){return i(this,void 0,void 0,function(){return s(this,function(t){switch(t.label){case 0:return this._log.isDebugEnabled()&&this._log.debug("closing"),this._protocol&&this.isOpen()&&this._protocol.prepareToClose(),[4,this._ch.close()];case 1:return t.sent(),this._log.isDebugEnabled()&&this._log.debug("closed"),[2]}})})},e.prototype.toString=function(){return"Connection ["+this.id+"]["+(this.databaseId||"")+"]"},e.prototype._handleProtocolError=function(t){this._protocol.resetFailure(),this._updateCurrentObserver();var e=(0,a.newError)(t,h);return this._handleFatalError(e),e},e}(l.default);e.default=b},9710:(t,e)=>{"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(){function t(){this.id="",this.databaseId=""}return t.prototype.isOpen=function(){return!1},t.prototype.protocol=function(){throw Error("Not implemented")},t.prototype.connect=function(t,e){throw Error("Not implemented")},t.prototype.write=function(t,e,n){throw Error("Not implemented")},t.prototype.resetAndFlush=function(){throw Error("Not implemented")},t.prototype.close=function(){throw Error("Not implemented")},t.prototype._release=function(){return Promise.resolve()},t}()},9719:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=r(n(8642)),i=n(9168),s=i.connectionHolder.EMPTY_CONNECTION_HOLDER,u=function(t){console.log("Uncaught error when processing result: "+t)},c=function(t){};e.default=function(){function t(t,e,n,r){var o;this._stack=(o=Error("")).stack?o.stack.replace(/^Error(\n\r)*/,""):null,this._streamObserverPromise=t,this._p=null,this._query=e,this._parameters=n||{},this._connectionHolder=r||s}return t.prototype.keys=function(){var t=this;return new Promise(function(e,n){t._streamObserverPromise.then(function(t){return t.subscribe({onKeys:function(t){return e(t)},onError:function(t){return n(t)}})}).catch(n)})},t.prototype.summary=function(){var t=this;return new Promise(function(e,n){t._streamObserverPromise.then(function(r){r.cancel(),r.subscribe({onCompleted:function(r){return t._createSummary(r).then(e,n)},onError:function(t){return n(t)}})}).catch(n)})},t.prototype._getOrCreatePromise=function(){var t=this;return this._p||(this._p=new Promise(function(e,n){var r=[];t.subscribe({onNext:function(t){r.push(t)},onCompleted:function(t){e({records:r,summary:t})},onError:function(t){n(t)}})})),this._p},t.prototype.then=function(t,e){return this._getOrCreatePromise().then(t,e)},t.prototype.catch=function(t){return this._getOrCreatePromise().catch(t)},t.prototype.finally=function(t){return this._getOrCreatePromise().finally(t)},t.prototype.subscribe=function(t){var e=this,n=t.onCompleted||c;t.onCompleted=function(r){e._createSummary(r).then(function(e){return n.call(t,e)})};var r=t.onError||u;t.onError=function(n){e._connectionHolder.releaseConnection().then(function(){var o,i;o=n,(i=e._stack)&&(o.stack=o.toString()+"\n"+i),r.call(t,n)})},this._streamObserverPromise.then(function(e){return e.subscribe(t)}).catch(function(e){return t.onError(e)})},t.prototype._cancel=function(){this._streamObserverPromise.then(function(t){return t.cancel()})},t.prototype._createSummary=function(t){var e=i.util.validateQueryAndParameters(this._query,this._parameters,{skipAsserts:!0}),n=e.validatedQuery,r=e.params,s=this._connectionHolder;return s.getConnection().then(function(t){return s.releaseConnection().then(function(){return t?t.protocol().version:void 0})},function(t){}).then(function(e){return new o.default(n,r,t,e)})},t}()},9732:function(t,e,n){"use strict";var r=this&&this.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(e,"__esModule",{value:!0});var o=n(3793),i=n(7212),s=r(n(4777)),u=n(382),c=n(4096),a=c.internal.bookmark.Bookmark,l=c.internal.constants,f=l.ACCESS_MODE_WRITE,h=l.BOLT_PROTOCOL_V1,p=(c.internal.logger.Logger,c.internal.txConfig.TxConfig);e.default=function(){function t(t,e,n,r,o,i){var s=void 0===n?{}:n,u=s.disableLosslessIntegers,c=s.useBigInt;void 0===r&&(r=function(){return null}),this._server=t||{},this._chunker=e,this._packer=this._createPacker(e),this._unpacker=this._createUnpacker(u,c),this._responseHandler=r(this),this._log=o,this._onProtocolError=i,this._fatalError=null}return Object.defineProperty(t.prototype,"version",{get:function(){return h},enumerable:!1,configurable:!0}),t.prototype.packer=function(){return this._packer},t.prototype.unpacker=function(){return this._unpacker},t.prototype.transformMetadata=function(t){return t},t.prototype.initialize=function(t){var e=this,n=void 0===t?{}:t,r=n.userAgent,o=n.authToken,i=n.onError,c=n.onComplete,a=new u.LoginObserver({onError:function(t){return e._onLoginError(t,i)},onCompleted:function(t){return e._onLoginCompleted(t,c)}});return this.write(s.default.init(r,o),a,!0),a},t.prototype.prepareToClose=function(){},t.prototype.beginTransaction=function(t){var e=void 0===t?{}:t,n=e.bookmark,r=e.txConfig,o=e.database,i=e.mode,s=e.impersonatedUser,u=e.beforeError,c=e.afterError,a=e.beforeComplete,l=e.afterComplete;return this.run("BEGIN",n?n.asBeginTransactionParameters():{},{bookmark:n,txConfig:r,database:o,mode:i,impersonatedUser:s,beforeError:u,afterError:c,beforeComplete:a,afterComplete:l,flush:!1})},t.prototype.commitTransaction=function(t){var e=void 0===t?{}:t,n=e.beforeError,r=e.afterError,o=e.beforeComplete,i=e.afterComplete;return this.run("COMMIT",{},{bookmark:a.empty(),txConfig:p.empty(),mode:f,beforeError:n,afterError:r,beforeComplete:o,afterComplete:i})},t.prototype.rollbackTransaction=function(t){var e=void 0===t?{}:t,n=e.beforeError,r=e.afterError,o=e.beforeComplete,i=e.afterComplete;return this.run("ROLLBACK",{},{bookmark:a.empty(),txConfig:p.empty(),mode:f,beforeError:n,afterError:r,beforeComplete:o,afterComplete:i})},t.prototype.run=function(t,e,n){var r=void 0===n?{}:n,i=(r.bookmark,r.txConfig),c=r.database,a=(r.mode,r.impersonatedUser),l=r.beforeKeys,f=r.afterKeys,h=r.beforeError,p=r.afterError,d=r.beforeComplete,b=r.afterComplete,v=r.flush,_=new u.ResultStreamObserver({server:this._server,beforeKeys:l,afterKeys:f,beforeError:h,afterError:p,beforeComplete:d,afterComplete:b});return(0,o.assertTxConfigIsEmpty)(i,this._onProtocolError,_),(0,o.assertDatabaseIsEmpty)(c,this._onProtocolError,_),(0,o.assertImpersonatedUserIsEmpty)(a,this._onProtocolError,_),this.write(s.default.run(t,e),_,!1),this.write(s.default.pullAll(),_,void 0===v||v),_},Object.defineProperty(t.prototype,"currentFailure",{get:function(){return this._responseHandler.currentFailure},enumerable:!1,configurable:!0}),t.prototype.reset=function(t){var e=void 0===t?{}:t,n=e.onError,r=e.onComplete,o=new u.ResetObserver({onProtocolError:this._onProtocolError,onError:n,onComplete:r});return this.write(s.default.reset(),o,!0),o},t.prototype._createPacker=function(t){return new i.v1.Packer(t)},t.prototype._createUnpacker=function(t,e){return new i.v1.Unpacker(t,e)},t.prototype.write=function(t,e,n){var r=this;this.queueObserverIfProtocolIsNotBroken(e)&&(this._log.isDebugEnabled()&&this._log.debug("C: "+t),this.packer().packStruct(t.signature,t.fields.map(function(t){return r.packer().packable(t)})),this._chunker.messageBoundary(),n&&this._chunker.flush())},t.prototype.notifyFatalError=function(t){return this._fatalError=t,this._responseHandler._notifyErrorToObservers(t)},t.prototype.updateCurrentObserver=function(){return this._responseHandler._updateCurrentObserver()},t.prototype.hasOngoingObservableRequests=function(){return this._responseHandler.hasOngoingObservableRequests()},t.prototype.queueObserverIfProtocolIsNotBroken=function(t){return this.isBroken()?(this.notifyFatalErrorToObserver(t),!1):this._responseHandler._queueObserver(t)},t.prototype.isBroken=function(){return!!this._fatalError},t.prototype.notifyFatalErrorToObserver=function(t){t&&t.onError&&t.onError(this._fatalError)},t.prototype.resetFailure=function(){this._responseHandler._resetFailure()},t.prototype._onLoginCompleted=function(t,e){if(t){var n=t.server;this._server.version||(this._server.version=n)}e&&e(t)},t.prototype._onLoginError=function(t,e){this._onProtocolError(t.message),e&&e(t)},t}()},9745:function(t,e,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(t,e,n,r){void 0===r&&(r=n),Object.defineProperty(t,r,{enumerable:!0,get:function(){return e[n]}})}:function(t,e,n,r){void 0===r&&(r=n),t[r]=e[n]}),o=this&&this.__setModuleDefault||(Object.create?function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}:function(t,e){t.default=e}),i=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)"default"!==n&&Object.prototype.hasOwnProperty.call(t,n)&&r(e,t,n);return o(e,t),e};Object.defineProperty(e,"__esModule",{value:!0}),e.floorMod=e.floorDiv=e.assertValidZoneId=e.assertValidNanosecond=e.assertValidSecond=e.assertValidMinute=e.assertValidHour=e.assertValidDay=e.assertValidMonth=e.assertValidYear=e.timeZoneOffsetInSeconds=e.totalNanoseconds=e.newDate=e.toStandardDate=e.isoStringToStandardDate=e.dateToIsoString=e.timeZoneOffsetToIsoString=e.timeToIsoString=e.durationToIsoString=e.dateToEpochDay=e.localDateTimeToEpochSecond=e.localTimeToNanoOfDay=e.normalizeNanosecondsForDuration=e.normalizeSecondsForDuration=e.SECONDS_PER_DAY=e.DAYS_PER_400_YEAR_CYCLE=e.DAYS_0000_TO_1970=e.NANOS_PER_HOUR=e.NANOS_PER_MINUTE=e.NANOS_PER_MILLISECOND=e.NANOS_PER_SECOND=e.SECONDS_PER_HOUR=e.SECONDS_PER_MINUTE=e.MINUTES_PER_HOUR=e.NANOSECOND_OF_SECOND_RANGE=e.SECOND_OF_MINUTE_RANGE=e.MINUTE_OF_HOUR_RANGE=e.HOUR_OF_DAY_RANGE=e.DAY_OF_MONTH_RANGE=e.MONTH_OF_YEAR_RANGE=e.YEAR_RANGE=void 0;var s=i(n(1154)),u=n(5849),c=n(990),a=function(){function t(t,e){this._minNumber=t,this._maxNumber=e,this._minInteger=(0,s.int)(t),this._maxInteger=(0,s.int)(e)}return t.prototype.contains=function(t){if((0,s.isInt)(t)&&t instanceof s.default)return t.greaterThanOrEqual(this._minInteger)&&t.lessThanOrEqual(this._maxInteger);if("bigint"!=typeof t)return t>=this._minNumber&&t<=this._maxNumber;var e=(0,s.int)(t);return e.greaterThanOrEqual(this._minInteger)&&e.lessThanOrEqual(this._maxInteger)},t.prototype.toString=function(){return"["+this._minNumber+", "+this._maxNumber+"]"},t}();function l(t,n,r){t=(0,s.int)(t),n=(0,s.int)(n),r=(0,s.int)(r);var o,i=t.multiply(365);return i=(i=(i=t.greaterThanOrEqual(0)?i.add(t.add(3).div(4).subtract(t.add(99).div(100)).add(t.add(399).div(400))):i.subtract(t.div(-4).subtract(t.div(-100)).add(t.div(-400)))).add(n.multiply(367).subtract(362).div(12))).add(r.subtract(1)),n.greaterThan(2)&&(i=i.subtract(1),o=t,(o=(0,s.int)(o)).modulo(4).equals(0)&&(!o.modulo(100).equals(0)||o.modulo(400).equals(0)&&1)||(i=i.subtract(1))),i.subtract(e.DAYS_0000_TO_1970)}function f(t,e,n){if((0,c.assertNumberOrInteger)(t,n),!e.contains(t))throw(0,u.newError)(n+" is expected to be in range "+e+" but was: "+t);return t}function h(t,e){t=(0,s.int)(t),e=(0,s.int)(e);var n=t.div(e);return t.isPositive()!==e.isPositive()&&n.multiply(e).notEquals(t)&&(n=n.subtract(1)),n}function p(t,e){return t=(0,s.int)(t),e=(0,s.int)(e),t.subtract(h(t,e).multiply(e))}function d(t){return(t=(0,s.int)(t)).equals(0)?"":"."+b(t,9)}function b(t,e,n){var r=(t=(0,s.int)(t)).isNegative();r&&(t=t.negate());var o=t.toString();if(e)for(;o.length<e;)o="0"+o;return r?"-"+o:(null==n?void 0:n.usePositiveSign)===!0?"+"+o:o}e.YEAR_RANGE=new a(-0x3b9ac9ff,0x3b9ac9ff),e.MONTH_OF_YEAR_RANGE=new a(1,12),e.DAY_OF_MONTH_RANGE=new a(1,31),e.HOUR_OF_DAY_RANGE=new a(0,23),e.MINUTE_OF_HOUR_RANGE=new a(0,59),e.SECOND_OF_MINUTE_RANGE=new a(0,59),e.NANOSECOND_OF_SECOND_RANGE=new a(0,0x3b9ac9ff),e.MINUTES_PER_HOUR=60,e.SECONDS_PER_MINUTE=60,e.SECONDS_PER_HOUR=e.SECONDS_PER_MINUTE*e.MINUTES_PER_HOUR,e.NANOS_PER_SECOND=1e9,e.NANOS_PER_MILLISECOND=1e6,e.NANOS_PER_MINUTE=e.NANOS_PER_SECOND*e.SECONDS_PER_MINUTE,e.NANOS_PER_HOUR=e.NANOS_PER_MINUTE*e.MINUTES_PER_HOUR,e.DAYS_0000_TO_1970=719528,e.DAYS_PER_400_YEAR_CYCLE=146097,e.SECONDS_PER_DAY=86400,e.normalizeSecondsForDuration=function(t,n){return(0,s.int)(t).add(h(n,e.NANOS_PER_SECOND))},e.normalizeNanosecondsForDuration=function(t){return p(t,e.NANOS_PER_SECOND)},e.localTimeToNanoOfDay=function(t,n,r,o){t=(0,s.int)(t),n=(0,s.int)(n),r=(0,s.int)(r),o=(0,s.int)(o);var i=t.multiply(e.NANOS_PER_HOUR);return(i=(i=i.add(n.multiply(e.NANOS_PER_MINUTE))).add(r.multiply(e.NANOS_PER_SECOND))).add(o)},e.localDateTimeToEpochSecond=function(t,n,r,o,i,u,c){var a,f,h,p,d=l(t,n,r),b=(a=o,f=i,h=u,a=(0,s.int)(a),f=(0,s.int)(f),h=(0,s.int)(h),(p=(p=a.multiply(e.SECONDS_PER_HOUR)).add(f.multiply(e.SECONDS_PER_MINUTE))).add(h));return d.multiply(e.SECONDS_PER_DAY).add(b)},e.dateToEpochDay=l,e.durationToIsoString=function(t,n,r,o){var i,u,c,a,l,f;return"P"+b(t)+"M"+b(n)+"DT"+(i=r,u=o,i=(0,s.int)(i),u=(0,s.int)(u),l=i.isNegative(),f=u.greaterThan(0),c=l&&f?i.equals(-1)?"-0":i.add(1).toString():i.toString(),f&&(a=l?d(u.negate().add(2*e.NANOS_PER_SECOND).modulo(e.NANOS_PER_SECOND)):d(u.add(e.NANOS_PER_SECOND).modulo(e.NANOS_PER_SECOND))),a?c+a:c)+"S"},e.timeToIsoString=function(t,e,n,r){return b(t,2)+":"+b(e,2)+":"+b(n,2)+d(r)},e.timeZoneOffsetToIsoString=function(t){if((t=(0,s.int)(t)).equals(0))return"Z";var n=t.isNegative();n&&(t=t.multiply(-1));var r=n?"-":"+",o=b(t.div(e.SECONDS_PER_HOUR),2),i=b(t.div(e.SECONDS_PER_MINUTE).modulo(e.MINUTES_PER_HOUR),2),u=t.modulo(e.SECONDS_PER_MINUTE),c=u.equals(0)?null:b(u,2);return c?""+r+o+":"+i+":"+c:""+r+o+":"+i},e.dateToIsoString=function(t,e,n){var r,o;return r=t,((o=(0,s.int)(r)).isNegative()||o.greaterThan(9999)?b(o,6,{usePositiveSign:!0}):b(o,4))+"-"+b(e,2)+"-"+b(n,2)},e.isoStringToStandardDate=function(t){return new Date(t)},e.toStandardDate=function(t){return new Date(t)},e.newDate=function(t){return new Date(t)},e.totalNanoseconds=function(t,n){var r,o;return r=n=n||0,o=t.getMilliseconds()*e.NANOS_PER_MILLISECOND,r instanceof s.default?r.add(o):"bigint"==typeof r?r+BigInt(o):r+o},e.timeZoneOffsetInSeconds=function(t){var n=t.getSeconds()>=t.getUTCSeconds()?t.getSeconds()-t.getUTCSeconds():t.getSeconds()-t.getUTCSeconds()+60,r=t.getTimezoneOffset();return 0===r?0+n:-1*r*e.SECONDS_PER_MINUTE+n},e.assertValidYear=function(t){return f(t,e.YEAR_RANGE,"Year")},e.assertValidMonth=function(t){return f(t,e.MONTH_OF_YEAR_RANGE,"Month")},e.assertValidDay=function(t){return f(t,e.DAY_OF_MONTH_RANGE,"Day")},e.assertValidHour=function(t){return f(t,e.HOUR_OF_DAY_RANGE,"Hour")},e.assertValidMinute=function(t){return f(t,e.MINUTE_OF_HOUR_RANGE,"Minute")},e.assertValidSecond=function(t){return f(t,e.SECOND_OF_MINUTE_RANGE,"Second")},e.assertValidNanosecond=function(t){return f(t,e.NANOSECOND_OF_SECOND_RANGE,"Nanosecond")},e.assertValidZoneId=function(t,e){try{Intl.DateTimeFormat(void 0,{timeZone:e})}catch(n){throw(0,u.newError)(t+' is expected to be a valid ZoneId but was: "'+e+'"')}},e.floorDiv=h,e.floorMod=p}};