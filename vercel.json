{
    "version": 2,
    "builds": [
      {
        "src": "src/app/api/**/*.ts",
        "use": "@vercel/node",
        "config": {
          "maxDuration": 10,
          "memory": 1024
        }
      }
    ],
    "env": {
      "NODE_VERSION": "20.x"
    },
    "crons": [
      {
        "path": "/api/worker",
        "schedule": "*/10 * * * *"
      }
    ], 
    "routes": [
      {
        "src": "/",
        "dest": "/src/app/api/story/webhook/route.ts",
        "methods": ["POST"]
      },
      {
        "src": "/api/worker",
        "dest": "/src/app/api/story/worker/route.ts",
        "methods": ["GET"],
        "headers": {
          "Cache-Control": "no-cache, no-store, must-revalidate",
          "x-vercel-protection": "true"
        }
      },
      {
        "src": "/api/story/[handle]",
        "dest": "/src/app/api/story/[handle]/route.ts",
        "methods": ["GET"]
      },
      {
        "src": "/api/docs/log-drain",
        "dest": "/src/app/api/docs/log-drain/route.ts",
        "methods": ["POST"],
        "headers": {
          "Cache-Control": "no-cache, no-store, must-revalidate",
          "x-vercel-protection": "false"
        }
      }
    ]
  }